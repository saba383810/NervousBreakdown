const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./codeMirrorModule-C2hYMRXZ.js","../codeMirrorModule.C3UTv-Ge.css"])))=>i.map(i=>d[i]);
var ff=Object.defineProperty;var df=(t,e,n)=>e in t?ff(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ve=(t,e,n)=>df(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function E(A,B,le){this.props=A,this.context=B,this.refs=S,this.updater=le||v}E.prototype.isReactComponent={},E.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=E.prototype;function N(A,B,le){this.props=A,this.context=B,this.refs=S,this.updater=le||v}var M=N.prototype=new C;M.constructor=N,T(M,E.prototype),M.isPureReactComponent=!0;var O=Array.isArray,$=Object.prototype.hasOwnProperty,F={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function D(A,B,le){var ae,he={},fe=null,ue=null;if(B!=null)for(ae in B.ref!==void 0&&(ue=B.ref),B.key!==void 0&&(fe=""+B.key),B)$.call(B,ae)&&!U.hasOwnProperty(ae)&&(he[ae]=B[ae]);var me=arguments.length-2;if(me===1)he.children=le;else if(1<me){for(var we=Array(me),Ve=0;Ve<me;Ve++)we[Ve]=arguments[Ve+2];he.children=we}if(A&&A.defaultProps)for(ae in me=A.defaultProps,me)he[ae]===void 0&&(he[ae]=me[ae]);return{$$typeof:t,type:A,key:fe,ref:ue,props:he,_owner:F.current}}function j(A,B){return{$$typeof:t,type:A.type,key:B,ref:A.ref,props:A.props,_owner:A._owner}}function W(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function H(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(le){return B[le]})}var P=/\/+/g;function G(A,B){return typeof A=="object"&&A!==null&&A.key!=null?H(""+A.key):B.toString(36)}function ce(A,B,le,ae,he){var fe=typeof A;(fe==="undefined"||fe==="boolean")&&(A=null);var ue=!1;if(A===null)ue=!0;else switch(fe){case"string":case"number":ue=!0;break;case"object":switch(A.$$typeof){case t:case e:ue=!0}}if(ue)return ue=A,he=he(ue),A=ae===""?"."+G(ue,0):ae,O(he)?(le="",A!=null&&(le=A.replace(P,"$&/")+"/"),ce(he,B,le,"",function(Ve){return Ve})):he!=null&&(W(he)&&(he=j(he,le+(!he.key||ue&&ue.key===he.key?"":(""+he.key).replace(P,"$&/")+"/")+A)),B.push(he)),1;if(ue=0,ae=ae===""?".":ae+":",O(A))for(var me=0;me<A.length;me++){fe=A[me];var we=ae+G(fe,me);ue+=ce(fe,B,le,we,he)}else if(we=x(A),typeof we=="function")for(A=we.call(A),me=0;!(fe=A.next()).done;)fe=fe.value,we=ae+G(fe,me++),ue+=ce(fe,B,le,we,he);else if(fe==="object")throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ue}function xe(A,B,le){if(A==null)return A;var ae=[],he=0;return ce(A,ae,"","",function(fe){return B.call(le,fe,he++)}),ae}function Ee(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(le){(A._status===0||A._status===-1)&&(A._status=1,A._result=le)},function(le){(A._status===0||A._status===-1)&&(A._status=2,A._result=le)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var de={current:null},Q={transition:null},ne={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:Q,ReactCurrentOwner:F};function J(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:xe,forEach:function(A,B,le){xe(A,function(){B.apply(this,arguments)},le)},count:function(A){var B=0;return xe(A,function(){B++}),B},toArray:function(A){return xe(A,function(B){return B})||[]},only:function(A){if(!W(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},react_production_min.Component=E,react_production_min.Fragment=n,react_production_min.Profiler=o,react_production_min.PureComponent=N,react_production_min.StrictMode=s,react_production_min.Suspense=d,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,react_production_min.act=J,react_production_min.cloneElement=function(A,B,le){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ae=T({},A.props),he=A.key,fe=A.ref,ue=A._owner;if(B!=null){if(B.ref!==void 0&&(fe=B.ref,ue=F.current),B.key!==void 0&&(he=""+B.key),A.type&&A.type.defaultProps)var me=A.type.defaultProps;for(we in B)$.call(B,we)&&!U.hasOwnProperty(we)&&(ae[we]=B[we]===void 0&&me!==void 0?me[we]:B[we])}var we=arguments.length-2;if(we===1)ae.children=le;else if(1<we){me=Array(we);for(var Ve=0;Ve<we;Ve++)me[Ve]=arguments[Ve+2];ae.children=me}return{$$typeof:t,type:A.type,key:he,ref:fe,props:ae,_owner:ue}},react_production_min.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:a,_context:A},A.Consumer=A},react_production_min.createElement=D,react_production_min.createFactory=function(A){var B=D.bind(null,A);return B.type=A,B},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(A){return{$$typeof:u,render:A}},react_production_min.isValidElement=W,react_production_min.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:Ee}},react_production_min.memo=function(A,B){return{$$typeof:p,type:A,compare:B===void 0?null:B}},react_production_min.startTransition=function(A){var B=Q.transition;Q.transition={};try{A()}finally{Q.transition=B}},react_production_min.unstable_act=J,react_production_min.useCallback=function(A,B){return de.current.useCallback(A,B)},react_production_min.useContext=function(A){return de.current.useContext(A)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(A){return de.current.useDeferredValue(A)},react_production_min.useEffect=function(A,B){return de.current.useEffect(A,B)},react_production_min.useId=function(){return de.current.useId()},react_production_min.useImperativeHandle=function(A,B,le){return de.current.useImperativeHandle(A,B,le)},react_production_min.useInsertionEffect=function(A,B){return de.current.useInsertionEffect(A,B)},react_production_min.useLayoutEffect=function(A,B){return de.current.useLayoutEffect(A,B)},react_production_min.useMemo=function(A,B){return de.current.useMemo(A,B)},react_production_min.useReducer=function(A,B,le){return de.current.useReducer(A,B,le)},react_production_min.useRef=function(A){return de.current.useRef(A)},react_production_min.useState=function(A){return de.current.useState(A)},react_production_min.useSyncExternalStore=function(A,B,le){return de.current.useSyncExternalStore(A,B,le)},react_production_min.useTransition=function(){return de.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,p){var g,y={},x=null,v=null;p!==void 0&&(x=""+p),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(v=d.ref);for(g in d)s.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:u,key:x,ref:v,props:y,_owner:o.current}}return reactJsxRuntime_production_min.Fragment=n,reactJsxRuntime_production_min.jsx=c,reactJsxRuntime_production_min.jsxs=c,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);function useAsyncMemo(t,e,n,s){const[o,a]=React.useState(n);return React.useEffect(()=>{let c=!1;return t().then(u=>{c||a(u)}),()=>{c=!0}},e),o}function useMeasure(){const t=React.useRef(null),[e,n]=React.useState(new DOMRect(0,0,10,10));return React.useLayoutEffect(()=>{const s=t.current;if(!s)return;const o=s.getBoundingClientRect();n(new DOMRect(0,0,o.width,o.height));const a=new ResizeObserver(c=>{const u=c[c.length-1];u&&u.contentRect&&n(u.contentRect)});return a.observe(s),()=>a.disconnect()},[t]),[e,t]}function msToString(t){if(t<0||!isFinite(t))return"-";if(t===0)return"0";if(t<1e3)return t.toFixed(0)+"ms";const e=t/1e3;if(e<60)return e.toFixed(1)+"s";const n=e/60;if(n<60)return n.toFixed(1)+"m";const s=n/60;return s<24?s.toFixed(1)+"h":(s/24).toFixed(1)+"d"}function bytesToString(t){if(t<0||!isFinite(t))return"-";if(t===0)return"0";if(t<1e3)return t.toFixed(0);const e=t/1024;if(e<1e3)return e.toFixed(1)+"K";const n=e/1024;return n<1e3?n.toFixed(1)+"M":(n/1024).toFixed(1)+"G"}function upperBound(t,e,n,s,o){let a=0,c=t.length;for(;a<c;){const u=a+c>>1;n(e,t[u])>=0?a=u+1:c=u}return c}function copy(t){const e=document.createElement("textarea");e.style.position="absolute",e.style.zIndex="-1000",e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()}function useSetting(t,e){t&&(e=settings.getObject(t,e));const[n,s]=React.useState(e),o=React.useCallback(a=>{t?settings.setObject(t,a):s(a)},[t,s]);return React.useEffect(()=>{if(t){const a=()=>s(settings.getObject(t,e));return settings.onChangeEmitter.addEventListener(t,a),()=>settings.onChangeEmitter.removeEventListener(t,a)}},[e,t]),[n,o]}class Settings{constructor(){this.onChangeEmitter=new EventTarget}getString(e,n){return localStorage[e]||n}setString(e,n){var s;localStorage[e]=n,this.onChangeEmitter.dispatchEvent(new Event(e)),(s=window.saveSettings)==null||s.call(window)}getObject(e,n){if(!localStorage[e])return n;try{return JSON.parse(localStorage[e])}catch{return n}}setObject(e,n){var s;localStorage[e]=JSON.stringify(n),this.onChangeEmitter.dispatchEvent(new Event(e)),(s=window.saveSettings)==null||s.call(window)}}const settings=new Settings;function clsx(...t){return t.filter(Boolean).join(" ")}function scrollIntoViewIfNeeded(t){t&&(t!=null&&t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded(!1):t==null||t.scrollIntoView())}const kControlCodesRe="\\u0000-\\u0020\\u007f-\\u009f",kWebLinkRe=new RegExp("(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|www\\.)[^\\s"+kControlCodesRe+'"]{2,}[^\\s'+kControlCodesRe+`"')}\\],:;.!?]`,"ug");function useFlash(){const[t,e]=React.useState(!1),n=React.useCallback(()=>{const s=[];return e(o=>(s.push(setTimeout(()=>e(!1),1e3)),o?(s.push(setTimeout(()=>e(!0),50)),!1):!0)),()=>s.forEach(clearTimeout)},[e]);return[t,n]}function applyTheme(){if(document.playwrightThemeInitialized)return;document.playwrightThemeInitialized=!0,document.defaultView.addEventListener("focus",n=>{n.target.document.nodeType===Node.DOCUMENT_NODE&&document.body.classList.remove("inactive")},!1),document.defaultView.addEventListener("blur",n=>{document.body.classList.add("inactive")},!1);const t=settings.getString("theme","light-mode"),e=window.matchMedia("(prefers-color-scheme: dark)");(t==="dark-mode"||e.matches)&&document.body.classList.add("dark-mode")}const listeners=new Set;function toggleTheme(){const t=currentTheme(),e=t==="dark-mode"?"light-mode":"dark-mode";t&&document.body.classList.remove(t),document.body.classList.add(e),settings.setString("theme",e);for(const n of listeners)n(e)}function addThemeListener(t){listeners.add(t)}function removeThemeListener(t){listeners.delete(t)}function currentTheme(){return document.body.classList.contains("dark-mode")?"dark-mode":"light-mode"}function useDarkModeSetting(){const[t,e]=React.useState(currentTheme()==="dark-mode");return[t,n=>{currentTheme()==="dark-mode"!==n&&toggleTheme(),e(n)}]}var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(t){function e(Q,ne){var J=Q.length;Q.push(ne);e:for(;0<J;){var A=J-1>>>1,B=Q[A];if(0<o(B,ne))Q[A]=ne,Q[J]=B,J=A;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ne=Q[0],J=Q.pop();if(J!==ne){Q[0]=J;e:for(var A=0,B=Q.length,le=B>>>1;A<le;){var ae=2*(A+1)-1,he=Q[ae],fe=ae+1,ue=Q[fe];if(0>o(he,J))fe<B&&0>o(ue,he)?(Q[A]=ue,Q[fe]=J,A=fe):(Q[A]=he,Q[ae]=J,A=ae);else if(fe<B&&0>o(ue,J))Q[A]=ue,Q[fe]=J,A=fe;else break e}}return ne}function o(Q,ne){var J=Q.sortIndex-ne.sortIndex;return J!==0?J:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],p=[],g=1,y=null,x=3,v=!1,T=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Q){for(var ne=n(p);ne!==null;){if(ne.callback===null)s(p);else if(ne.startTime<=Q)s(p),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=n(p)}}function O(Q){if(S=!1,M(Q),!T)if(n(d)!==null)T=!0,Ee($);else{var ne=n(p);ne!==null&&de(O,ne.startTime-Q)}}function $(Q,ne){T=!1,S&&(S=!1,C(D),D=-1),v=!0;var J=x;try{for(M(ne),y=n(d);y!==null&&(!(y.expirationTime>ne)||Q&&!H());){var A=y.callback;if(typeof A=="function"){y.callback=null,x=y.priorityLevel;var B=A(y.expirationTime<=ne);ne=t.unstable_now(),typeof B=="function"?y.callback=B:y===n(d)&&s(d),M(ne)}else s(d);y=n(d)}if(y!==null)var le=!0;else{var ae=n(p);ae!==null&&de(O,ae.startTime-ne),le=!1}return le}finally{y=null,x=J,v=!1}}var F=!1,U=null,D=-1,j=5,W=-1;function H(){return!(t.unstable_now()-W<j)}function P(){if(U!==null){var Q=t.unstable_now();W=Q;var ne=!0;try{ne=U(!0,Q)}finally{ne?G():(F=!1,U=null)}}else F=!1}var G;if(typeof N=="function")G=function(){N(P)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,xe=ce.port2;ce.port1.onmessage=P,G=function(){xe.postMessage(null)}}else G=function(){E(P,0)};function Ee(Q){U=Q,F||(F=!0,G())}function de(Q,ne){D=E(function(){Q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){T||v||(T=!0,Ee($))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var J=x;x=ne;try{return Q()}finally{x=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var J=x;x=Q;try{return ne()}finally{x=J}},t.unstable_scheduleCallback=function(Q,ne,J){var A=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?A+J:A):J=A,Q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,Q={id:g++,callback:ne,priorityLevel:Q,startTime:J,expirationTime:B,sortIndex:-1},J>A?(Q.sortIndex=J,e(p,Q),n(d)===null&&Q===n(p)&&(S?(C(D),D=-1):S=!0,de(O,J-A))):(Q.sortIndex=B,e(d,Q),T||v||(T=!0,Ee($))),Q},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(Q){var ne=x;return function(){var J=x;x=ne;try{return Q.apply(this,arguments)}finally{x=J}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),e=requireScheduler();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(r){return d.call(y,r)?!0:d.call(g,r)?!1:p.test(r)?y[r]=!0:(g[r]=!0,!1)}function v(r,i,l,f){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function T(r,i,l,f){if(i===null||typeof i>"u"||v(r,i,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(r,i,l,f,h,m,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=m,this.removeEmptyString=w}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){E[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];E[i]=new S(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){E[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){E[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){E[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){E[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){E[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){E[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){E[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(C,N);E[i]=new S(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(C,N);E[i]=new S(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(C,N);E[i]=new S(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){E[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){E[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function M(r,i,l,f){var h=E.hasOwnProperty(i)?E[i]:null;(h!==null?h.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(T(i,l,h,f)&&(l=null),f||h===null?x(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):h.mustUseProperty?r[h.propertyName]=l===null?h.type===3?!1:"":l:(i=h.attributeName,f=h.attributeNamespace,l===null?r.removeAttribute(i):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,f?r.setAttributeNS(f,i,l):r.setAttribute(i,l))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),F=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),H=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var J=Object.assign,A;function B(r){if(A===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);A=i&&i[1]||""}return`
`+A+r}var le=!1;function ae(r,i){if(!r||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(I){var f=I}Reflect.construct(r,[],i)}else{try{i.call()}catch(I){f=I}r.call(i.prototype)}else{try{throw Error()}catch(I){f=I}r()}}catch(I){if(I&&f&&typeof I.stack=="string"){for(var h=I.stack.split(`
`),m=f.stack.split(`
`),w=h.length-1,_=m.length-1;1<=w&&0<=_&&h[w]!==m[_];)_--;for(;1<=w&&0<=_;w--,_--)if(h[w]!==m[_]){if(w!==1||_!==1)do if(w--,_--,0>_||h[w]!==m[_]){var k=`
`+h[w].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=w&&0<=_);break}}}finally{le=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?B(r):""}function he(r){switch(r.tag){case 5:return B(r.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return r=ae(r.type,!1),r;case 11:return r=ae(r.type.render,!1),r;case 1:return r=ae(r.type,!0),r;default:return""}}function fe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case F:return"Portal";case j:return"Profiler";case D:return"StrictMode";case G:return"Suspense";case ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case H:return(r.displayName||"Context")+".Consumer";case W:return(r._context.displayName||"Context")+".Provider";case P:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case xe:return i=r.displayName||null,i!==null?i:fe(r.type)||"Memo";case Ee:i=r._payload,r=r._init;try{return fe(r(i))}catch{}}return null}function ue(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(i);case 8:return i===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function we(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ve(r){var i=we(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){f=""+w,m.call(this,w)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function jt(r){r._valueTracker||(r._valueTracker=Ve(r))}function Un(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),f="";return r&&(f=we(r)?r.checked?"true":"false":r.value),r=f,r!==l?(i.setValue(r),!0):!1}function Zt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function gt(r,i){var l=i.checked;return J({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Rr(r,i){var l=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;l=me(i.value!=null?i.value:l),r._wrapperState={initialChecked:f,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function jr(r,i){i=i.checked,i!=null&&M(r,"checked",i,!1)}function Vn(r,i){jr(r,i);var l=me(i.value),f=i.type;if(l!=null)f==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?mn(r,i.type,l):i.hasOwnProperty("defaultValue")&&mn(r,i.type,me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Lr(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function mn(r,i,l){(i!=="number"||Zt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Et=Array.isArray;function Lt(r,i,l,f){if(r=r.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<r.length;l++)h=i.hasOwnProperty("$"+r[l].value),r[l].selected!==h&&(r[l].selected=h),h&&f&&(r[l].defaultSelected=!0)}else{for(l=""+me(l),i=null,h=0;h<r.length;h++){if(r[h].value===l){r[h].selected=!0,f&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function qn(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ir(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Et(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:me(l)}}function It(r,i){var l=me(i.value),f=me(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),f!=null&&(r.defaultValue=""+f)}function gn(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function en(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hn(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?en(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var yn,Wn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,f,h){MSApp.execUnsafeLocalFunction(function(){return r(i,l,f,h)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(yn=yn||document.createElement("div"),yn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=yn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function ie(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(r){lt.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),We[i]=We[r]})});function Ro(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||We.hasOwnProperty(r)&&We[r]?(""+i).trim():i+"px"}function jo(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var f=l.indexOf("--")===0,h=Ro(l,i[l],f);l==="float"&&(l="cssFloat"),f?r.setProperty(l,h):r[l]=h}}var mc=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zs(r,i){if(i){if(mc[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Us(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=null;function qs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Hs=null,xn=null,vn=null;function Lo(r){if(r=pr(r)){if(typeof Hs!="function")throw Error(n(280));var i=r.stateNode;i&&(i=ns(i),Hs(r.stateNode,r.type,i))}}function Io(r){xn?vn?vn.push(r):vn=[r]:xn=r}function Mo(){if(xn){var r=xn,i=vn;if(vn=xn=null,Lo(r),i)for(r=0;r<i.length;r++)Lo(i[r])}}function Po(r,i){return r(i)}function Oo(){}var Ws=!1;function $o(r,i,l){if(Ws)return r(i,l);Ws=!0;try{return Po(r,i,l)}finally{Ws=!1,(xn!==null||vn!==null)&&(Oo(),Mo())}}function Kn(r,i){var l=r.stateNode;if(l===null)return null;var f=ns(l);if(f===null)return null;l=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Ks=!1;if(u)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Ks=!1}function gc(r,i,l,f,h,m,w,_,k){var I=Array.prototype.slice.call(arguments,3);try{i.apply(l,I)}catch(V){this.onError(V)}}var Gn=!1,Mr=null,Pr=!1,Qs=null,yc={onError:function(r){Gn=!0,Mr=r}};function xc(r,i,l,f,h,m,w,_,k){Gn=!1,Mr=null,gc.apply(yc,arguments)}function vc(r,i,l,f,h,m,w,_,k){if(xc.apply(this,arguments),Gn){if(Gn){var I=Mr;Gn=!1,Mr=null}else throw Error(n(198));Pr||(Pr=!0,Qs=I)}}function tn(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Do(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Fo(r){if(tn(r)!==r)throw Error(n(188))}function wc(r){var i=r.alternate;if(!i){if(i=tn(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,f=i;;){var h=l.return;if(h===null)break;var m=h.alternate;if(m===null){if(f=h.return,f!==null){l=f;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===l)return Fo(h),r;if(m===f)return Fo(h),i;m=m.sibling}throw Error(n(188))}if(l.return!==f.return)l=h,f=m;else{for(var w=!1,_=h.child;_;){if(_===l){w=!0,l=h,f=m;break}if(_===f){w=!0,f=h,l=m;break}_=_.sibling}if(!w){for(_=m.child;_;){if(_===l){w=!0,l=m,f=h;break}if(_===f){w=!0,f=m,l=h;break}_=_.sibling}if(!w)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function Bo(r){return r=wc(r),r!==null?zo(r):null}function zo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=zo(r);if(i!==null)return i;r=r.sibling}return null}var Uo=e.unstable_scheduleCallback,Vo=e.unstable_cancelCallback,Sc=e.unstable_shouldYield,Ec=e.unstable_requestPaint,Ae=e.unstable_now,Tc=e.unstable_getCurrentPriorityLevel,Gs=e.unstable_ImmediatePriority,qo=e.unstable_UserBlockingPriority,Or=e.unstable_NormalPriority,_c=e.unstable_LowPriority,Ho=e.unstable_IdlePriority,$r=null,yt=null;function kc(r){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot($r,r,void 0,(r.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Nc,bc=Math.log,Cc=Math.LN2;function Nc(r){return r>>>=0,r===0?32:31-(bc(r)/Cc|0)|0}var Dr=64,Fr=4194304;function Yn(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Br(r,i){var l=r.pendingLanes;if(l===0)return 0;var f=0,h=r.suspendedLanes,m=r.pingedLanes,w=l&268435455;if(w!==0){var _=w&~h;_!==0?f=Yn(_):(m&=w,m!==0&&(f=Yn(m)))}else w=l&~h,w!==0?f=Yn(w):m!==0&&(f=Yn(m));if(f===0)return 0;if(i!==0&&i!==f&&(i&h)===0&&(h=f&-f,m=i&-i,h>=m||h===16&&(m&4194240)!==0))return i;if((f&4)!==0&&(f|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=f;0<i;)l=31-ct(i),h=1<<l,f|=r[l],i&=~h;return f}function Ac(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rc(r,i){for(var l=r.suspendedLanes,f=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes;0<m;){var w=31-ct(m),_=1<<w,k=h[w];k===-1?((_&l)===0||(_&f)!==0)&&(h[w]=Ac(_,i)):k<=i&&(r.expiredLanes|=_),m&=~_}}function Ys(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Wo(){var r=Dr;return Dr<<=1,(Dr&4194240)===0&&(Dr=64),r}function Js(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Jn(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-ct(i),r[i]=l}function jc(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<l;){var h=31-ct(l),m=1<<h;i[h]=0,f[h]=-1,r[h]=-1,l&=~m}}function Xs(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var f=31-ct(l),h=1<<f;h&i|r[f]&i&&(r[f]|=i),l&=~h}}var ye=0;function Ko(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Qo,Zs,Go,Yo,Jo,ei=!1,zr=[],Mt=null,Pt=null,Ot=null,Xn=new Map,Zn=new Map,$t=[],Lc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xo(r,i){switch(r){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Xn.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(i.pointerId)}}function er(r,i,l,f,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:l,eventSystemFlags:f,nativeEvent:m,targetContainers:[h]},i!==null&&(i=pr(i),i!==null&&Zs(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function Ic(r,i,l,f,h){switch(i){case"focusin":return Mt=er(Mt,r,i,l,f,h),!0;case"dragenter":return Pt=er(Pt,r,i,l,f,h),!0;case"mouseover":return Ot=er(Ot,r,i,l,f,h),!0;case"pointerover":var m=h.pointerId;return Xn.set(m,er(Xn.get(m)||null,r,i,l,f,h)),!0;case"gotpointercapture":return m=h.pointerId,Zn.set(m,er(Zn.get(m)||null,r,i,l,f,h)),!0}return!1}function Zo(r){var i=nn(r.target);if(i!==null){var l=tn(i);if(l!==null){if(i=l.tag,i===13){if(i=Do(l),i!==null){r.blockedOn=i,Jo(r.priority,function(){Go(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ur(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=ni(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);Vs=f,l.target.dispatchEvent(f),Vs=null}else return i=pr(l),i!==null&&Zs(i),r.blockedOn=l,!1;i.shift()}return!0}function ea(r,i,l){Ur(r)&&l.delete(i)}function Mc(){ei=!1,Mt!==null&&Ur(Mt)&&(Mt=null),Pt!==null&&Ur(Pt)&&(Pt=null),Ot!==null&&Ur(Ot)&&(Ot=null),Xn.forEach(ea),Zn.forEach(ea)}function tr(r,i){r.blockedOn===i&&(r.blockedOn=null,ei||(ei=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mc)))}function nr(r){function i(h){return tr(h,r)}if(0<zr.length){tr(zr[0],r);for(var l=1;l<zr.length;l++){var f=zr[l];f.blockedOn===r&&(f.blockedOn=null)}}for(Mt!==null&&tr(Mt,r),Pt!==null&&tr(Pt,r),Ot!==null&&tr(Ot,r),Xn.forEach(i),Zn.forEach(i),l=0;l<$t.length;l++)f=$t[l],f.blockedOn===r&&(f.blockedOn=null);for(;0<$t.length&&(l=$t[0],l.blockedOn===null);)Zo(l),l.blockedOn===null&&$t.shift()}var wn=O.ReactCurrentBatchConfig,Vr=!0;function Pc(r,i,l,f){var h=ye,m=wn.transition;wn.transition=null;try{ye=1,ti(r,i,l,f)}finally{ye=h,wn.transition=m}}function Oc(r,i,l,f){var h=ye,m=wn.transition;wn.transition=null;try{ye=4,ti(r,i,l,f)}finally{ye=h,wn.transition=m}}function ti(r,i,l,f){if(Vr){var h=ni(r,i,l,f);if(h===null)vi(r,i,f,qr,l),Xo(r,f);else if(Ic(h,r,i,l,f))f.stopPropagation();else if(Xo(r,f),i&4&&-1<Lc.indexOf(r)){for(;h!==null;){var m=pr(h);if(m!==null&&Qo(m),m=ni(r,i,l,f),m===null&&vi(r,i,f,qr,l),m===h)break;h=m}h!==null&&f.stopPropagation()}else vi(r,i,f,null,l)}}var qr=null;function ni(r,i,l,f){if(qr=null,r=qs(f),r=nn(r),r!==null)if(i=tn(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Do(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return qr=r,null}function ta(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tc()){case Gs:return 1;case qo:return 4;case Or:case _c:return 16;case Ho:return 536870912;default:return 16}default:return 16}}var Dt=null,ri=null,Hr=null;function na(){if(Hr)return Hr;var r,i=ri,l=i.length,f,h="value"in Dt?Dt.value:Dt.textContent,m=h.length;for(r=0;r<l&&i[r]===h[r];r++);var w=l-r;for(f=1;f<=w&&i[l-f]===h[m-f];f++);return Hr=h.slice(r,1<f?1-f:void 0)}function Wr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Kr(){return!0}function ra(){return!1}function Xe(r){function i(l,f,h,m,w){this._reactName=l,this._targetInst=h,this.type=f,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var _ in r)r.hasOwnProperty(_)&&(l=r[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Kr:ra,this.isPropagationStopped=ra,this}return J(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),i}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Xe(Sn),rr=J({},Sn,{view:0,detail:0}),$c=Xe(rr),ii,oi,sr,Qr=J({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:li,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==sr&&(sr&&r.type==="mousemove"?(ii=r.screenX-sr.screenX,oi=r.screenY-sr.screenY):oi=ii=0,sr=r),ii)},movementY:function(r){return"movementY"in r?r.movementY:oi}}),sa=Xe(Qr),Dc=J({},Qr,{dataTransfer:0}),Fc=Xe(Dc),Bc=J({},rr,{relatedTarget:0}),ai=Xe(Bc),zc=J({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Uc=Xe(zc),Vc=J({},Sn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),qc=Xe(Vc),Hc=J({},Sn,{data:0}),ia=Xe(Hc),Wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Qc[r])?!!i[r]:!1}function li(){return Gc}var Yc=J({},rr,{key:function(r){if(r.key){var i=Wc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Wr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:li,charCode:function(r){return r.type==="keypress"?Wr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Jc=Xe(Yc),Xc=J({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oa=Xe(Xc),Zc=J({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:li}),eu=Xe(Zc),tu=J({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),nu=Xe(tu),ru=J({},Qr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),su=Xe(ru),iu=[9,13,27,32],ci=u&&"CompositionEvent"in window,ir=null;u&&"documentMode"in document&&(ir=document.documentMode);var ou=u&&"TextEvent"in window&&!ir,aa=u&&(!ci||ir&&8<ir&&11>=ir),la=" ",ca=!1;function ua(r,i){switch(r){case"keyup":return iu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var En=!1;function au(r,i){switch(r){case"compositionend":return fa(i);case"keypress":return i.which!==32?null:(ca=!0,la);case"textInput":return r=i.data,r===la&&ca?null:r;default:return null}}function lu(r,i){if(En)return r==="compositionend"||!ci&&ua(r,i)?(r=na(),Hr=ri=Dt=null,En=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return aa&&i.locale!=="ko"?null:i.data;default:return null}}var cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function da(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!cu[r.type]:i==="textarea"}function ha(r,i,l,f){Io(f),i=Zr(i,"onChange"),0<i.length&&(l=new si("onChange","change",null,l,f),r.push({event:l,listeners:i}))}var or=null,ar=null;function uu(r){ja(r,0)}function Gr(r){var i=Cn(r);if(Un(i))return r}function fu(r,i){if(r==="change")return i}var pa=!1;if(u){var ui;if(u){var fi="oninput"in document;if(!fi){var ma=document.createElement("div");ma.setAttribute("oninput","return;"),fi=typeof ma.oninput=="function"}ui=fi}else ui=!1;pa=ui&&(!document.documentMode||9<document.documentMode)}function ga(){or&&(or.detachEvent("onpropertychange",ya),ar=or=null)}function ya(r){if(r.propertyName==="value"&&Gr(ar)){var i=[];ha(i,ar,r,qs(r)),$o(uu,i)}}function du(r,i,l){r==="focusin"?(ga(),or=i,ar=l,or.attachEvent("onpropertychange",ya)):r==="focusout"&&ga()}function hu(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Gr(ar)}function pu(r,i){if(r==="click")return Gr(i)}function mu(r,i){if(r==="input"||r==="change")return Gr(i)}function gu(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var ut=typeof Object.is=="function"?Object.is:gu;function lr(r,i){if(ut(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),f=Object.keys(i);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var h=l[f];if(!d.call(i,h)||!ut(r[h],i[h]))return!1}return!0}function xa(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function va(r,i){var l=xa(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=i&&f>=i)return{node:l,offset:i-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xa(l)}}function wa(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?wa(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Sa(){for(var r=window,i=Zt();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Zt(r.document)}return i}function di(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function yu(r){var i=Sa(),l=r.focusedElem,f=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&wa(l.ownerDocument.documentElement,l)){if(f!==null&&di(l)){if(i=f.start,r=f.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var h=l.textContent.length,m=Math.min(f.start,h);f=f.end===void 0?m:Math.min(f.end,h),!r.extend&&m>f&&(h=f,f=m,m=h),h=va(l,m);var w=va(l,f);h&&w&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),r.removeAllRanges(),m>f?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var xu=u&&"documentMode"in document&&11>=document.documentMode,Tn=null,hi=null,cr=null,pi=!1;function Ea(r,i,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;pi||Tn==null||Tn!==Zt(f)||(f=Tn,"selectionStart"in f&&di(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cr&&lr(cr,f)||(cr=f,f=Zr(hi,"onSelect"),0<f.length&&(i=new si("onSelect","select",null,i,l),r.push({event:i,listeners:f}),i.target=Tn)))}function Yr(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var _n={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionend:Yr("Transition","TransitionEnd")},mi={},Ta={};u&&(Ta=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function Jr(r){if(mi[r])return mi[r];if(!_n[r])return r;var i=_n[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Ta)return mi[r]=i[l];return r}var _a=Jr("animationend"),ka=Jr("animationiteration"),ba=Jr("animationstart"),Ca=Jr("transitionend"),Na=new Map,Aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(r,i){Na.set(r,i),a(i,[r])}for(var gi=0;gi<Aa.length;gi++){var yi=Aa[gi],vu=yi.toLowerCase(),wu=yi[0].toUpperCase()+yi.slice(1);Ft(vu,"on"+wu)}Ft(_a,"onAnimationEnd"),Ft(ka,"onAnimationIteration"),Ft(ba,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Ca,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Su=new Set("cancel close invalid load scroll toggle".split(" ").concat(ur));function Ra(r,i,l){var f=r.type||"unknown-event";r.currentTarget=l,vc(f,i,void 0,r),r.currentTarget=null}function ja(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],h=f.event;f=f.listeners;e:{var m=void 0;if(i)for(var w=f.length-1;0<=w;w--){var _=f[w],k=_.instance,I=_.currentTarget;if(_=_.listener,k!==m&&h.isPropagationStopped())break e;Ra(h,_,I),m=k}else for(w=0;w<f.length;w++){if(_=f[w],k=_.instance,I=_.currentTarget,_=_.listener,k!==m&&h.isPropagationStopped())break e;Ra(h,_,I),m=k}}}if(Pr)throw r=Qs,Pr=!1,Qs=null,r}function Te(r,i){var l=i[ki];l===void 0&&(l=i[ki]=new Set);var f=r+"__bubble";l.has(f)||(La(i,r,2,!1),l.add(f))}function xi(r,i,l){var f=0;i&&(f|=4),La(l,r,f,i)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function fr(r){if(!r[Xr]){r[Xr]=!0,s.forEach(function(l){l!=="selectionchange"&&(Su.has(l)||xi(l,!1,r),xi(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Xr]||(i[Xr]=!0,xi("selectionchange",!1,i))}}function La(r,i,l,f){switch(ta(i)){case 1:var h=Pc;break;case 4:h=Oc;break;default:h=ti}l=h.bind(null,i,l,r),h=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),f?h!==void 0?r.addEventListener(i,l,{capture:!0,passive:h}):r.addEventListener(i,l,!0):h!==void 0?r.addEventListener(i,l,{passive:h}):r.addEventListener(i,l,!1)}function vi(r,i,l,f,h){var m=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var _=f.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(w===4)for(w=f.return;w!==null;){var k=w.tag;if((k===3||k===4)&&(k=w.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;w=w.return}for(;_!==null;){if(w=nn(_),w===null)return;if(k=w.tag,k===5||k===6){f=m=w;continue e}_=_.parentNode}}f=f.return}$o(function(){var I=m,V=qs(l),q=[];e:{var z=Na.get(r);if(z!==void 0){var Y=si,Z=r;switch(r){case"keypress":if(Wr(l)===0)break e;case"keydown":case"keyup":Y=Jc;break;case"focusin":Z="focus",Y=ai;break;case"focusout":Z="blur",Y=ai;break;case"beforeblur":case"afterblur":Y=ai;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=eu;break;case _a:case ka:case ba:Y=Uc;break;case Ca:Y=nu;break;case"scroll":Y=$c;break;case"wheel":Y=su;break;case"copy":case"cut":case"paste":Y=qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=oa}var ee=(i&4)!==0,Re=!ee&&r==="scroll",R=ee?z!==null?z+"Capture":null:z;ee=[];for(var b=I,L;b!==null;){L=b;var K=L.stateNode;if(L.tag===5&&K!==null&&(L=K,R!==null&&(K=Kn(b,R),K!=null&&ee.push(dr(b,K,L)))),Re)break;b=b.return}0<ee.length&&(z=new Y(z,Z,null,l,V),q.push({event:z,listeners:ee}))}}if((i&7)===0){e:{if(z=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",z&&l!==Vs&&(Z=l.relatedTarget||l.fromElement)&&(nn(Z)||Z[Tt]))break e;if((Y||z)&&(z=V.window===V?V:(z=V.ownerDocument)?z.defaultView||z.parentWindow:window,Y?(Z=l.relatedTarget||l.toElement,Y=I,Z=Z?nn(Z):null,Z!==null&&(Re=tn(Z),Z!==Re||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Y=null,Z=I),Y!==Z)){if(ee=sa,K="onMouseLeave",R="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(ee=oa,K="onPointerLeave",R="onPointerEnter",b="pointer"),Re=Y==null?z:Cn(Y),L=Z==null?z:Cn(Z),z=new ee(K,b+"leave",Y,l,V),z.target=Re,z.relatedTarget=L,K=null,nn(V)===I&&(ee=new ee(R,b+"enter",Z,l,V),ee.target=L,ee.relatedTarget=Re,K=ee),Re=K,Y&&Z)t:{for(ee=Y,R=Z,b=0,L=ee;L;L=kn(L))b++;for(L=0,K=R;K;K=kn(K))L++;for(;0<b-L;)ee=kn(ee),b--;for(;0<L-b;)R=kn(R),L--;for(;b--;){if(ee===R||R!==null&&ee===R.alternate)break t;ee=kn(ee),R=kn(R)}ee=null}else ee=null;Y!==null&&Ia(q,z,Y,ee,!1),Z!==null&&Re!==null&&Ia(q,Re,Z,ee,!0)}}e:{if(z=I?Cn(I):window,Y=z.nodeName&&z.nodeName.toLowerCase(),Y==="select"||Y==="input"&&z.type==="file")var te=fu;else if(da(z))if(pa)te=mu;else{te=hu;var re=du}else(Y=z.nodeName)&&Y.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(te=pu);if(te&&(te=te(r,I))){ha(q,te,l,V);break e}re&&re(r,z,I),r==="focusout"&&(re=z._wrapperState)&&re.controlled&&z.type==="number"&&mn(z,"number",z.value)}switch(re=I?Cn(I):window,r){case"focusin":(da(re)||re.contentEditable==="true")&&(Tn=re,hi=I,cr=null);break;case"focusout":cr=hi=Tn=null;break;case"mousedown":pi=!0;break;case"contextmenu":case"mouseup":case"dragend":pi=!1,Ea(q,l,V);break;case"selectionchange":if(xu)break;case"keydown":case"keyup":Ea(q,l,V)}var se;if(ci)e:{switch(r){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else En?ua(r,l)&&(oe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(oe="onCompositionStart");oe&&(aa&&l.locale!=="ko"&&(En||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&En&&(se=na()):(Dt=V,ri="value"in Dt?Dt.value:Dt.textContent,En=!0)),re=Zr(I,oe),0<re.length&&(oe=new ia(oe,r,null,l,V),q.push({event:oe,listeners:re}),se?oe.data=se:(se=fa(l),se!==null&&(oe.data=se)))),(se=ou?au(r,l):lu(r,l))&&(I=Zr(I,"onBeforeInput"),0<I.length&&(V=new ia("onBeforeInput","beforeinput",null,l,V),q.push({event:V,listeners:I}),V.data=se))}ja(q,i)})}function dr(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Zr(r,i){for(var l=i+"Capture",f=[];r!==null;){var h=r,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Kn(r,l),m!=null&&f.unshift(dr(r,m,h)),m=Kn(r,i),m!=null&&f.push(dr(r,m,h))),r=r.return}return f}function kn(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ia(r,i,l,f,h){for(var m=i._reactName,w=[];l!==null&&l!==f;){var _=l,k=_.alternate,I=_.stateNode;if(k!==null&&k===f)break;_.tag===5&&I!==null&&(_=I,h?(k=Kn(l,m),k!=null&&w.unshift(dr(l,k,_))):h||(k=Kn(l,m),k!=null&&w.push(dr(l,k,_)))),l=l.return}w.length!==0&&r.push({event:i,listeners:w})}var Eu=/\r\n?/g,Tu=/\u0000|\uFFFD/g;function Ma(r){return(typeof r=="string"?r:""+r).replace(Eu,`
`).replace(Tu,"")}function es(r,i,l){if(i=Ma(i),Ma(r)!==i&&l)throw Error(n(425))}function ts(){}var wi=null,Si=null;function Ei(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ti=typeof setTimeout=="function"?setTimeout:void 0,_u=typeof clearTimeout=="function"?clearTimeout:void 0,Pa=typeof Promise=="function"?Promise:void 0,ku=typeof queueMicrotask=="function"?queueMicrotask:typeof Pa<"u"?function(r){return Pa.resolve(null).then(r).catch(bu)}:Ti;function bu(r){setTimeout(function(){throw r})}function _i(r,i){var l=i,f=0;do{var h=l.nextSibling;if(r.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(f===0){r.removeChild(h),nr(i);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=h}while(l);nr(i)}function Bt(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Oa(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var bn=Math.random().toString(36).slice(2),xt="__reactFiber$"+bn,hr="__reactProps$"+bn,Tt="__reactContainer$"+bn,ki="__reactEvents$"+bn,Cu="__reactListeners$"+bn,Nu="__reactHandles$"+bn;function nn(r){var i=r[xt];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Tt]||l[xt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Oa(r);r!==null;){if(l=r[xt])return l;r=Oa(r)}return i}r=l,l=r.parentNode}return null}function pr(r){return r=r[xt]||r[Tt],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Cn(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ns(r){return r[hr]||null}var bi=[],Nn=-1;function zt(r){return{current:r}}function _e(r){0>Nn||(r.current=bi[Nn],bi[Nn]=null,Nn--)}function Se(r,i){Nn++,bi[Nn]=r.current,r.current=i}var Ut={},Fe=zt(Ut),Ke=zt(!1),rn=Ut;function An(r,i){var l=r.type.contextTypes;if(!l)return Ut;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in l)h[m]=i[m];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=h),h}function Qe(r){return r=r.childContextTypes,r!=null}function rs(){_e(Ke),_e(Fe)}function $a(r,i,l){if(Fe.current!==Ut)throw Error(n(168));Se(Fe,i),Se(Ke,l)}function Da(r,i,l){var f=r.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var h in f)if(!(h in i))throw Error(n(108,ue(r)||"Unknown",h));return J({},l,f)}function ss(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ut,rn=Fe.current,Se(Fe,r),Se(Ke,Ke.current),!0}function Fa(r,i,l){var f=r.stateNode;if(!f)throw Error(n(169));l?(r=Da(r,i,rn),f.__reactInternalMemoizedMergedChildContext=r,_e(Ke),_e(Fe),Se(Fe,r)):_e(Ke),Se(Ke,l)}var _t=null,is=!1,Ci=!1;function Ba(r){_t===null?_t=[r]:_t.push(r)}function Au(r){is=!0,Ba(r)}function Vt(){if(!Ci&&_t!==null){Ci=!0;var r=0,i=ye;try{var l=_t;for(ye=1;r<l.length;r++){var f=l[r];do f=f(!0);while(f!==null)}_t=null,is=!1}catch(h){throw _t!==null&&(_t=_t.slice(r+1)),Uo(Gs,Vt),h}finally{ye=i,Ci=!1}}return null}var Rn=[],jn=0,os=null,as=0,nt=[],rt=0,sn=null,kt=1,bt="";function on(r,i){Rn[jn++]=as,Rn[jn++]=os,os=r,as=i}function za(r,i,l){nt[rt++]=kt,nt[rt++]=bt,nt[rt++]=sn,sn=r;var f=kt;r=bt;var h=32-ct(f)-1;f&=~(1<<h),l+=1;var m=32-ct(i)+h;if(30<m){var w=h-h%5;m=(f&(1<<w)-1).toString(32),f>>=w,h-=w,kt=1<<32-ct(i)+h|l<<h|f,bt=m+r}else kt=1<<m|l<<h|f,bt=r}function Ni(r){r.return!==null&&(on(r,1),za(r,1,0))}function Ai(r){for(;r===os;)os=Rn[--jn],Rn[jn]=null,as=Rn[--jn],Rn[jn]=null;for(;r===sn;)sn=nt[--rt],nt[rt]=null,bt=nt[--rt],nt[rt]=null,kt=nt[--rt],nt[rt]=null}var Ze=null,et=null,ke=!1,ft=null;function Ua(r,i){var l=at(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Va(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Ze=r,et=Bt(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Ze=r,et=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=sn!==null?{id:kt,overflow:bt}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=at(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Ze=r,et=null,!0):!1;default:return!1}}function Ri(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ji(r){if(ke){var i=et;if(i){var l=i;if(!Va(r,i)){if(Ri(r))throw Error(n(418));i=Bt(l.nextSibling);var f=Ze;i&&Va(r,i)?Ua(f,l):(r.flags=r.flags&-4097|2,ke=!1,Ze=r)}}else{if(Ri(r))throw Error(n(418));r.flags=r.flags&-4097|2,ke=!1,Ze=r}}}function qa(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ze=r}function ls(r){if(r!==Ze)return!1;if(!ke)return qa(r),ke=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Ei(r.type,r.memoizedProps)),i&&(i=et)){if(Ri(r))throw Ha(),Error(n(418));for(;i;)Ua(r,i),i=Bt(i.nextSibling)}if(qa(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){et=Bt(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}et=null}}else et=Ze?Bt(r.stateNode.nextSibling):null;return!0}function Ha(){for(var r=et;r;)r=Bt(r.nextSibling)}function Ln(){et=Ze=null,ke=!1}function Li(r){ft===null?ft=[r]:ft.push(r)}var Ru=O.ReactCurrentBatchConfig;function mr(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var f=l.stateNode}if(!f)throw Error(n(147,r));var h=f,m=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(w){var _=h.refs;w===null?delete _[m]:_[m]=w},i._stringRef=m,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function cs(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Wa(r){var i=r._init;return i(r._payload)}function Ka(r){function i(R,b){if(r){var L=R.deletions;L===null?(R.deletions=[b],R.flags|=16):L.push(b)}}function l(R,b){if(!r)return null;for(;b!==null;)i(R,b),b=b.sibling;return null}function f(R,b){for(R=new Map;b!==null;)b.key!==null?R.set(b.key,b):R.set(b.index,b),b=b.sibling;return R}function h(R,b){return R=Jt(R,b),R.index=0,R.sibling=null,R}function m(R,b,L){return R.index=L,r?(L=R.alternate,L!==null?(L=L.index,L<b?(R.flags|=2,b):L):(R.flags|=2,b)):(R.flags|=1048576,b)}function w(R){return r&&R.alternate===null&&(R.flags|=2),R}function _(R,b,L,K){return b===null||b.tag!==6?(b=_o(L,R.mode,K),b.return=R,b):(b=h(b,L),b.return=R,b)}function k(R,b,L,K){var te=L.type;return te===U?V(R,b,L.props.children,K,L.key):b!==null&&(b.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ee&&Wa(te)===b.type)?(K=h(b,L.props),K.ref=mr(R,b,L),K.return=R,K):(K=Is(L.type,L.key,L.props,null,R.mode,K),K.ref=mr(R,b,L),K.return=R,K)}function I(R,b,L,K){return b===null||b.tag!==4||b.stateNode.containerInfo!==L.containerInfo||b.stateNode.implementation!==L.implementation?(b=ko(L,R.mode,K),b.return=R,b):(b=h(b,L.children||[]),b.return=R,b)}function V(R,b,L,K,te){return b===null||b.tag!==7?(b=pn(L,R.mode,K,te),b.return=R,b):(b=h(b,L),b.return=R,b)}function q(R,b,L){if(typeof b=="string"&&b!==""||typeof b=="number")return b=_o(""+b,R.mode,L),b.return=R,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $:return L=Is(b.type,b.key,b.props,null,R.mode,L),L.ref=mr(R,null,b),L.return=R,L;case F:return b=ko(b,R.mode,L),b.return=R,b;case Ee:var K=b._init;return q(R,K(b._payload),L)}if(Et(b)||ne(b))return b=pn(b,R.mode,L,null),b.return=R,b;cs(R,b)}return null}function z(R,b,L,K){var te=b!==null?b.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return te!==null?null:_(R,b,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case $:return L.key===te?k(R,b,L,K):null;case F:return L.key===te?I(R,b,L,K):null;case Ee:return te=L._init,z(R,b,te(L._payload),K)}if(Et(L)||ne(L))return te!==null?null:V(R,b,L,K,null);cs(R,L)}return null}function Y(R,b,L,K,te){if(typeof K=="string"&&K!==""||typeof K=="number")return R=R.get(L)||null,_(b,R,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case $:return R=R.get(K.key===null?L:K.key)||null,k(b,R,K,te);case F:return R=R.get(K.key===null?L:K.key)||null,I(b,R,K,te);case Ee:var re=K._init;return Y(R,b,L,re(K._payload),te)}if(Et(K)||ne(K))return R=R.get(L)||null,V(b,R,K,te,null);cs(b,K)}return null}function Z(R,b,L,K){for(var te=null,re=null,se=b,oe=b=0,Oe=null;se!==null&&oe<L.length;oe++){se.index>oe?(Oe=se,se=null):Oe=se.sibling;var ge=z(R,se,L[oe],K);if(ge===null){se===null&&(se=Oe);break}r&&se&&ge.alternate===null&&i(R,se),b=m(ge,b,oe),re===null?te=ge:re.sibling=ge,re=ge,se=Oe}if(oe===L.length)return l(R,se),ke&&on(R,oe),te;if(se===null){for(;oe<L.length;oe++)se=q(R,L[oe],K),se!==null&&(b=m(se,b,oe),re===null?te=se:re.sibling=se,re=se);return ke&&on(R,oe),te}for(se=f(R,se);oe<L.length;oe++)Oe=Y(se,R,oe,L[oe],K),Oe!==null&&(r&&Oe.alternate!==null&&se.delete(Oe.key===null?oe:Oe.key),b=m(Oe,b,oe),re===null?te=Oe:re.sibling=Oe,re=Oe);return r&&se.forEach(function(Xt){return i(R,Xt)}),ke&&on(R,oe),te}function ee(R,b,L,K){var te=ne(L);if(typeof te!="function")throw Error(n(150));if(L=te.call(L),L==null)throw Error(n(151));for(var re=te=null,se=b,oe=b=0,Oe=null,ge=L.next();se!==null&&!ge.done;oe++,ge=L.next()){se.index>oe?(Oe=se,se=null):Oe=se.sibling;var Xt=z(R,se,ge.value,K);if(Xt===null){se===null&&(se=Oe);break}r&&se&&Xt.alternate===null&&i(R,se),b=m(Xt,b,oe),re===null?te=Xt:re.sibling=Xt,re=Xt,se=Oe}if(ge.done)return l(R,se),ke&&on(R,oe),te;if(se===null){for(;!ge.done;oe++,ge=L.next())ge=q(R,ge.value,K),ge!==null&&(b=m(ge,b,oe),re===null?te=ge:re.sibling=ge,re=ge);return ke&&on(R,oe),te}for(se=f(R,se);!ge.done;oe++,ge=L.next())ge=Y(se,R,oe,ge.value,K),ge!==null&&(r&&ge.alternate!==null&&se.delete(ge.key===null?oe:ge.key),b=m(ge,b,oe),re===null?te=ge:re.sibling=ge,re=ge);return r&&se.forEach(function(uf){return i(R,uf)}),ke&&on(R,oe),te}function Re(R,b,L,K){if(typeof L=="object"&&L!==null&&L.type===U&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case $:e:{for(var te=L.key,re=b;re!==null;){if(re.key===te){if(te=L.type,te===U){if(re.tag===7){l(R,re.sibling),b=h(re,L.props.children),b.return=R,R=b;break e}}else if(re.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ee&&Wa(te)===re.type){l(R,re.sibling),b=h(re,L.props),b.ref=mr(R,re,L),b.return=R,R=b;break e}l(R,re);break}else i(R,re);re=re.sibling}L.type===U?(b=pn(L.props.children,R.mode,K,L.key),b.return=R,R=b):(K=Is(L.type,L.key,L.props,null,R.mode,K),K.ref=mr(R,b,L),K.return=R,R=K)}return w(R);case F:e:{for(re=L.key;b!==null;){if(b.key===re)if(b.tag===4&&b.stateNode.containerInfo===L.containerInfo&&b.stateNode.implementation===L.implementation){l(R,b.sibling),b=h(b,L.children||[]),b.return=R,R=b;break e}else{l(R,b);break}else i(R,b);b=b.sibling}b=ko(L,R.mode,K),b.return=R,R=b}return w(R);case Ee:return re=L._init,Re(R,b,re(L._payload),K)}if(Et(L))return Z(R,b,L,K);if(ne(L))return ee(R,b,L,K);cs(R,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,b!==null&&b.tag===6?(l(R,b.sibling),b=h(b,L),b.return=R,R=b):(l(R,b),b=_o(L,R.mode,K),b.return=R,R=b),w(R)):l(R,b)}return Re}var In=Ka(!0),Qa=Ka(!1),us=zt(null),fs=null,Mn=null,Ii=null;function Mi(){Ii=Mn=fs=null}function Pi(r){var i=us.current;_e(us),r._currentValue=i}function Oi(r,i,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===l)break;r=r.return}}function Pn(r,i){fs=r,Ii=Mn=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Ge=!0),r.firstContext=null)}function st(r){var i=r._currentValue;if(Ii!==r)if(r={context:r,memoizedValue:i,next:null},Mn===null){if(fs===null)throw Error(n(308));Mn=r,fs.dependencies={lanes:0,firstContext:r}}else Mn=Mn.next=r;return i}var an=null;function $i(r){an===null?an=[r]:an.push(r)}function Ga(r,i,l,f){var h=i.interleaved;return h===null?(l.next=l,$i(i)):(l.next=h.next,h.next=l),i.interleaved=l,Ct(r,f)}function Ct(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var qt=!1;function Di(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ya(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Nt(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Ht(r,i,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(pe&2)!==0){var h=f.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),f.pending=i,Ct(r,l)}return h=f.interleaved,h===null?(i.next=i,$i(f)):(i.next=h.next,h.next=i),f.interleaved=i,Ct(r,l)}function ds(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Xs(r,l)}}function Ja(r,i){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var h=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?h=m=w:m=m.next=w,l=l.next}while(l!==null);m===null?h=m=i:m=m.next=i}else h=m=i;l={baseState:f.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:f.shared,effects:f.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function hs(r,i,l,f){var h=r.updateQueue;qt=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var k=_,I=k.next;k.next=null,w===null?m=I:w.next=I,w=k;var V=r.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==w&&(_===null?V.firstBaseUpdate=I:_.next=I,V.lastBaseUpdate=k))}if(m!==null){var q=h.baseState;w=0,V=I=k=null,_=m;do{var z=_.lane,Y=_.eventTime;if((f&z)===z){V!==null&&(V=V.next={eventTime:Y,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Z=r,ee=_;switch(z=i,Y=l,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){q=Z.call(Y,q,z);break e}q=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,z=typeof Z=="function"?Z.call(Y,q,z):Z,z==null)break e;q=J({},q,z);break e;case 2:qt=!0}}_.callback!==null&&_.lane!==0&&(r.flags|=64,z=h.effects,z===null?h.effects=[_]:z.push(_))}else Y={eventTime:Y,lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(I=V=Y,k=q):V=V.next=Y,w|=z;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;z=_,_=z.next,z.next=null,h.lastBaseUpdate=z,h.shared.pending=null}}while(!0);if(V===null&&(k=q),h.baseState=k,h.firstBaseUpdate=I,h.lastBaseUpdate=V,i=h.shared.interleaved,i!==null){h=i;do w|=h.lane,h=h.next;while(h!==i)}else m===null&&(h.shared.lanes=0);un|=w,r.lanes=w,r.memoizedState=q}}function Xa(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var f=r[i],h=f.callback;if(h!==null){if(f.callback=null,f=l,typeof h!="function")throw Error(n(191,h));h.call(f)}}}var gr={},vt=zt(gr),yr=zt(gr),xr=zt(gr);function ln(r){if(r===gr)throw Error(n(174));return r}function Fi(r,i){switch(Se(xr,i),Se(yr,r),Se(vt,gr),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Hn(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Hn(i,r)}_e(vt),Se(vt,i)}function On(){_e(vt),_e(yr),_e(xr)}function Za(r){ln(xr.current);var i=ln(vt.current),l=Hn(i,r.type);i!==l&&(Se(yr,r),Se(vt,l))}function Bi(r){yr.current===r&&(_e(vt),_e(yr))}var be=zt(0);function ps(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zi=[];function Ui(){for(var r=0;r<zi.length;r++)zi[r]._workInProgressVersionPrimary=null;zi.length=0}var ms=O.ReactCurrentDispatcher,Vi=O.ReactCurrentBatchConfig,cn=0,Ce=null,Le=null,Me=null,gs=!1,vr=!1,wr=0,ju=0;function Be(){throw Error(n(321))}function qi(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!ut(r[l],i[l]))return!1;return!0}function Hi(r,i,l,f,h,m){if(cn=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ms.current=r===null||r.memoizedState===null?Pu:Ou,r=l(f,h),vr){m=0;do{if(vr=!1,wr=0,25<=m)throw Error(n(301));m+=1,Me=Le=null,i.updateQueue=null,ms.current=$u,r=l(f,h)}while(vr)}if(ms.current=vs,i=Le!==null&&Le.next!==null,cn=0,Me=Le=Ce=null,gs=!1,i)throw Error(n(300));return r}function Wi(){var r=wr!==0;return wr=0,r}function wt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ce.memoizedState=Me=r:Me=Me.next=r,Me}function it(){if(Le===null){var r=Ce.alternate;r=r!==null?r.memoizedState:null}else r=Le.next;var i=Me===null?Ce.memoizedState:Me.next;if(i!==null)Me=i,Le=r;else{if(r===null)throw Error(n(310));Le=r,r={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Me===null?Ce.memoizedState=Me=r:Me=Me.next=r}return Me}function Sr(r,i){return typeof i=="function"?i(r):i}function Ki(r){var i=it(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=Le,h=f.baseQueue,m=l.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}f.baseQueue=h=m,l.pending=null}if(h!==null){m=h.next,f=f.baseState;var _=w=null,k=null,I=m;do{var V=I.lane;if((cn&V)===V)k!==null&&(k=k.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),f=I.hasEagerState?I.eagerState:r(f,I.action);else{var q={lane:V,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};k===null?(_=k=q,w=f):k=k.next=q,Ce.lanes|=V,un|=V}I=I.next}while(I!==null&&I!==m);k===null?w=f:k.next=_,ut(f,i.memoizedState)||(Ge=!0),i.memoizedState=f,i.baseState=w,i.baseQueue=k,l.lastRenderedState=f}if(r=l.interleaved,r!==null){h=r;do m=h.lane,Ce.lanes|=m,un|=m,h=h.next;while(h!==r)}else h===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Qi(r){var i=it(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=l.dispatch,h=l.pending,m=i.memoizedState;if(h!==null){l.pending=null;var w=h=h.next;do m=r(m,w.action),w=w.next;while(w!==h);ut(m,i.memoizedState)||(Ge=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,f]}function el(){}function tl(r,i){var l=Ce,f=it(),h=i(),m=!ut(f.memoizedState,h);if(m&&(f.memoizedState=h,Ge=!0),f=f.queue,Gi(sl.bind(null,l,f,r),[r]),f.getSnapshot!==i||m||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,Er(9,rl.bind(null,l,f,h,i),void 0,null),Pe===null)throw Error(n(349));(cn&30)!==0||nl(l,i,h)}return h}function nl(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ce.updateQueue,i===null?(i={lastEffect:null,stores:null},Ce.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function rl(r,i,l,f){i.value=l,i.getSnapshot=f,il(i)&&ol(r)}function sl(r,i,l){return l(function(){il(i)&&ol(r)})}function il(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!ut(r,l)}catch{return!0}}function ol(r){var i=Ct(r,1);i!==null&&mt(i,r,1,-1)}function al(r){var i=wt();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:r},i.queue=r,r=r.dispatch=Mu.bind(null,Ce,r),[i.memoizedState,r]}function Er(r,i,l,f){return r={tag:r,create:i,destroy:l,deps:f,next:null},i=Ce.updateQueue,i===null?(i={lastEffect:null,stores:null},Ce.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,i.lastEffect=r)),r}function ll(){return it().memoizedState}function ys(r,i,l,f){var h=wt();Ce.flags|=r,h.memoizedState=Er(1|i,l,void 0,f===void 0?null:f)}function xs(r,i,l,f){var h=it();f=f===void 0?null:f;var m=void 0;if(Le!==null){var w=Le.memoizedState;if(m=w.destroy,f!==null&&qi(f,w.deps)){h.memoizedState=Er(i,l,m,f);return}}Ce.flags|=r,h.memoizedState=Er(1|i,l,m,f)}function cl(r,i){return ys(8390656,8,r,i)}function Gi(r,i){return xs(2048,8,r,i)}function ul(r,i){return xs(4,2,r,i)}function fl(r,i){return xs(4,4,r,i)}function dl(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function hl(r,i,l){return l=l!=null?l.concat([r]):null,xs(4,4,dl.bind(null,i,r),l)}function Yi(){}function pl(r,i){var l=it();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&qi(i,f[1])?f[0]:(l.memoizedState=[r,i],r)}function ml(r,i){var l=it();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&qi(i,f[1])?f[0]:(r=r(),l.memoizedState=[r,i],r)}function gl(r,i,l){return(cn&21)===0?(r.baseState&&(r.baseState=!1,Ge=!0),r.memoizedState=l):(ut(l,i)||(l=Wo(),Ce.lanes|=l,un|=l,r.baseState=!0),i)}function Lu(r,i){var l=ye;ye=l!==0&&4>l?l:4,r(!0);var f=Vi.transition;Vi.transition={};try{r(!1),i()}finally{ye=l,Vi.transition=f}}function yl(){return it().memoizedState}function Iu(r,i,l){var f=Gt(r);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},xl(r))vl(i,l);else if(l=Ga(r,i,l,f),l!==null){var h=He();mt(l,r,f,h),wl(l,i,f)}}function Mu(r,i,l){var f=Gt(r),h={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(xl(r))vl(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,_=m(w,l);if(h.hasEagerState=!0,h.eagerState=_,ut(_,w)){var k=i.interleaved;k===null?(h.next=h,$i(i)):(h.next=k.next,k.next=h),i.interleaved=h;return}}catch{}finally{}l=Ga(r,i,h,f),l!==null&&(h=He(),mt(l,r,f,h),wl(l,i,f))}}function xl(r){var i=r.alternate;return r===Ce||i!==null&&i===Ce}function vl(r,i){vr=gs=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function wl(r,i,l){if((l&4194240)!==0){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Xs(r,l)}}var vs={readContext:st,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Pu={readContext:st,useCallback:function(r,i){return wt().memoizedState=[r,i===void 0?null:i],r},useContext:st,useEffect:cl,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,ys(4194308,4,dl.bind(null,i,r),l)},useLayoutEffect:function(r,i){return ys(4194308,4,r,i)},useInsertionEffect:function(r,i){return ys(4,2,r,i)},useMemo:function(r,i){var l=wt();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var f=wt();return i=l!==void 0?l(i):i,f.memoizedState=f.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},f.queue=r,r=r.dispatch=Iu.bind(null,Ce,r),[f.memoizedState,r]},useRef:function(r){var i=wt();return r={current:r},i.memoizedState=r},useState:al,useDebugValue:Yi,useDeferredValue:function(r){return wt().memoizedState=r},useTransition:function(){var r=al(!1),i=r[0];return r=Lu.bind(null,r[1]),wt().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var f=Ce,h=wt();if(ke){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),Pe===null)throw Error(n(349));(cn&30)!==0||nl(f,i,l)}h.memoizedState=l;var m={value:l,getSnapshot:i};return h.queue=m,cl(sl.bind(null,f,m,r),[r]),f.flags|=2048,Er(9,rl.bind(null,f,m,l,i),void 0,null),l},useId:function(){var r=wt(),i=Pe.identifierPrefix;if(ke){var l=bt,f=kt;l=(f&~(1<<32-ct(f)-1)).toString(32)+l,i=":"+i+"R"+l,l=wr++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=ju++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Ou={readContext:st,useCallback:pl,useContext:st,useEffect:Gi,useImperativeHandle:hl,useInsertionEffect:ul,useLayoutEffect:fl,useMemo:ml,useReducer:Ki,useRef:ll,useState:function(){return Ki(Sr)},useDebugValue:Yi,useDeferredValue:function(r){var i=it();return gl(i,Le.memoizedState,r)},useTransition:function(){var r=Ki(Sr)[0],i=it().memoizedState;return[r,i]},useMutableSource:el,useSyncExternalStore:tl,useId:yl,unstable_isNewReconciler:!1},$u={readContext:st,useCallback:pl,useContext:st,useEffect:Gi,useImperativeHandle:hl,useInsertionEffect:ul,useLayoutEffect:fl,useMemo:ml,useReducer:Qi,useRef:ll,useState:function(){return Qi(Sr)},useDebugValue:Yi,useDeferredValue:function(r){var i=it();return Le===null?i.memoizedState=r:gl(i,Le.memoizedState,r)},useTransition:function(){var r=Qi(Sr)[0],i=it().memoizedState;return[r,i]},useMutableSource:el,useSyncExternalStore:tl,useId:yl,unstable_isNewReconciler:!1};function dt(r,i){if(r&&r.defaultProps){i=J({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function Ji(r,i,l,f){i=r.memoizedState,l=l(f,i),l=l==null?i:J({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ws={isMounted:function(r){return(r=r._reactInternals)?tn(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var f=He(),h=Gt(r),m=Nt(f,h);m.payload=i,l!=null&&(m.callback=l),i=Ht(r,m,h),i!==null&&(mt(i,r,h,f),ds(i,r,h))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var f=He(),h=Gt(r),m=Nt(f,h);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=Ht(r,m,h),i!==null&&(mt(i,r,h,f),ds(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=He(),f=Gt(r),h=Nt(l,f);h.tag=2,i!=null&&(h.callback=i),i=Ht(r,h,f),i!==null&&(mt(i,r,f,l),ds(i,r,f))}};function Sl(r,i,l,f,h,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,m,w):i.prototype&&i.prototype.isPureReactComponent?!lr(l,f)||!lr(h,m):!0}function El(r,i,l){var f=!1,h=Ut,m=i.contextType;return typeof m=="object"&&m!==null?m=st(m):(h=Qe(i)?rn:Fe.current,f=i.contextTypes,m=(f=f!=null)?An(r,h):Ut),i=new i(l,m),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ws,r.stateNode=i,i._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=m),i}function Tl(r,i,l,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,f),i.state!==r&&ws.enqueueReplaceState(i,i.state,null)}function Xi(r,i,l,f){var h=r.stateNode;h.props=l,h.state=r.memoizedState,h.refs={},Di(r);var m=i.contextType;typeof m=="object"&&m!==null?h.context=st(m):(m=Qe(i)?rn:Fe.current,h.context=An(r,m)),h.state=r.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Ji(r,i,m,l),h.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&ws.enqueueReplaceState(h,h.state,null),hs(r,l,h,f),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function $n(r,i){try{var l="",f=i;do l+=he(f),f=f.return;while(f);var h=l}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:i,stack:h,digest:null}}function Zi(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function eo(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var Du=typeof WeakMap=="function"?WeakMap:Map;function _l(r,i,l){l=Nt(-1,l),l.tag=3,l.payload={element:null};var f=i.value;return l.callback=function(){Cs||(Cs=!0,go=f),eo(r,i)},l}function kl(r,i,l){l=Nt(-1,l),l.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var h=i.value;l.payload=function(){return f(h)},l.callback=function(){eo(r,i)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){eo(r,i),typeof f!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),l}function bl(r,i,l){var f=r.pingCache;if(f===null){f=r.pingCache=new Du;var h=new Set;f.set(i,h)}else h=f.get(i),h===void 0&&(h=new Set,f.set(i,h));h.has(l)||(h.add(l),r=Xu.bind(null,r,i,l),i.then(r,r))}function Cl(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Nl(r,i,l,f,h){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Nt(-1,1),i.tag=2,Ht(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var Fu=O.ReactCurrentOwner,Ge=!1;function qe(r,i,l,f){i.child=r===null?Qa(i,null,l,f):In(i,r.child,l,f)}function Al(r,i,l,f,h){l=l.render;var m=i.ref;return Pn(i,h),f=Hi(r,i,l,f,m,h),l=Wi(),r!==null&&!Ge?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,At(r,i,h)):(ke&&l&&Ni(i),i.flags|=1,qe(r,i,f,h),i.child)}function Rl(r,i,l,f,h){if(r===null){var m=l.type;return typeof m=="function"&&!To(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=m,jl(r,i,m,f,h)):(r=Is(l.type,null,f,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,(r.lanes&h)===0){var w=m.memoizedProps;if(l=l.compare,l=l!==null?l:lr,l(w,f)&&r.ref===i.ref)return At(r,i,h)}return i.flags|=1,r=Jt(m,f),r.ref=i.ref,r.return=i,i.child=r}function jl(r,i,l,f,h){if(r!==null){var m=r.memoizedProps;if(lr(m,f)&&r.ref===i.ref)if(Ge=!1,i.pendingProps=f=m,(r.lanes&h)!==0)(r.flags&131072)!==0&&(Ge=!0);else return i.lanes=r.lanes,At(r,i,h)}return to(r,i,l,f,h)}function Ll(r,i,l){var f=i.pendingProps,h=f.children,m=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Fn,tt),tt|=l;else{if((l&1073741824)===0)return r=m!==null?m.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Se(Fn,tt),tt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=m!==null?m.baseLanes:l,Se(Fn,tt),tt|=f}else m!==null?(f=m.baseLanes|l,i.memoizedState=null):f=l,Se(Fn,tt),tt|=f;return qe(r,i,h,l),i.child}function Il(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function to(r,i,l,f,h){var m=Qe(l)?rn:Fe.current;return m=An(i,m),Pn(i,h),l=Hi(r,i,l,f,m,h),f=Wi(),r!==null&&!Ge?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,At(r,i,h)):(ke&&f&&Ni(i),i.flags|=1,qe(r,i,l,h),i.child)}function Ml(r,i,l,f,h){if(Qe(l)){var m=!0;ss(i)}else m=!1;if(Pn(i,h),i.stateNode===null)Es(r,i),El(i,l,f),Xi(i,l,f,h),f=!0;else if(r===null){var w=i.stateNode,_=i.memoizedProps;w.props=_;var k=w.context,I=l.contextType;typeof I=="object"&&I!==null?I=st(I):(I=Qe(l)?rn:Fe.current,I=An(i,I));var V=l.getDerivedStateFromProps,q=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function";q||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==f||k!==I)&&Tl(i,w,f,I),qt=!1;var z=i.memoizedState;w.state=z,hs(i,f,w,h),k=i.memoizedState,_!==f||z!==k||Ke.current||qt?(typeof V=="function"&&(Ji(i,l,V,f),k=i.memoizedState),(_=qt||Sl(i,l,_,f,z,k,I))?(q||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=k),w.props=f,w.state=k,w.context=I,f=_):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{w=i.stateNode,Ya(r,i),_=i.memoizedProps,I=i.type===i.elementType?_:dt(i.type,_),w.props=I,q=i.pendingProps,z=w.context,k=l.contextType,typeof k=="object"&&k!==null?k=st(k):(k=Qe(l)?rn:Fe.current,k=An(i,k));var Y=l.getDerivedStateFromProps;(V=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==q||z!==k)&&Tl(i,w,f,k),qt=!1,z=i.memoizedState,w.state=z,hs(i,f,w,h);var Z=i.memoizedState;_!==q||z!==Z||Ke.current||qt?(typeof Y=="function"&&(Ji(i,l,Y,f),Z=i.memoizedState),(I=qt||Sl(i,l,I,f,z,Z,k)||!1)?(V||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,Z,k),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,Z,k)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||_===r.memoizedProps&&z===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&z===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=Z),w.props=f,w.state=Z,w.context=k,f=I):(typeof w.componentDidUpdate!="function"||_===r.memoizedProps&&z===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&z===r.memoizedState||(i.flags|=1024),f=!1)}return no(r,i,l,f,m,h)}function no(r,i,l,f,h,m){Il(r,i);var w=(i.flags&128)!==0;if(!f&&!w)return h&&Fa(i,l,!1),At(r,i,m);f=i.stateNode,Fu.current=i;var _=w&&typeof l.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,r!==null&&w?(i.child=In(i,r.child,null,m),i.child=In(i,null,_,m)):qe(r,i,_,m),i.memoizedState=f.state,h&&Fa(i,l,!0),i.child}function Pl(r){var i=r.stateNode;i.pendingContext?$a(r,i.pendingContext,i.pendingContext!==i.context):i.context&&$a(r,i.context,!1),Fi(r,i.containerInfo)}function Ol(r,i,l,f,h){return Ln(),Li(h),i.flags|=256,qe(r,i,l,f),i.child}var ro={dehydrated:null,treeContext:null,retryLane:0};function so(r){return{baseLanes:r,cachePool:null,transitions:null}}function $l(r,i,l){var f=i.pendingProps,h=be.current,m=!1,w=(i.flags&128)!==0,_;if((_=w)||(_=r!==null&&r.memoizedState===null?!1:(h&2)!==0),_?(m=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Se(be,h&1),r===null)return ji(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=f.children,r=f.fallback,m?(f=i.mode,m=i.child,w={mode:"hidden",children:w},(f&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=Ms(w,f,0,null),r=pn(r,f,l,null),m.return=i,r.return=i,m.sibling=r,i.child=m,i.child.memoizedState=so(l),i.memoizedState=ro,r):io(i,w));if(h=r.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return Bu(r,i,w,f,_,h,l);if(m){m=f.fallback,w=i.mode,h=r.child,_=h.sibling;var k={mode:"hidden",children:f.children};return(w&1)===0&&i.child!==h?(f=i.child,f.childLanes=0,f.pendingProps=k,i.deletions=null):(f=Jt(h,k),f.subtreeFlags=h.subtreeFlags&14680064),_!==null?m=Jt(_,m):(m=pn(m,w,l,null),m.flags|=2),m.return=i,f.return=i,f.sibling=m,i.child=f,f=m,m=i.child,w=r.child.memoizedState,w=w===null?so(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=r.childLanes&~l,i.memoizedState=ro,f}return m=r.child,r=m.sibling,f=Jt(m,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=l),f.return=i,f.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=f,i.memoizedState=null,f}function io(r,i){return i=Ms({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ss(r,i,l,f){return f!==null&&Li(f),In(i,r.child,null,l),r=io(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Bu(r,i,l,f,h,m,w){if(l)return i.flags&256?(i.flags&=-257,f=Zi(Error(n(422))),Ss(r,i,w,f)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(m=f.fallback,h=i.mode,f=Ms({mode:"visible",children:f.children},h,0,null),m=pn(m,h,w,null),m.flags|=2,f.return=i,m.return=i,f.sibling=m,i.child=f,(i.mode&1)!==0&&In(i,r.child,null,w),i.child.memoizedState=so(w),i.memoizedState=ro,m);if((i.mode&1)===0)return Ss(r,i,w,null);if(h.data==="$!"){if(f=h.nextSibling&&h.nextSibling.dataset,f)var _=f.dgst;return f=_,m=Error(n(419)),f=Zi(m,f,void 0),Ss(r,i,w,f)}if(_=(w&r.childLanes)!==0,Ge||_){if(f=Pe,f!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(f.suspendedLanes|w))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,Ct(r,h),mt(f,r,h,-1))}return Eo(),f=Zi(Error(n(421))),Ss(r,i,w,f)}return h.data==="$?"?(i.flags|=128,i.child=r.child,i=Zu.bind(null,r),h._reactRetry=i,null):(r=m.treeContext,et=Bt(h.nextSibling),Ze=i,ke=!0,ft=null,r!==null&&(nt[rt++]=kt,nt[rt++]=bt,nt[rt++]=sn,kt=r.id,bt=r.overflow,sn=i),i=io(i,f.children),i.flags|=4096,i)}function Dl(r,i,l){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),Oi(r.return,i,l)}function oo(r,i,l,f,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=f,m.tail=l,m.tailMode=h)}function Fl(r,i,l){var f=i.pendingProps,h=f.revealOrder,m=f.tail;if(qe(r,i,f.children,l),f=be.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Dl(r,l,i);else if(r.tag===19)Dl(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Se(be,f),(i.mode&1)===0)i.memoizedState=null;else switch(h){case"forwards":for(l=i.child,h=null;l!==null;)r=l.alternate,r!==null&&ps(r)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),oo(i,!1,h,l,m);break;case"backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&ps(r)===null){i.child=h;break}r=h.sibling,h.sibling=l,l=h,h=r}oo(i,!0,l,null,m);break;case"together":oo(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Es(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function At(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),un|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=Jt(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Jt(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function zu(r,i,l){switch(i.tag){case 3:Pl(i),Ln();break;case 5:Za(i);break;case 1:Qe(i.type)&&ss(i);break;case 4:Fi(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,h=i.memoizedProps.value;Se(us,f._currentValue),f._currentValue=h;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Se(be,be.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?$l(r,i,l):(Se(be,be.current&1),r=At(r,i,l),r!==null?r.sibling:null);Se(be,be.current&1);break;case 19:if(f=(l&i.childLanes)!==0,(r.flags&128)!==0){if(f)return Fl(r,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Se(be,be.current),f)break;return null;case 22:case 23:return i.lanes=0,Ll(r,i,l)}return At(r,i,l)}var Bl,ao,zl,Ul;Bl=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ao=function(){},zl=function(r,i,l,f){var h=r.memoizedProps;if(h!==f){r=i.stateNode,ln(vt.current);var m=null;switch(l){case"input":h=gt(r,h),f=gt(r,f),m=[];break;case"select":h=J({},h,{value:void 0}),f=J({},f,{value:void 0}),m=[];break;case"textarea":h=qn(r,h),f=qn(r,f),m=[];break;default:typeof h.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=ts)}zs(l,f);var w;l=null;for(I in h)if(!f.hasOwnProperty(I)&&h.hasOwnProperty(I)&&h[I]!=null)if(I==="style"){var _=h[I];for(w in _)_.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?m||(m=[]):(m=m||[]).push(I,null));for(I in f){var k=f[I];if(_=h!=null?h[I]:void 0,f.hasOwnProperty(I)&&k!==_&&(k!=null||_!=null))if(I==="style")if(_){for(w in _)!_.hasOwnProperty(w)||k&&k.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in k)k.hasOwnProperty(w)&&_[w]!==k[w]&&(l||(l={}),l[w]=k[w])}else l||(m||(m=[]),m.push(I,l)),l=k;else I==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,_=_?_.__html:void 0,k!=null&&_!==k&&(m=m||[]).push(I,k)):I==="children"?typeof k!="string"&&typeof k!="number"||(m=m||[]).push(I,""+k):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(o.hasOwnProperty(I)?(k!=null&&I==="onScroll"&&Te("scroll",r),m||_===k||(m=[])):(m=m||[]).push(I,k))}l&&(m=m||[]).push("style",l);var I=m;(i.updateQueue=I)&&(i.flags|=4)}},Ul=function(r,i,l,f){l!==f&&(i.flags|=4)};function Tr(r,i){if(!ke)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function ze(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(i)for(var h=r.child;h!==null;)l|=h.lanes|h.childLanes,f|=h.subtreeFlags&14680064,f|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)l|=h.lanes|h.childLanes,f|=h.subtreeFlags,f|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=f,r.childLanes=l,i}function Uu(r,i,l){var f=i.pendingProps;switch(Ai(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(i),null;case 1:return Qe(i.type)&&rs(),ze(i),null;case 3:return f=i.stateNode,On(),_e(Ke),_e(Fe),Ui(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(ls(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ft!==null&&(vo(ft),ft=null))),ao(r,i),ze(i),null;case 5:Bi(i);var h=ln(xr.current);if(l=i.type,r!==null&&i.stateNode!=null)zl(r,i,l,f,h),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return ze(i),null}if(r=ln(vt.current),ls(i)){f=i.stateNode,l=i.type;var m=i.memoizedProps;switch(f[xt]=i,f[hr]=m,r=(i.mode&1)!==0,l){case"dialog":Te("cancel",f),Te("close",f);break;case"iframe":case"object":case"embed":Te("load",f);break;case"video":case"audio":for(h=0;h<ur.length;h++)Te(ur[h],f);break;case"source":Te("error",f);break;case"img":case"image":case"link":Te("error",f),Te("load",f);break;case"details":Te("toggle",f);break;case"input":Rr(f,m),Te("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!m.multiple},Te("invalid",f);break;case"textarea":Ir(f,m),Te("invalid",f)}zs(l,m),h=null;for(var w in m)if(m.hasOwnProperty(w)){var _=m[w];w==="children"?typeof _=="string"?f.textContent!==_&&(m.suppressHydrationWarning!==!0&&es(f.textContent,_,r),h=["children",_]):typeof _=="number"&&f.textContent!==""+_&&(m.suppressHydrationWarning!==!0&&es(f.textContent,_,r),h=["children",""+_]):o.hasOwnProperty(w)&&_!=null&&w==="onScroll"&&Te("scroll",f)}switch(l){case"input":jt(f),Lr(f,m,!0);break;case"textarea":jt(f),gn(f);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(f.onclick=ts)}f=h,i.updateQueue=f,f!==null&&(i.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=en(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=w.createElement(l,{is:f.is}):(r=w.createElement(l),l==="select"&&(w=r,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):r=w.createElementNS(r,l),r[xt]=i,r[hr]=f,Bl(r,i,!1,!1),i.stateNode=r;e:{switch(w=Us(l,f),l){case"dialog":Te("cancel",r),Te("close",r),h=f;break;case"iframe":case"object":case"embed":Te("load",r),h=f;break;case"video":case"audio":for(h=0;h<ur.length;h++)Te(ur[h],r);h=f;break;case"source":Te("error",r),h=f;break;case"img":case"image":case"link":Te("error",r),Te("load",r),h=f;break;case"details":Te("toggle",r),h=f;break;case"input":Rr(r,f),h=gt(r,f),Te("invalid",r);break;case"option":h=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},h=J({},f,{value:void 0}),Te("invalid",r);break;case"textarea":Ir(r,f),h=qn(r,f),Te("invalid",r);break;default:h=f}zs(l,h),_=h;for(m in _)if(_.hasOwnProperty(m)){var k=_[m];m==="style"?jo(r,k):m==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Wn(r,k)):m==="children"?typeof k=="string"?(l!=="textarea"||k!=="")&&ie(r,k):typeof k=="number"&&ie(r,""+k):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?k!=null&&m==="onScroll"&&Te("scroll",r):k!=null&&M(r,m,k,w))}switch(l){case"input":jt(r),Lr(r,f,!1);break;case"textarea":jt(r),gn(r);break;case"option":f.value!=null&&r.setAttribute("value",""+me(f.value));break;case"select":r.multiple=!!f.multiple,m=f.value,m!=null?Lt(r,!!f.multiple,m,!1):f.defaultValue!=null&&Lt(r,!!f.multiple,f.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=ts)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ze(i),null;case 6:if(r&&i.stateNode!=null)Ul(r,i,r.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(l=ln(xr.current),ln(vt.current),ls(i)){if(f=i.stateNode,l=i.memoizedProps,f[xt]=i,(m=f.nodeValue!==l)&&(r=Ze,r!==null))switch(r.tag){case 3:es(f.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&es(f.nodeValue,l,(r.mode&1)!==0)}m&&(i.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[xt]=i,i.stateNode=f}return ze(i),null;case 13:if(_e(be),f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ke&&et!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Ha(),Ln(),i.flags|=98560,m=!1;else if(m=ls(i),f!==null&&f.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[xt]=i}else Ln(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ze(i),m=!1}else ft!==null&&(vo(ft),ft=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(be.current&1)!==0?Ie===0&&(Ie=3):Eo())),i.updateQueue!==null&&(i.flags|=4),ze(i),null);case 4:return On(),ao(r,i),r===null&&fr(i.stateNode.containerInfo),ze(i),null;case 10:return Pi(i.type._context),ze(i),null;case 17:return Qe(i.type)&&rs(),ze(i),null;case 19:if(_e(be),m=i.memoizedState,m===null)return ze(i),null;if(f=(i.flags&128)!==0,w=m.rendering,w===null)if(f)Tr(m,!1);else{if(Ie!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=ps(r),w!==null){for(i.flags|=128,Tr(m,!1),f=w.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=l,l=i.child;l!==null;)m=l,r=f,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,r=w.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Se(be,be.current&1|2),i.child}r=r.sibling}m.tail!==null&&Ae()>Bn&&(i.flags|=128,f=!0,Tr(m,!1),i.lanes=4194304)}else{if(!f)if(r=ps(w),r!==null){if(i.flags|=128,f=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Tr(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!ke)return ze(i),null}else 2*Ae()-m.renderingStartTime>Bn&&l!==1073741824&&(i.flags|=128,f=!0,Tr(m,!1),i.lanes=4194304);m.isBackwards?(w.sibling=i.child,i.child=w):(l=m.last,l!==null?l.sibling=w:i.child=w,m.last=w)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ae(),i.sibling=null,l=be.current,Se(be,f?l&1|2:l&1),i):(ze(i),null);case 22:case 23:return So(),f=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(tt&1073741824)!==0&&(ze(i),i.subtreeFlags&6&&(i.flags|=8192)):ze(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Vu(r,i){switch(Ai(i),i.tag){case 1:return Qe(i.type)&&rs(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return On(),_e(Ke),_e(Fe),Ui(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Bi(i),null;case 13:if(_e(be),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ln()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return _e(be),null;case 4:return On(),null;case 10:return Pi(i.type._context),null;case 22:case 23:return So(),null;case 24:return null;default:return null}}var Ts=!1,Ue=!1,qu=typeof WeakSet=="function"?WeakSet:Set,X=null;function Dn(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Ne(r,i,f)}else l.current=null}function lo(r,i,l){try{l()}catch(f){Ne(r,i,f)}}var Vl=!1;function Hu(r,i){if(wi=Vr,r=Sa(),di(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var h=f.anchorOffset,m=f.focusNode;f=f.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var w=0,_=-1,k=-1,I=0,V=0,q=r,z=null;t:for(;;){for(var Y;q!==l||h!==0&&q.nodeType!==3||(_=w+h),q!==m||f!==0&&q.nodeType!==3||(k=w+f),q.nodeType===3&&(w+=q.nodeValue.length),(Y=q.firstChild)!==null;)z=q,q=Y;for(;;){if(q===r)break t;if(z===l&&++I===h&&(_=w),z===m&&++V===f&&(k=w),(Y=q.nextSibling)!==null)break;q=z,z=q.parentNode}q=Y}l=_===-1||k===-1?null:{start:_,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Si={focusedElem:r,selectionRange:l},Vr=!1,X=i;X!==null;)if(i=X,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,X=r;else for(;X!==null;){i=X;try{var Z=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,Re=Z.memoizedState,R=i.stateNode,b=R.getSnapshotBeforeUpdate(i.elementType===i.type?ee:dt(i.type,ee),Re);R.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){Ne(i,i.return,K)}if(r=i.sibling,r!==null){r.return=i.return,X=r;break}X=i.return}return Z=Vl,Vl=!1,Z}function _r(r,i,l){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var h=f=f.next;do{if((h.tag&r)===r){var m=h.destroy;h.destroy=void 0,m!==void 0&&lo(i,l,m)}h=h.next}while(h!==f)}}function _s(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var f=l.create;l.destroy=f()}l=l.next}while(l!==i)}}function co(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function ql(r){var i=r.alternate;i!==null&&(r.alternate=null,ql(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[xt],delete i[hr],delete i[ki],delete i[Cu],delete i[Nu])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Hl(r){return r.tag===5||r.tag===3||r.tag===4}function Wl(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Hl(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function uo(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ts));else if(f!==4&&(r=r.child,r!==null))for(uo(r,i,l),r=r.sibling;r!==null;)uo(r,i,l),r=r.sibling}function fo(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(fo(r,i,l),r=r.sibling;r!==null;)fo(r,i,l),r=r.sibling}var $e=null,ht=!1;function Wt(r,i,l){for(l=l.child;l!==null;)Kl(r,i,l),l=l.sibling}function Kl(r,i,l){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount($r,l)}catch{}switch(l.tag){case 5:Ue||Dn(l,i);case 6:var f=$e,h=ht;$e=null,Wt(r,i,l),$e=f,ht=h,$e!==null&&(ht?(r=$e,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):$e.removeChild(l.stateNode));break;case 18:$e!==null&&(ht?(r=$e,l=l.stateNode,r.nodeType===8?_i(r.parentNode,l):r.nodeType===1&&_i(r,l),nr(r)):_i($e,l.stateNode));break;case 4:f=$e,h=ht,$e=l.stateNode.containerInfo,ht=!0,Wt(r,i,l),$e=f,ht=h;break;case 0:case 11:case 14:case 15:if(!Ue&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){h=f=f.next;do{var m=h,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&lo(l,i,w),h=h.next}while(h!==f)}Wt(r,i,l);break;case 1:if(!Ue&&(Dn(l,i),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(_){Ne(l,i,_)}Wt(r,i,l);break;case 21:Wt(r,i,l);break;case 22:l.mode&1?(Ue=(f=Ue)||l.memoizedState!==null,Wt(r,i,l),Ue=f):Wt(r,i,l);break;default:Wt(r,i,l)}}function Ql(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new qu),i.forEach(function(f){var h=ef.bind(null,r,f);l.has(f)||(l.add(f),f.then(h,h))})}}function pt(r,i){var l=i.deletions;if(l!==null)for(var f=0;f<l.length;f++){var h=l[f];try{var m=r,w=i,_=w;e:for(;_!==null;){switch(_.tag){case 5:$e=_.stateNode,ht=!1;break e;case 3:$e=_.stateNode.containerInfo,ht=!0;break e;case 4:$e=_.stateNode.containerInfo,ht=!0;break e}_=_.return}if($e===null)throw Error(n(160));Kl(m,w,h),$e=null,ht=!1;var k=h.alternate;k!==null&&(k.return=null),h.return=null}catch(I){Ne(h,i,I)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Gl(i,r),i=i.sibling}function Gl(r,i){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(pt(i,r),St(r),f&4){try{_r(3,r,r.return),_s(3,r)}catch(ee){Ne(r,r.return,ee)}try{_r(5,r,r.return)}catch(ee){Ne(r,r.return,ee)}}break;case 1:pt(i,r),St(r),f&512&&l!==null&&Dn(l,l.return);break;case 5:if(pt(i,r),St(r),f&512&&l!==null&&Dn(l,l.return),r.flags&32){var h=r.stateNode;try{ie(h,"")}catch(ee){Ne(r,r.return,ee)}}if(f&4&&(h=r.stateNode,h!=null)){var m=r.memoizedProps,w=l!==null?l.memoizedProps:m,_=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{_==="input"&&m.type==="radio"&&m.name!=null&&jr(h,m),Us(_,w);var I=Us(_,m);for(w=0;w<k.length;w+=2){var V=k[w],q=k[w+1];V==="style"?jo(h,q):V==="dangerouslySetInnerHTML"?Wn(h,q):V==="children"?ie(h,q):M(h,V,q,I)}switch(_){case"input":Vn(h,m);break;case"textarea":It(h,m);break;case"select":var z=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var Y=m.value;Y!=null?Lt(h,!!m.multiple,Y,!1):z!==!!m.multiple&&(m.defaultValue!=null?Lt(h,!!m.multiple,m.defaultValue,!0):Lt(h,!!m.multiple,m.multiple?[]:"",!1))}h[hr]=m}catch(ee){Ne(r,r.return,ee)}}break;case 6:if(pt(i,r),St(r),f&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,m=r.memoizedProps;try{h.nodeValue=m}catch(ee){Ne(r,r.return,ee)}}break;case 3:if(pt(i,r),St(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{nr(i.containerInfo)}catch(ee){Ne(r,r.return,ee)}break;case 4:pt(i,r),St(r);break;case 13:pt(i,r),St(r),h=r.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(mo=Ae())),f&4&&Ql(r);break;case 22:if(V=l!==null&&l.memoizedState!==null,r.mode&1?(Ue=(I=Ue)||V,pt(i,r),Ue=I):pt(i,r),St(r),f&8192){if(I=r.memoizedState!==null,(r.stateNode.isHidden=I)&&!V&&(r.mode&1)!==0)for(X=r,V=r.child;V!==null;){for(q=X=V;X!==null;){switch(z=X,Y=z.child,z.tag){case 0:case 11:case 14:case 15:_r(4,z,z.return);break;case 1:Dn(z,z.return);var Z=z.stateNode;if(typeof Z.componentWillUnmount=="function"){f=z,l=z.return;try{i=f,Z.props=i.memoizedProps,Z.state=i.memoizedState,Z.componentWillUnmount()}catch(ee){Ne(f,l,ee)}}break;case 5:Dn(z,z.return);break;case 22:if(z.memoizedState!==null){Xl(q);continue}}Y!==null?(Y.return=z,X=Y):Xl(q)}V=V.sibling}e:for(V=null,q=r;;){if(q.tag===5){if(V===null){V=q;try{h=q.stateNode,I?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(_=q.stateNode,k=q.memoizedProps.style,w=k!=null&&k.hasOwnProperty("display")?k.display:null,_.style.display=Ro("display",w))}catch(ee){Ne(r,r.return,ee)}}}else if(q.tag===6){if(V===null)try{q.stateNode.nodeValue=I?"":q.memoizedProps}catch(ee){Ne(r,r.return,ee)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===r)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===r)break e;for(;q.sibling===null;){if(q.return===null||q.return===r)break e;V===q&&(V=null),q=q.return}V===q&&(V=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:pt(i,r),St(r),f&4&&Ql(r);break;case 21:break;default:pt(i,r),St(r)}}function St(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Hl(l)){var f=l;break e}l=l.return}throw Error(n(160))}switch(f.tag){case 5:var h=f.stateNode;f.flags&32&&(ie(h,""),f.flags&=-33);var m=Wl(r);fo(r,m,h);break;case 3:case 4:var w=f.stateNode.containerInfo,_=Wl(r);uo(r,_,w);break;default:throw Error(n(161))}}catch(k){Ne(r,r.return,k)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Wu(r,i,l){X=r,Yl(r)}function Yl(r,i,l){for(var f=(r.mode&1)!==0;X!==null;){var h=X,m=h.child;if(h.tag===22&&f){var w=h.memoizedState!==null||Ts;if(!w){var _=h.alternate,k=_!==null&&_.memoizedState!==null||Ue;_=Ts;var I=Ue;if(Ts=w,(Ue=k)&&!I)for(X=h;X!==null;)w=X,k=w.child,w.tag===22&&w.memoizedState!==null?Zl(h):k!==null?(k.return=w,X=k):Zl(h);for(;m!==null;)X=m,Yl(m),m=m.sibling;X=h,Ts=_,Ue=I}Jl(r)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,X=m):Jl(r)}}function Jl(r){for(;X!==null;){var i=X;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ue||_s(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!Ue)if(l===null)f.componentDidMount();else{var h=i.elementType===i.type?l.memoizedProps:dt(i.type,l.memoizedProps);f.componentDidUpdate(h,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Xa(i,m,f);break;case 3:var w=i.updateQueue;if(w!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Xa(i,w,l)}break;case 5:var _=i.stateNode;if(l===null&&i.flags&4){l=_;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&l.focus();break;case"img":k.src&&(l.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var I=i.alternate;if(I!==null){var V=I.memoizedState;if(V!==null){var q=V.dehydrated;q!==null&&nr(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ue||i.flags&512&&co(i)}catch(z){Ne(i,i.return,z)}}if(i===r){X=null;break}if(l=i.sibling,l!==null){l.return=i.return,X=l;break}X=i.return}}function Xl(r){for(;X!==null;){var i=X;if(i===r){X=null;break}var l=i.sibling;if(l!==null){l.return=i.return,X=l;break}X=i.return}}function Zl(r){for(;X!==null;){var i=X;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{_s(4,i)}catch(k){Ne(i,l,k)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var h=i.return;try{f.componentDidMount()}catch(k){Ne(i,h,k)}}var m=i.return;try{co(i)}catch(k){Ne(i,m,k)}break;case 5:var w=i.return;try{co(i)}catch(k){Ne(i,w,k)}}}catch(k){Ne(i,i.return,k)}if(i===r){X=null;break}var _=i.sibling;if(_!==null){_.return=i.return,X=_;break}X=i.return}}var Ku=Math.ceil,ks=O.ReactCurrentDispatcher,ho=O.ReactCurrentOwner,ot=O.ReactCurrentBatchConfig,pe=0,Pe=null,je=null,De=0,tt=0,Fn=zt(0),Ie=0,kr=null,un=0,bs=0,po=0,br=null,Ye=null,mo=0,Bn=1/0,Rt=null,Cs=!1,go=null,Kt=null,Ns=!1,Qt=null,As=0,Cr=0,yo=null,Rs=-1,js=0;function He(){return(pe&6)!==0?Ae():Rs!==-1?Rs:Rs=Ae()}function Gt(r){return(r.mode&1)===0?1:(pe&2)!==0&&De!==0?De&-De:Ru.transition!==null?(js===0&&(js=Wo()),js):(r=ye,r!==0||(r=window.event,r=r===void 0?16:ta(r.type)),r)}function mt(r,i,l,f){if(50<Cr)throw Cr=0,yo=null,Error(n(185));Jn(r,l,f),((pe&2)===0||r!==Pe)&&(r===Pe&&((pe&2)===0&&(bs|=l),Ie===4&&Yt(r,De)),Je(r,f),l===1&&pe===0&&(i.mode&1)===0&&(Bn=Ae()+500,is&&Vt()))}function Je(r,i){var l=r.callbackNode;Rc(r,i);var f=Br(r,r===Pe?De:0);if(f===0)l!==null&&Vo(l),r.callbackNode=null,r.callbackPriority=0;else if(i=f&-f,r.callbackPriority!==i){if(l!=null&&Vo(l),i===1)r.tag===0?Au(tc.bind(null,r)):Ba(tc.bind(null,r)),ku(function(){(pe&6)===0&&Vt()}),l=null;else{switch(Ko(f)){case 1:l=Gs;break;case 4:l=qo;break;case 16:l=Or;break;case 536870912:l=Ho;break;default:l=Or}l=cc(l,ec.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function ec(r,i){if(Rs=-1,js=0,(pe&6)!==0)throw Error(n(327));var l=r.callbackNode;if(zn()&&r.callbackNode!==l)return null;var f=Br(r,r===Pe?De:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||i)i=Ls(r,f);else{i=f;var h=pe;pe|=2;var m=rc();(Pe!==r||De!==i)&&(Rt=null,Bn=Ae()+500,dn(r,i));do try{Yu();break}catch(_){nc(r,_)}while(!0);Mi(),ks.current=m,pe=h,je!==null?i=0:(Pe=null,De=0,i=Ie)}if(i!==0){if(i===2&&(h=Ys(r),h!==0&&(f=h,i=xo(r,h))),i===1)throw l=kr,dn(r,0),Yt(r,f),Je(r,Ae()),l;if(i===6)Yt(r,f);else{if(h=r.current.alternate,(f&30)===0&&!Qu(h)&&(i=Ls(r,f),i===2&&(m=Ys(r),m!==0&&(f=m,i=xo(r,m))),i===1))throw l=kr,dn(r,0),Yt(r,f),Je(r,Ae()),l;switch(r.finishedWork=h,r.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:hn(r,Ye,Rt);break;case 3:if(Yt(r,f),(f&130023424)===f&&(i=mo+500-Ae(),10<i)){if(Br(r,0)!==0)break;if(h=r.suspendedLanes,(h&f)!==f){He(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=Ti(hn.bind(null,r,Ye,Rt),i);break}hn(r,Ye,Rt);break;case 4:if(Yt(r,f),(f&4194240)===f)break;for(i=r.eventTimes,h=-1;0<f;){var w=31-ct(f);m=1<<w,w=i[w],w>h&&(h=w),f&=~m}if(f=h,f=Ae()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ku(f/1960))-f,10<f){r.timeoutHandle=Ti(hn.bind(null,r,Ye,Rt),f);break}hn(r,Ye,Rt);break;case 5:hn(r,Ye,Rt);break;default:throw Error(n(329))}}}return Je(r,Ae()),r.callbackNode===l?ec.bind(null,r):null}function xo(r,i){var l=br;return r.current.memoizedState.isDehydrated&&(dn(r,i).flags|=256),r=Ls(r,i),r!==2&&(i=Ye,Ye=l,i!==null&&vo(i)),r}function vo(r){Ye===null?Ye=r:Ye.push.apply(Ye,r)}function Qu(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var h=l[f],m=h.getSnapshot;h=h.value;try{if(!ut(m(),h))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yt(r,i){for(i&=~po,i&=~bs,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-ct(i),f=1<<l;r[l]=-1,i&=~f}}function tc(r){if((pe&6)!==0)throw Error(n(327));zn();var i=Br(r,0);if((i&1)===0)return Je(r,Ae()),null;var l=Ls(r,i);if(r.tag!==0&&l===2){var f=Ys(r);f!==0&&(i=f,l=xo(r,f))}if(l===1)throw l=kr,dn(r,0),Yt(r,i),Je(r,Ae()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,hn(r,Ye,Rt),Je(r,Ae()),null}function wo(r,i){var l=pe;pe|=1;try{return r(i)}finally{pe=l,pe===0&&(Bn=Ae()+500,is&&Vt())}}function fn(r){Qt!==null&&Qt.tag===0&&(pe&6)===0&&zn();var i=pe;pe|=1;var l=ot.transition,f=ye;try{if(ot.transition=null,ye=1,r)return r()}finally{ye=f,ot.transition=l,pe=i,(pe&6)===0&&Vt()}}function So(){tt=Fn.current,_e(Fn)}function dn(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,_u(l)),je!==null)for(l=je.return;l!==null;){var f=l;switch(Ai(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&rs();break;case 3:On(),_e(Ke),_e(Fe),Ui();break;case 5:Bi(f);break;case 4:On();break;case 13:_e(be);break;case 19:_e(be);break;case 10:Pi(f.type._context);break;case 22:case 23:So()}l=l.return}if(Pe=r,je=r=Jt(r.current,null),De=tt=i,Ie=0,kr=null,po=bs=un=0,Ye=br=null,an!==null){for(i=0;i<an.length;i++)if(l=an[i],f=l.interleaved,f!==null){l.interleaved=null;var h=f.next,m=l.pending;if(m!==null){var w=m.next;m.next=h,f.next=w}l.pending=f}an=null}return r}function nc(r,i){do{var l=je;try{if(Mi(),ms.current=vs,gs){for(var f=Ce.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}gs=!1}if(cn=0,Me=Le=Ce=null,vr=!1,wr=0,ho.current=null,l===null||l.return===null){Ie=1,kr=i,je=null;break}e:{var m=r,w=l.return,_=l,k=i;if(i=De,_.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var I=k,V=_,q=V.tag;if((V.mode&1)===0&&(q===0||q===11||q===15)){var z=V.alternate;z?(V.updateQueue=z.updateQueue,V.memoizedState=z.memoizedState,V.lanes=z.lanes):(V.updateQueue=null,V.memoizedState=null)}var Y=Cl(w);if(Y!==null){Y.flags&=-257,Nl(Y,w,_,m,i),Y.mode&1&&bl(m,I,i),i=Y,k=I;var Z=i.updateQueue;if(Z===null){var ee=new Set;ee.add(k),i.updateQueue=ee}else Z.add(k);break e}else{if((i&1)===0){bl(m,I,i),Eo();break e}k=Error(n(426))}}else if(ke&&_.mode&1){var Re=Cl(w);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),Nl(Re,w,_,m,i),Li($n(k,_));break e}}m=k=$n(k,_),Ie!==4&&(Ie=2),br===null?br=[m]:br.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var R=_l(m,k,i);Ja(m,R);break e;case 1:_=k;var b=m.type,L=m.stateNode;if((m.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Kt===null||!Kt.has(L)))){m.flags|=65536,i&=-i,m.lanes|=i;var K=kl(m,_,i);Ja(m,K);break e}}m=m.return}while(m!==null)}ic(l)}catch(te){i=te,je===l&&l!==null&&(je=l=l.return);continue}break}while(!0)}function rc(){var r=ks.current;return ks.current=vs,r===null?vs:r}function Eo(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Pe===null||(un&268435455)===0&&(bs&268435455)===0||Yt(Pe,De)}function Ls(r,i){var l=pe;pe|=2;var f=rc();(Pe!==r||De!==i)&&(Rt=null,dn(r,i));do try{Gu();break}catch(h){nc(r,h)}while(!0);if(Mi(),pe=l,ks.current=f,je!==null)throw Error(n(261));return Pe=null,De=0,Ie}function Gu(){for(;je!==null;)sc(je)}function Yu(){for(;je!==null&&!Sc();)sc(je)}function sc(r){var i=lc(r.alternate,r,tt);r.memoizedProps=r.pendingProps,i===null?ic(r):je=i,ho.current=null}function ic(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=Uu(l,i,tt),l!==null){je=l;return}}else{if(l=Vu(l,i),l!==null){l.flags&=32767,je=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ie=6,je=null;return}}if(i=i.sibling,i!==null){je=i;return}je=i=r}while(i!==null);Ie===0&&(Ie=5)}function hn(r,i,l){var f=ye,h=ot.transition;try{ot.transition=null,ye=1,Ju(r,i,l,f)}finally{ot.transition=h,ye=f}return null}function Ju(r,i,l,f){do zn();while(Qt!==null);if((pe&6)!==0)throw Error(n(327));l=r.finishedWork;var h=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=l.lanes|l.childLanes;if(jc(r,m),r===Pe&&(je=Pe=null,De=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ns||(Ns=!0,cc(Or,function(){return zn(),null})),m=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||m){m=ot.transition,ot.transition=null;var w=ye;ye=1;var _=pe;pe|=4,ho.current=null,Hu(r,l),Gl(l,r),yu(Si),Vr=!!wi,Si=wi=null,r.current=l,Wu(l),Ec(),pe=_,ye=w,ot.transition=m}else r.current=l;if(Ns&&(Ns=!1,Qt=r,As=h),m=r.pendingLanes,m===0&&(Kt=null),kc(l.stateNode),Je(r,Ae()),i!==null)for(f=r.onRecoverableError,l=0;l<i.length;l++)h=i[l],f(h.value,{componentStack:h.stack,digest:h.digest});if(Cs)throw Cs=!1,r=go,go=null,r;return(As&1)!==0&&r.tag!==0&&zn(),m=r.pendingLanes,(m&1)!==0?r===yo?Cr++:(Cr=0,yo=r):Cr=0,Vt(),null}function zn(){if(Qt!==null){var r=Ko(As),i=ot.transition,l=ye;try{if(ot.transition=null,ye=16>r?16:r,Qt===null)var f=!1;else{if(r=Qt,Qt=null,As=0,(pe&6)!==0)throw Error(n(331));var h=pe;for(pe|=4,X=r.current;X!==null;){var m=X,w=m.child;if((X.flags&16)!==0){var _=m.deletions;if(_!==null){for(var k=0;k<_.length;k++){var I=_[k];for(X=I;X!==null;){var V=X;switch(V.tag){case 0:case 11:case 15:_r(8,V,m)}var q=V.child;if(q!==null)q.return=V,X=q;else for(;X!==null;){V=X;var z=V.sibling,Y=V.return;if(ql(V),V===I){X=null;break}if(z!==null){z.return=Y,X=z;break}X=Y}}}var Z=m.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var Re=ee.sibling;ee.sibling=null,ee=Re}while(ee!==null)}}X=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,X=w;else e:for(;X!==null;){if(m=X,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:_r(9,m,m.return)}var R=m.sibling;if(R!==null){R.return=m.return,X=R;break e}X=m.return}}var b=r.current;for(X=b;X!==null;){w=X;var L=w.child;if((w.subtreeFlags&2064)!==0&&L!==null)L.return=w,X=L;else e:for(w=b;X!==null;){if(_=X,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:_s(9,_)}}catch(te){Ne(_,_.return,te)}if(_===w){X=null;break e}var K=_.sibling;if(K!==null){K.return=_.return,X=K;break e}X=_.return}}if(pe=h,Vt(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot($r,r)}catch{}f=!0}return f}finally{ye=l,ot.transition=i}}return!1}function oc(r,i,l){i=$n(l,i),i=_l(r,i,1),r=Ht(r,i,1),i=He(),r!==null&&(Jn(r,1,i),Je(r,i))}function Ne(r,i,l){if(r.tag===3)oc(r,r,l);else for(;i!==null;){if(i.tag===3){oc(i,r,l);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Kt===null||!Kt.has(f))){r=$n(l,r),r=kl(i,r,1),i=Ht(i,r,1),r=He(),i!==null&&(Jn(i,1,r),Je(i,r));break}}i=i.return}}function Xu(r,i,l){var f=r.pingCache;f!==null&&f.delete(i),i=He(),r.pingedLanes|=r.suspendedLanes&l,Pe===r&&(De&l)===l&&(Ie===4||Ie===3&&(De&130023424)===De&&500>Ae()-mo?dn(r,0):po|=l),Je(r,i)}function ac(r,i){i===0&&((r.mode&1)===0?i=1:(i=Fr,Fr<<=1,(Fr&130023424)===0&&(Fr=4194304)));var l=He();r=Ct(r,i),r!==null&&(Jn(r,i,l),Je(r,l))}function Zu(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),ac(r,l)}function ef(r,i){var l=0;switch(r.tag){case 13:var f=r.stateNode,h=r.memoizedState;h!==null&&(l=h.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),ac(r,l)}var lc;lc=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||Ke.current)Ge=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return Ge=!1,zu(r,i,l);Ge=(r.flags&131072)!==0}else Ge=!1,ke&&(i.flags&1048576)!==0&&za(i,as,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Es(r,i),r=i.pendingProps;var h=An(i,Fe.current);Pn(i,l),h=Hi(null,i,f,r,h,l);var m=Wi();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Qe(f)?(m=!0,ss(i)):m=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Di(i),h.updater=ws,i.stateNode=h,h._reactInternals=i,Xi(i,f,r,l),i=no(null,i,f,!0,m,l)):(i.tag=0,ke&&m&&Ni(i),qe(null,i,h,l),i=i.child),i;case 16:f=i.elementType;e:{switch(Es(r,i),r=i.pendingProps,h=f._init,f=h(f._payload),i.type=f,h=i.tag=nf(f),r=dt(f,r),h){case 0:i=to(null,i,f,r,l);break e;case 1:i=Ml(null,i,f,r,l);break e;case 11:i=Al(null,i,f,r,l);break e;case 14:i=Rl(null,i,f,dt(f.type,r),l);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,h=i.pendingProps,h=i.elementType===f?h:dt(f,h),to(r,i,f,h,l);case 1:return f=i.type,h=i.pendingProps,h=i.elementType===f?h:dt(f,h),Ml(r,i,f,h,l);case 3:e:{if(Pl(i),r===null)throw Error(n(387));f=i.pendingProps,m=i.memoizedState,h=m.element,Ya(r,i),hs(i,f,null,l);var w=i.memoizedState;if(f=w.element,m.isDehydrated)if(m={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){h=$n(Error(n(423)),i),i=Ol(r,i,f,l,h);break e}else if(f!==h){h=$n(Error(n(424)),i),i=Ol(r,i,f,l,h);break e}else for(et=Bt(i.stateNode.containerInfo.firstChild),Ze=i,ke=!0,ft=null,l=Qa(i,null,f,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ln(),f===h){i=At(r,i,l);break e}qe(r,i,f,l)}i=i.child}return i;case 5:return Za(i),r===null&&ji(i),f=i.type,h=i.pendingProps,m=r!==null?r.memoizedProps:null,w=h.children,Ei(f,h)?w=null:m!==null&&Ei(f,m)&&(i.flags|=32),Il(r,i),qe(r,i,w,l),i.child;case 6:return r===null&&ji(i),null;case 13:return $l(r,i,l);case 4:return Fi(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=In(i,null,f,l):qe(r,i,f,l),i.child;case 11:return f=i.type,h=i.pendingProps,h=i.elementType===f?h:dt(f,h),Al(r,i,f,h,l);case 7:return qe(r,i,i.pendingProps,l),i.child;case 8:return qe(r,i,i.pendingProps.children,l),i.child;case 12:return qe(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(f=i.type._context,h=i.pendingProps,m=i.memoizedProps,w=h.value,Se(us,f._currentValue),f._currentValue=w,m!==null)if(ut(m.value,w)){if(m.children===h.children&&!Ke.current){i=At(r,i,l);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var _=m.dependencies;if(_!==null){w=m.child;for(var k=_.firstContext;k!==null;){if(k.context===f){if(m.tag===1){k=Nt(-1,l&-l),k.tag=2;var I=m.updateQueue;if(I!==null){I=I.shared;var V=I.pending;V===null?k.next=k:(k.next=V.next,V.next=k),I.pending=k}}m.lanes|=l,k=m.alternate,k!==null&&(k.lanes|=l),Oi(m.return,l,i),_.lanes|=l;break}k=k.next}}else if(m.tag===10)w=m.type===i.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(n(341));w.lanes|=l,_=w.alternate,_!==null&&(_.lanes|=l),Oi(w,l,i),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}qe(r,i,h.children,l),i=i.child}return i;case 9:return h=i.type,f=i.pendingProps.children,Pn(i,l),h=st(h),f=f(h),i.flags|=1,qe(r,i,f,l),i.child;case 14:return f=i.type,h=dt(f,i.pendingProps),h=dt(f.type,h),Rl(r,i,f,h,l);case 15:return jl(r,i,i.type,i.pendingProps,l);case 17:return f=i.type,h=i.pendingProps,h=i.elementType===f?h:dt(f,h),Es(r,i),i.tag=1,Qe(f)?(r=!0,ss(i)):r=!1,Pn(i,l),El(i,f,h),Xi(i,f,h,l),no(null,i,f,!0,r,l);case 19:return Fl(r,i,l);case 22:return Ll(r,i,l)}throw Error(n(156,i.tag))};function cc(r,i){return Uo(r,i)}function tf(r,i,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(r,i,l,f){return new tf(r,i,l,f)}function To(r){return r=r.prototype,!(!r||!r.isReactComponent)}function nf(r){if(typeof r=="function")return To(r)?1:0;if(r!=null){if(r=r.$$typeof,r===P)return 11;if(r===xe)return 14}return 2}function Jt(r,i){var l=r.alternate;return l===null?(l=at(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Is(r,i,l,f,h,m){var w=2;if(f=r,typeof r=="function")To(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case U:return pn(l.children,h,m,i);case D:w=8,h|=8;break;case j:return r=at(12,l,i,h|2),r.elementType=j,r.lanes=m,r;case G:return r=at(13,l,i,h),r.elementType=G,r.lanes=m,r;case ce:return r=at(19,l,i,h),r.elementType=ce,r.lanes=m,r;case de:return Ms(l,h,m,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:w=10;break e;case H:w=9;break e;case P:w=11;break e;case xe:w=14;break e;case Ee:w=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=at(w,l,i,h),i.elementType=r,i.type=f,i.lanes=m,i}function pn(r,i,l,f){return r=at(7,r,f,i),r.lanes=l,r}function Ms(r,i,l,f){return r=at(22,r,f,i),r.elementType=de,r.lanes=l,r.stateNode={isHidden:!1},r}function _o(r,i,l){return r=at(6,r,null,i),r.lanes=l,r}function ko(r,i,l){return i=at(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function rf(r,i,l,f,h){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Js(0),this.expirationTimes=Js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.identifierPrefix=f,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function bo(r,i,l,f,h,m,w,_,k){return r=new rf(r,i,l,_,k),i===1?(i=1,m===!0&&(i|=8)):i=0,m=at(3,null,null,i),r.current=m,m.stateNode=r,m.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(m),r}function sf(r,i,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:f==null?null:""+f,children:r,containerInfo:i,implementation:l}}function uc(r){if(!r)return Ut;r=r._reactInternals;e:{if(tn(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Qe(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Qe(l))return Da(r,l,i)}return i}function fc(r,i,l,f,h,m,w,_,k){return r=bo(l,f,!0,r,h,m,w,_,k),r.context=uc(null),l=r.current,f=He(),h=Gt(l),m=Nt(f,h),m.callback=i??null,Ht(l,m,h),r.current.lanes=h,Jn(r,h,f),Je(r,f),r}function Ps(r,i,l,f){var h=i.current,m=He(),w=Gt(h);return l=uc(l),i.context===null?i.context=l:i.pendingContext=l,i=Nt(m,w),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Ht(h,i,w),r!==null&&(mt(r,h,w,m),ds(r,h,w)),w}function Os(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function dc(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Co(r,i){dc(r,i),(r=r.alternate)&&dc(r,i)}function of(){return null}var hc=typeof reportError=="function"?reportError:function(r){console.error(r)};function No(r){this._internalRoot=r}$s.prototype.render=No.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Ps(r,i,null,null)},$s.prototype.unmount=No.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;fn(function(){Ps(null,r,null,null)}),i[Tt]=null}};function $s(r){this._internalRoot=r}$s.prototype.unstable_scheduleHydration=function(r){if(r){var i=Yo();r={blockedOn:null,target:r,priority:i};for(var l=0;l<$t.length&&i!==0&&i<$t[l].priority;l++);$t.splice(l,0,r),l===0&&Zo(r)}};function Ao(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ds(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function pc(){}function af(r,i,l,f,h){if(h){if(typeof f=="function"){var m=f;f=function(){var I=Os(w);m.call(I)}}var w=fc(i,f,r,0,null,!1,!1,"",pc);return r._reactRootContainer=w,r[Tt]=w.current,fr(r.nodeType===8?r.parentNode:r),fn(),w}for(;h=r.lastChild;)r.removeChild(h);if(typeof f=="function"){var _=f;f=function(){var I=Os(k);_.call(I)}}var k=bo(r,0,!1,null,null,!1,!1,"",pc);return r._reactRootContainer=k,r[Tt]=k.current,fr(r.nodeType===8?r.parentNode:r),fn(function(){Ps(i,k,l,f)}),k}function Fs(r,i,l,f,h){var m=l._reactRootContainer;if(m){var w=m;if(typeof h=="function"){var _=h;h=function(){var k=Os(w);_.call(k)}}Ps(i,w,r,h)}else w=af(l,i,r,h,f);return Os(w)}Qo=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Yn(i.pendingLanes);l!==0&&(Xs(i,l|1),Je(i,Ae()),(pe&6)===0&&(Bn=Ae()+500,Vt()))}break;case 13:fn(function(){var f=Ct(r,1);if(f!==null){var h=He();mt(f,r,1,h)}}),Co(r,1)}},Zs=function(r){if(r.tag===13){var i=Ct(r,134217728);if(i!==null){var l=He();mt(i,r,134217728,l)}Co(r,134217728)}},Go=function(r){if(r.tag===13){var i=Gt(r),l=Ct(r,i);if(l!==null){var f=He();mt(l,r,i,f)}Co(r,i)}},Yo=function(){return ye},Jo=function(r,i){var l=ye;try{return ye=r,i()}finally{ye=l}},Hs=function(r,i,l){switch(i){case"input":if(Vn(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var f=l[i];if(f!==r&&f.form===r.form){var h=ns(f);if(!h)throw Error(n(90));Un(f),Vn(f,h)}}}break;case"textarea":It(r,l);break;case"select":i=l.value,i!=null&&Lt(r,!!l.multiple,i,!1)}},Po=wo,Oo=fn;var lf={usingClientEntryPoint:!1,Events:[pr,Cn,ns,Io,Mo,wo]},Nr={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cf={bundleType:Nr.bundleType,version:Nr.version,rendererPackageName:Nr.rendererPackageName,rendererConfig:Nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Bo(r),r===null?null:r.stateNode},findFiberByHostInstance:Nr.findFiberByHostInstance||of,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{$r=Bs.inject(cf),yt=Bs}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lf,reactDom_production_min.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ao(i))throw Error(n(200));return sf(r,i,null,l)},reactDom_production_min.createRoot=function(r,i){if(!Ao(r))throw Error(n(299));var l=!1,f="",h=hc;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=bo(r,1,!1,null,null,l,!1,f,h),r[Tt]=i.current,fr(r.nodeType===8?r.parentNode:r),new No(i)},reactDom_production_min.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Bo(i),r=r===null?null:r.stateNode,r},reactDom_production_min.flushSync=function(r){return fn(r)},reactDom_production_min.hydrate=function(r,i,l){if(!Ds(i))throw Error(n(200));return Fs(null,r,i,!0,l)},reactDom_production_min.hydrateRoot=function(r,i,l){if(!Ao(r))throw Error(n(405));var f=l!=null&&l.hydratedSources||null,h=!1,m="",w=hc;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),i=fc(i,null,r,1,l??null,h,!1,m,w),r[Tt]=i.current,fr(r),f)for(r=0;r<f.length;r++)l=f[r],h=l._getVersion,h=h(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,h]:i.mutableSourceEagerHydrationData.push(l,h);return new $s(i)},reactDom_production_min.render=function(r,i,l){if(!Ds(i))throw Error(n(200));return Fs(null,r,i,!1,l)},reactDom_production_min.unmountComponentAtNode=function(r){if(!Ds(r))throw Error(n(40));return r._reactRootContainer?(fn(function(){Fs(null,null,r,!1,function(){r._reactRootContainer=null,r[Tt]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=wo,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(r,i,l,f){if(!Ds(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Fs(r,i,l,!1,f)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();const kTopLevelAttachmentPrefix="_attach",contextSymbol=Symbol("context"),nextInContextSymbol=Symbol("nextInContext"),prevByEndTimeSymbol=Symbol("prevByEndTime"),nextByStartTimeSymbol=Symbol("nextByStartTime"),eventsSymbol=Symbol("events");class MultiTraceModel{constructor(e){ve(this,"startTime");ve(this,"endTime");ve(this,"browserName");ve(this,"channel");ve(this,"platform");ve(this,"wallTime");ve(this,"title");ve(this,"options");ve(this,"pages");ve(this,"actions");ve(this,"attachments");ve(this,"visibleAttachments");ve(this,"events");ve(this,"stdio");ve(this,"errors");ve(this,"errorDescriptors");ve(this,"hasSource");ve(this,"hasStepData");ve(this,"sdkLanguage");ve(this,"testIdAttributeName");ve(this,"sources");ve(this,"resources");e.forEach(s=>indexModel(s));const n=e.find(s=>s.origin==="library");this.browserName=(n==null?void 0:n.browserName)||"",this.sdkLanguage=n==null?void 0:n.sdkLanguage,this.channel=n==null?void 0:n.channel,this.testIdAttributeName=n==null?void 0:n.testIdAttributeName,this.platform=(n==null?void 0:n.platform)||"",this.title=(n==null?void 0:n.title)||"",this.options=(n==null?void 0:n.options)||{},this.actions=mergeActionsAndUpdateTiming(e),this.pages=[].concat(...e.map(s=>s.pages)),this.wallTime=e.map(s=>s.wallTime).reduce((s,o)=>Math.min(s||Number.MAX_VALUE,o),Number.MAX_VALUE),this.startTime=e.map(s=>s.startTime).reduce((s,o)=>Math.min(s,o),Number.MAX_VALUE),this.endTime=e.map(s=>s.endTime).reduce((s,o)=>Math.max(s,o),Number.MIN_VALUE),this.events=[].concat(...e.map(s=>s.events)),this.stdio=[].concat(...e.map(s=>s.stdio)),this.errors=[].concat(...e.map(s=>s.errors)),this.hasSource=e.some(s=>s.hasSource),this.hasStepData=e.some(s=>s.origin==="testRunner"),this.resources=[...e.map(s=>s.resources)].flat(),this.attachments=this.actions.flatMap(s=>{var o;return((o=s.attachments)==null?void 0:o.map(a=>({...a,traceUrl:s.context.traceUrl})))??[]}),this.visibleAttachments=this.attachments.filter(s=>!s.name.startsWith("_")),this.events.sort((s,o)=>s.time-o.time),this.resources.sort((s,o)=>s._monotonicTime-o._monotonicTime),this.errorDescriptors=this.hasStepData?this._errorDescriptorsFromTestRunner():this._errorDescriptorsFromActions(),this.sources=collectSources(this.actions,this.errorDescriptors)}failedAction(){return this.actions.findLast(e=>e.error)}_errorDescriptorsFromActions(){var n;const e=[];for(const s of this.actions||[])(n=s.error)!=null&&n.message&&e.push({action:s,stack:s.stack,message:s.error.message});return e}_errorDescriptorsFromTestRunner(){return this.errors.filter(e=>!!e.message).map((e,n)=>({stack:e.stack,message:e.message,context:this.attachments.find(s=>s.name===`_error-context-${n}`)}))}}function indexModel(t){for(const n of t.pages)n[contextSymbol]=t;for(let n=0;n<t.actions.length;++n){const s=t.actions[n];s[contextSymbol]=t}let e;for(let n=t.actions.length-1;n>=0;n--){const s=t.actions[n];s[nextInContextSymbol]=e,s.apiName.includes("route.")||(e=s)}for(const n of t.events)n[contextSymbol]=t;for(const n of t.resources)n[contextSymbol]=t}function mergeActionsAndUpdateTiming(t){const e=new Map;for(const o of t){const a=o.traceUrl;let c=e.get(a);c||(c=[],e.set(a,c)),c.push(o)}const n=[];let s=0;for(const[,o]of e){e.size>1&&makeCallIdsUniqueAcrossTraceFiles(o,++s);const a=mergeActionsAndUpdateTimingSameTrace(o);n.push(...a)}n.sort((o,a)=>a.parentId===o.callId?1:o.parentId===a.callId?-1:o.endTime-a.endTime);for(let o=1;o<n.length;++o)n[o][prevByEndTimeSymbol]=n[o-1];n.sort((o,a)=>a.parentId===o.callId?-1:o.parentId===a.callId?1:o.startTime-a.startTime);for(let o=0;o+1<n.length;++o)n[o][nextByStartTimeSymbol]=n[o+1];return n}function makeCallIdsUniqueAcrossTraceFiles(t,e){for(const n of t)for(const s of n.actions)s.callId&&(s.callId=`${e}:${s.callId}`),s.parentId&&(s.parentId=`${e}:${s.parentId}`)}function mergeActionsAndUpdateTimingSameTrace(t){const e=new Map,n=t.filter(u=>u.origin==="library"),s=t.filter(u=>u.origin==="testRunner");if(!s.length||!n.length)return t.map(u=>u.actions.map(d=>({...d,context:u}))).flat();const o=n.some(u=>u.actions.some(d=>!!d.stepId));for(const u of n)for(const d of u.actions){const p=o?d.stepId:`${d.apiName}@${d.wallTime}`;e.set(p,{...d,context:u})}const a=monotonicTimeDeltaBetweenLibraryAndRunner(s,e,o);a&&adjustMonotonicTime(n,a);const c=new Map;for(const u of s)for(const d of u.actions){const p=o?d.callId:`${d.apiName}@${d.wallTime}`,g=e.get(p);if(g){c.set(d.callId,g.callId),d.error&&(g.error=d.error),d.attachments&&(g.attachments=d.attachments),d.annotations&&(g.annotations=d.annotations),d.parentId&&(g.parentId=c.get(d.parentId)??d.parentId),g.startTime=d.startTime,g.endTime=d.endTime;continue}d.parentId&&(d.parentId=c.get(d.parentId)??d.parentId),e.set(p,{...d,context:u})}return[...e.values()]}function adjustMonotonicTime(t,e){for(const n of t){n.startTime+=e,n.endTime+=e;for(const s of n.actions)s.startTime&&(s.startTime+=e),s.endTime&&(s.endTime+=e);for(const s of n.events)s.time+=e;for(const s of n.stdio)s.timestamp+=e;for(const s of n.pages)for(const o of s.screencastFrames)o.timestamp+=e;for(const s of n.resources)s._monotonicTime&&(s._monotonicTime+=e)}}function monotonicTimeDeltaBetweenLibraryAndRunner(t,e,n){for(const s of t)for(const o of s.actions){if(!o.startTime)continue;const a=n?o.callId:`${o.apiName}@${o.wallTime}`,c=e.get(a);if(c)return o.startTime-c.startTime}return 0}function buildActionTree(t){var s;const e=new Map;for(const o of t)e.set(o.callId,{id:o.callId,parent:void 0,children:[],action:o});const n={id:"",parent:void 0,children:[]};for(const o of e.values()){if((s=o.action)!=null&&s.apiName.startsWith(kTopLevelAttachmentPrefix))continue;const a=o.action.parentId&&e.get(o.action.parentId)||n;a.children.push(o),o.parent=a}return{rootItem:n,itemMap:e}}function context(t){return t[contextSymbol]}function nextInContext(t){return t[nextInContextSymbol]}function previousActionByEndTime(t){return t[prevByEndTimeSymbol]}function nextActionByStartTime(t){return t[nextByStartTimeSymbol]}function stats(t){let e=0,n=0;for(const s of eventsForAction(t)){if(s.type==="console"){const o=s.messageType;o==="warning"?++n:o==="error"&&++e}s.type==="event"&&s.method==="pageError"&&++e}return{errors:e,warnings:n}}function eventsForAction(t){let e=t[eventsSymbol];if(e)return e;const n=nextInContext(t);return e=context(t).events.filter(s=>s.time>=t.startTime&&(!n||s.time<n.startTime)),t[eventsSymbol]=e,e}function collectSources(t,e){var s;const n=new Map;for(const o of t)for(const a of o.stack||[]){let c=n.get(a.file);c||(c={errors:[],content:void 0},n.set(a.file,c))}for(const o of e){const{action:a,stack:c,message:u}=o;!a||!c||(s=n.get(c[0].file))==null||s.errors.push({line:c[0].line||0,message:u})}return n}const kRouteMethods=new Set(["page.route","page.routefromhar","page.unroute","page.unrouteall","browsercontext.route","browsercontext.routefromhar","browsercontext.unroute","browsercontext.unrouteall"]);{for(const t of[...kRouteMethods])kRouteMethods.add(t+"async");for(const t of["page.route_from_har","page.unroute_all","context.route_from_har","context.unroute_all"])kRouteMethods.add(t)}const kMinSize=50,SplitView=({sidebarSize:t,sidebarHidden:e=!1,sidebarIsFirst:n=!1,orientation:s="vertical",minSidebarSize:o=kMinSize,settingName:a,sidebar:c,main:u})=>{const d=Math.max(o,t)*window.devicePixelRatio,[p,g]=useSetting(a?a+"."+s+":size":void 0,d),[y,x]=useSetting(a?a+"."+s+":size":void 0,d),[v,T]=reactExports.useState(null),[S,E]=useMeasure();let C;s==="vertical"?(C=y/window.devicePixelRatio,S&&S.height<C&&(C=S.height-10)):(C=p/window.devicePixelRatio,S&&S.width<C&&(C=S.width-10)),document.body.style.userSelect=v?"none":"inherit";let N={};return s==="vertical"?n?N={top:v?0:C-4,bottom:v?0:void 0,height:v?"initial":8}:N={bottom:v?0:C-4,top:v?0:void 0,height:v?"initial":8}:n?N={left:v?0:C-4,right:v?0:void 0,width:v?"initial":8}:N={right:v?0:C-4,left:v?0:void 0,width:v?"initial":8},jsxRuntimeExports.jsxs("div",{className:clsx("split-view",s,n&&"sidebar-first"),ref:E,children:[jsxRuntimeExports.jsx("div",{className:"split-view-main",children:u}),!e&&jsxRuntimeExports.jsx("div",{style:{flexBasis:C},className:"split-view-sidebar",children:c}),!e&&jsxRuntimeExports.jsx("div",{style:N,className:"split-view-resizer",onMouseDown:M=>T({offset:s==="vertical"?M.clientY:M.clientX,size:C}),onMouseUp:()=>T(null),onMouseMove:M=>{if(!M.buttons)T(null);else if(v){const $=(s==="vertical"?M.clientY:M.clientX)-v.offset,F=n?v.size+$:v.size-$,D=M.target.parentElement.getBoundingClientRect(),j=Math.min(Math.max(o,F),(s==="vertical"?D.height:D.width)-o);s==="vertical"?x(j*window.devicePixelRatio):g(j*window.devicePixelRatio)}}})]})},between=function(t,e,n){return t>=e&&t<=n};function digit(t){return between(t,48,57)}function hexdigit(t){return digit(t)||between(t,65,70)||between(t,97,102)}function uppercaseletter(t){return between(t,65,90)}function lowercaseletter(t){return between(t,97,122)}function letter(t){return uppercaseletter(t)||lowercaseletter(t)}function nonascii(t){return t>=128}function namestartchar(t){return letter(t)||nonascii(t)||t===95}function namechar(t){return namestartchar(t)||digit(t)||t===45}function nonprintable(t){return between(t,0,8)||t===11||between(t,14,31)||t===127}function newline(t){return t===10}function whitespace(t){return newline(t)||t===9||t===32}const maximumallowedcodepoint=1114111;class InvalidCharacterError extends Error{constructor(e){super(e),this.name="InvalidCharacterError"}}function preprocess(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s===13&&t.charCodeAt(n+1)===10&&(s=10,n++),(s===13||s===12)&&(s=10),s===0&&(s=65533),between(s,55296,56319)&&between(t.charCodeAt(n+1),56320,57343)){const o=s-55296,a=t.charCodeAt(n+1)-56320;s=Math.pow(2,16)+o*Math.pow(2,10)+a,n++}e.push(s)}return e}function stringFromCode(t){if(t<=65535)return String.fromCharCode(t);t-=Math.pow(2,16);const e=Math.floor(t/Math.pow(2,10))+55296,n=t%Math.pow(2,10)+56320;return String.fromCharCode(e)+String.fromCharCode(n)}function tokenize(t){const e=preprocess(t);let n=-1;const s=[];let o;const a=function(P){return P>=e.length?-1:e[P]},c=function(P){if(P===void 0&&(P=1),P>3)throw"Spec Error: no more than three codepoints of lookahead.";return a(n+P)},u=function(P){return P===void 0&&(P=1),n+=P,o=a(n),!0},d=function(){return n-=1,!0},p=function(P){return P===void 0&&(P=o),P===-1},g=function(){if(y(),u(),whitespace(o)){for(;whitespace(c());)u();return new WhitespaceToken}else{if(o===34)return T();if(o===35)if(namechar(c())||C(c(1),c(2))){const P=new HashToken("");return M(c(1),c(2),c(3))&&(P.type="id"),P.value=U(),P}else return new DelimToken(o);else return o===36?c()===61?(u(),new SuffixMatchToken):new DelimToken(o):o===39?T():o===40?new OpenParenToken:o===41?new CloseParenToken:o===42?c()===61?(u(),new SubstringMatchToken):new DelimToken(o):o===43?F()?(d(),x()):new DelimToken(o):o===44?new CommaToken:o===45?F()?(d(),x()):c(1)===45&&c(2)===62?(u(2),new CDCToken):O()?(d(),v()):new DelimToken(o):o===46?F()?(d(),x()):new DelimToken(o):o===58?new ColonToken:o===59?new SemicolonToken:o===60?c(1)===33&&c(2)===45&&c(3)===45?(u(3),new CDOToken):new DelimToken(o):o===64?M(c(1),c(2),c(3))?new AtKeywordToken(U()):new DelimToken(o):o===91?new OpenSquareToken:o===92?N()?(d(),v()):new DelimToken(o):o===93?new CloseSquareToken:o===94?c()===61?(u(),new PrefixMatchToken):new DelimToken(o):o===123?new OpenCurlyToken:o===124?c()===61?(u(),new DashMatchToken):c()===124?(u(),new ColumnToken):new DelimToken(o):o===125?new CloseCurlyToken:o===126?c()===61?(u(),new IncludeMatchToken):new DelimToken(o):digit(o)?(d(),x()):namestartchar(o)?(d(),v()):p()?new EOFToken:new DelimToken(o)}},y=function(){for(;c(1)===47&&c(2)===42;)for(u(2);;)if(u(),o===42&&c()===47){u();break}else if(p())return},x=function(){const P=D();if(M(c(1),c(2),c(3))){const G=new DimensionToken;return G.value=P.value,G.repr=P.repr,G.type=P.type,G.unit=U(),G}else if(c()===37){u();const G=new PercentageToken;return G.value=P.value,G.repr=P.repr,G}else{const G=new NumberToken;return G.value=P.value,G.repr=P.repr,G.type=P.type,G}},v=function(){const P=U();if(P.toLowerCase()==="url"&&c()===40){for(u();whitespace(c(1))&&whitespace(c(2));)u();return c()===34||c()===39?new FunctionToken(P):whitespace(c())&&(c(2)===34||c(2)===39)?new FunctionToken(P):S()}else return c()===40?(u(),new FunctionToken(P)):new IdentToken(P)},T=function(P){P===void 0&&(P=o);let G="";for(;u();){if(o===P||p())return new StringToken(G);if(newline(o))return d(),new BadStringToken;o===92?p(c())||(newline(c())?u():G+=stringFromCode(E())):G+=stringFromCode(o)}throw new Error("Internal error")},S=function(){const P=new URLToken("");for(;whitespace(c());)u();if(p(c()))return P;for(;u();){if(o===41||p())return P;if(whitespace(o)){for(;whitespace(c());)u();return c()===41||p(c())?(u(),P):(W(),new BadURLToken)}else{if(o===34||o===39||o===40||nonprintable(o))return W(),new BadURLToken;if(o===92)if(N())P.value+=stringFromCode(E());else return W(),new BadURLToken;else P.value+=stringFromCode(o)}}throw new Error("Internal error")},E=function(){if(u(),hexdigit(o)){const P=[o];for(let ce=0;ce<5&&hexdigit(c());ce++)u(),P.push(o);whitespace(c())&&u();let G=parseInt(P.map(function(ce){return String.fromCharCode(ce)}).join(""),16);return G>maximumallowedcodepoint&&(G=65533),G}else return p()?65533:o},C=function(P,G){return!(P!==92||newline(G))},N=function(){return C(o,c())},M=function(P,G,ce){return P===45?namestartchar(G)||G===45||C(G,ce):namestartchar(P)?!0:P===92?C(P,G):!1},O=function(){return M(o,c(1),c(2))},$=function(P,G,ce){return P===43||P===45?!!(digit(G)||G===46&&digit(ce)):P===46?!!digit(G):!!digit(P)},F=function(){return $(o,c(1),c(2))},U=function(){let P="";for(;u();)if(namechar(o))P+=stringFromCode(o);else if(N())P+=stringFromCode(E());else return d(),P;throw new Error("Internal parse error")},D=function(){let P="",G="integer";for((c()===43||c()===45)&&(u(),P+=stringFromCode(o));digit(c());)u(),P+=stringFromCode(o);if(c(1)===46&&digit(c(2)))for(u(),P+=stringFromCode(o),u(),P+=stringFromCode(o),G="number";digit(c());)u(),P+=stringFromCode(o);const ce=c(1),xe=c(2),Ee=c(3);if((ce===69||ce===101)&&digit(xe))for(u(),P+=stringFromCode(o),u(),P+=stringFromCode(o),G="number";digit(c());)u(),P+=stringFromCode(o);else if((ce===69||ce===101)&&(xe===43||xe===45)&&digit(Ee))for(u(),P+=stringFromCode(o),u(),P+=stringFromCode(o),u(),P+=stringFromCode(o),G="number";digit(c());)u(),P+=stringFromCode(o);const de=j(P);return{type:G,value:de,repr:P}},j=function(P){return+P},W=function(){for(;u();){if(o===41||p())return;N()&&E()}};let H=0;for(;!p(c());)if(s.push(g()),H++,H>e.length*2)throw new Error("I'm infinite-looping!");return s}class CSSParserToken{constructor(){this.tokenType=""}toJSON(){return{token:this.tokenType}}toString(){return this.tokenType}toSource(){return""+this}}class BadStringToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="BADSTRING"}}class BadURLToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="BADURL"}}class WhitespaceToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="WHITESPACE"}toString(){return"WS"}toSource(){return" "}}class CDOToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="CDO"}toSource(){return"<!--"}}class CDCToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="CDC"}toSource(){return"-->"}}class ColonToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType=":"}}class SemicolonToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType=";"}}class CommaToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType=","}}class GroupingToken extends CSSParserToken{constructor(){super(...arguments),this.value="",this.mirror=""}}class OpenCurlyToken extends GroupingToken{constructor(){super(),this.tokenType="{",this.value="{",this.mirror="}"}}class CloseCurlyToken extends GroupingToken{constructor(){super(),this.tokenType="}",this.value="}",this.mirror="{"}}class OpenSquareToken extends GroupingToken{constructor(){super(),this.tokenType="[",this.value="[",this.mirror="]"}}class CloseSquareToken extends GroupingToken{constructor(){super(),this.tokenType="]",this.value="]",this.mirror="["}}class OpenParenToken extends GroupingToken{constructor(){super(),this.tokenType="(",this.value="(",this.mirror=")"}}class CloseParenToken extends GroupingToken{constructor(){super(),this.tokenType=")",this.value=")",this.mirror="("}}class IncludeMatchToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="~="}}class DashMatchToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="|="}}class PrefixMatchToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="^="}}class SuffixMatchToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="$="}}class SubstringMatchToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="*="}}class ColumnToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="||"}}class EOFToken extends CSSParserToken{constructor(){super(...arguments),this.tokenType="EOF"}toSource(){return""}}class DelimToken extends CSSParserToken{constructor(e){super(),this.tokenType="DELIM",this.value="",this.value=stringFromCode(e)}toString(){return"DELIM("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}toSource(){return this.value==="\\"?`\\
`:this.value}}class StringValuedToken extends CSSParserToken{constructor(){super(...arguments),this.value=""}ASCIIMatch(e){return this.value.toLowerCase()===e.toLowerCase()}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}}class IdentToken extends StringValuedToken{constructor(e){super(),this.tokenType="IDENT",this.value=e}toString(){return"IDENT("+this.value+")"}toSource(){return escapeIdent(this.value)}}class FunctionToken extends StringValuedToken{constructor(e){super(),this.tokenType="FUNCTION",this.value=e,this.mirror=")"}toString(){return"FUNCTION("+this.value+")"}toSource(){return escapeIdent(this.value)+"("}}class AtKeywordToken extends StringValuedToken{constructor(e){super(),this.tokenType="AT-KEYWORD",this.value=e}toString(){return"AT("+this.value+")"}toSource(){return"@"+escapeIdent(this.value)}}class HashToken extends StringValuedToken{constructor(e){super(),this.tokenType="HASH",this.value=e,this.type="unrestricted"}toString(){return"HASH("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e}toSource(){return this.type==="id"?"#"+escapeIdent(this.value):"#"+escapeHash(this.value)}}class StringToken extends StringValuedToken{constructor(e){super(),this.tokenType="STRING",this.value=e}toString(){return'"'+escapeString(this.value)+'"'}}class URLToken extends StringValuedToken{constructor(e){super(),this.tokenType="URL",this.value=e}toString(){return"URL("+this.value+")"}toSource(){return'url("'+escapeString(this.value)+'")'}}class NumberToken extends CSSParserToken{constructor(){super(),this.tokenType="NUMBER",this.type="integer",this.repr=""}toString(){return this.type==="integer"?"INT("+this.value+")":"NUMBER("+this.value+")"}toJSON(){const e=super.toJSON();return e.value=this.value,e.type=this.type,e.repr=this.repr,e}toSource(){return this.repr}}class PercentageToken extends CSSParserToken{constructor(){super(),this.tokenType="PERCENTAGE",this.repr=""}toString(){return"PERCENTAGE("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.repr=this.repr,e}toSource(){return this.repr+"%"}}class DimensionToken extends CSSParserToken{constructor(){super(),this.tokenType="DIMENSION",this.type="integer",this.repr="",this.unit=""}toString(){return"DIM("+this.value+","+this.unit+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e.repr=this.repr,e.unit=this.unit,e}toSource(){const e=this.repr;let n=escapeIdent(this.unit);return n[0].toLowerCase()==="e"&&(n[1]==="-"||between(n.charCodeAt(1),48,57))&&(n="\\65 "+n.slice(1,n.length)),e+n}}function escapeIdent(t){t=""+t;let e="";const n=t.charCodeAt(0);for(let s=0;s<t.length;s++){const o=t.charCodeAt(s);if(o===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");between(o,1,31)||o===127||s===0&&between(o,48,57)||s===1&&between(o,48,57)&&n===45?e+="\\"+o.toString(16)+" ":o>=128||o===45||o===95||between(o,48,57)||between(o,65,90)||between(o,97,122)?e+=t[s]:e+="\\"+t[s]}return e}function escapeHash(t){t=""+t;let e="";for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");s>=128||s===45||s===95||between(s,48,57)||between(s,65,90)||between(s,97,122)?e+=t[n]:e+="\\"+s.toString(16)+" "}return e}function escapeString(t){t=""+t;let e="";for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");between(s,1,31)||s===127?e+="\\"+s.toString(16)+" ":s===34||s===92?e+="\\"+t[n]:e+=t[n]}return e}class InvalidSelectorError extends Error{}function parseCSS(t,e){let n;try{n=tokenize(t),n[n.length-1]instanceof EOFToken||n.push(new EOFToken)}catch(j){const W=j.message+` while parsing css selector "${t}". Did you mean to CSS.escape it?`,H=(j.stack||"").indexOf(j.message);throw H!==-1&&(j.stack=j.stack.substring(0,H)+W+j.stack.substring(H+j.message.length)),j.message=W,j}const s=n.find(j=>j instanceof AtKeywordToken||j instanceof BadStringToken||j instanceof BadURLToken||j instanceof ColumnToken||j instanceof CDOToken||j instanceof CDCToken||j instanceof SemicolonToken||j instanceof OpenCurlyToken||j instanceof CloseCurlyToken||j instanceof URLToken||j instanceof PercentageToken);if(s)throw new InvalidSelectorError(`Unsupported token "${s.toSource()}" while parsing css selector "${t}". Did you mean to CSS.escape it?`);let o=0;const a=new Set;function c(){return new InvalidSelectorError(`Unexpected token "${n[o].toSource()}" while parsing css selector "${t}". Did you mean to CSS.escape it?`)}function u(){for(;n[o]instanceof WhitespaceToken;)o++}function d(j=o){return n[j]instanceof IdentToken}function p(j=o){return n[j]instanceof StringToken}function g(j=o){return n[j]instanceof NumberToken}function y(j=o){return n[j]instanceof CommaToken}function x(j=o){return n[j]instanceof OpenParenToken}function v(j=o){return n[j]instanceof CloseParenToken}function T(j=o){return n[j]instanceof FunctionToken}function S(j=o){return n[j]instanceof DelimToken&&n[j].value==="*"}function E(j=o){return n[j]instanceof EOFToken}function C(j=o){return n[j]instanceof DelimToken&&[">","+","~"].includes(n[j].value)}function N(j=o){return y(j)||v(j)||E(j)||C(j)||n[j]instanceof WhitespaceToken}function M(){const j=[O()];for(;u(),!!y();)o++,j.push(O());return j}function O(){return u(),g()||p()?n[o++].value:$()}function $(){const j={simples:[]};for(u(),C()?j.simples.push({selector:{functions:[{name:"scope",args:[]}]},combinator:""}):j.simples.push({selector:F(),combinator:""});;){if(u(),C())j.simples[j.simples.length-1].combinator=n[o++].value,u();else if(N())break;j.simples.push({combinator:"",selector:F()})}return j}function F(){let j="";const W=[];for(;!N();)if(d()||S())j+=n[o++].toSource();else if(n[o]instanceof HashToken)j+=n[o++].toSource();else if(n[o]instanceof DelimToken&&n[o].value===".")if(o++,d())j+="."+n[o++].toSource();else throw c();else if(n[o]instanceof ColonToken)if(o++,d())if(!e.has(n[o].value.toLowerCase()))j+=":"+n[o++].toSource();else{const H=n[o++].value.toLowerCase();W.push({name:H,args:[]}),a.add(H)}else if(T()){const H=n[o++].value.toLowerCase();if(e.has(H)?(W.push({name:H,args:M()}),a.add(H)):j+=`:${H}(${U()})`,u(),!v())throw c();o++}else throw c();else if(n[o]instanceof OpenSquareToken){for(j+="[",o++;!(n[o]instanceof CloseSquareToken)&&!E();)j+=n[o++].toSource();if(!(n[o]instanceof CloseSquareToken))throw c();j+="]",o++}else throw c();if(!j&&!W.length)throw c();return{css:j||void 0,functions:W}}function U(){let j="",W=1;for(;!E()&&((x()||T())&&W++,v()&&W--,!!W);)j+=n[o++].toSource();return j}const D=M();if(!E())throw c();if(D.some(j=>typeof j!="object"||!("simples"in j)))throw new InvalidSelectorError(`Error while parsing css selector "${t}". Did you mean to CSS.escape it?`);return{selector:D,names:Array.from(a)}}const kNestedSelectorNames=new Set(["internal:has","internal:has-not","internal:and","internal:or","internal:chain","left-of","right-of","above","below","near"]),kNestedSelectorNamesWithDistance=new Set(["left-of","right-of","above","below","near"]),customCSSNames=new Set(["not","is","where","has","scope","light","visible","text","text-matches","text-is","has-text","above","below","right-of","left-of","near","nth-match"]);function parseSelector(t){const e=parseSelectorString(t),n=[];for(const s of e.parts){if(s.name==="css"||s.name==="css:light"){s.name==="css:light"&&(s.body=":light("+s.body+")");const o=parseCSS(s.body,customCSSNames);n.push({name:"css",body:o.selector,source:s.body});continue}if(kNestedSelectorNames.has(s.name)){let o,a;try{const p=JSON.parse("["+s.body+"]");if(!Array.isArray(p)||p.length<1||p.length>2||typeof p[0]!="string")throw new InvalidSelectorError(`Malformed selector: ${s.name}=`+s.body);if(o=p[0],p.length===2){if(typeof p[1]!="number"||!kNestedSelectorNamesWithDistance.has(s.name))throw new InvalidSelectorError(`Malformed selector: ${s.name}=`+s.body);a=p[1]}}catch{throw new InvalidSelectorError(`Malformed selector: ${s.name}=`+s.body)}const c={name:s.name,source:s.body,body:{parsed:parseSelector(o),distance:a}},u=[...c.body.parsed.parts].reverse().find(p=>p.name==="internal:control"&&p.body==="enter-frame"),d=u?c.body.parsed.parts.indexOf(u):-1;d!==-1&&selectorPartsEqual(c.body.parsed.parts.slice(0,d+1),n.slice(0,d+1))&&c.body.parsed.parts.splice(0,d+1),n.push(c);continue}n.push({...s,source:s.body})}if(kNestedSelectorNames.has(n[0].name))throw new InvalidSelectorError(`"${n[0].name}" selector cannot be first`);return{capture:e.capture,parts:n}}function selectorPartsEqual(t,e){return stringifySelector({parts:t})===stringifySelector({parts:e})}function stringifySelector(t,e){return typeof t=="string"?t:t.parts.map((n,s)=>{let o=!0;!e&&s!==t.capture&&(n.name==="css"||n.name==="xpath"&&n.source.startsWith("//")||n.source.startsWith(".."))&&(o=!1);const a=o?n.name+"=":"";return`${s===t.capture?"*":""}${a}${n.source}`}).join(" >> ")}function visitAllSelectorParts(t,e){const n=(s,o)=>{for(const a of s.parts)e(a,o),kNestedSelectorNames.has(a.name)&&n(a.body.parsed,!0)};n(t,!1)}function parseSelectorString(t){let e=0,n,s=0;const o={parts:[]},a=()=>{const u=t.substring(s,e).trim(),d=u.indexOf("=");let p,g;d!==-1&&u.substring(0,d).trim().match(/^[a-zA-Z_0-9-+:*]+$/)?(p=u.substring(0,d).trim(),g=u.substring(d+1)):u.length>1&&u[0]==='"'&&u[u.length-1]==='"'||u.length>1&&u[0]==="'"&&u[u.length-1]==="'"?(p="text",g=u):/^\(*\/\//.test(u)||u.startsWith("..")?(p="xpath",g=u):(p="css",g=u);let y=!1;if(p[0]==="*"&&(y=!0,p=p.substring(1)),o.parts.push({name:p,body:g}),y){if(o.capture!==void 0)throw new InvalidSelectorError("Only one of the selectors can capture using * modifier");o.capture=o.parts.length-1}};if(!t.includes(">>"))return e=t.length,a(),o;const c=()=>{const d=t.substring(s,e).match(/^\s*text\s*=(.*)$/);return!!d&&!!d[1]};for(;e<t.length;){const u=t[e];u==="\\"&&e+1<t.length?e+=2:u===n?(n=void 0,e++):!n&&(u==='"'||u==="'"||u==="`")&&!c()?(n=u,e++):!n&&u===">"&&t[e+1]===">"?(a(),e+=2,s=e):e++}return a(),o}function parseAttributeSelector(t,e){let n=0,s=t.length===0;const o=()=>t[n]||"",a=()=>{const E=o();return++n,s=n>=t.length,E},c=E=>{throw s?new InvalidSelectorError(`Unexpected end of selector while parsing selector \`${t}\``):new InvalidSelectorError(`Error while parsing selector \`${t}\` - unexpected symbol "${o()}" at position ${n}`+(E?" during "+E:""))};function u(){for(;!s&&/\s/.test(o());)a()}function d(E){return E>=""||E>="0"&&E<="9"||E>="A"&&E<="Z"||E>="a"&&E<="z"||E>="0"&&E<="9"||E==="_"||E==="-"}function p(){let E="";for(u();!s&&d(o());)E+=a();return E}function g(E){let C=a();for(C!==E&&c("parsing quoted string");!s&&o()!==E;)o()==="\\"&&a(),C+=a();return o()!==E&&c("parsing quoted string"),C+=a(),C}function y(){a()!=="/"&&c("parsing regular expression");let E="",C=!1;for(;!s;){if(o()==="\\")E+=a(),s&&c("parsing regular expression");else if(C&&o()==="]")C=!1;else if(!C&&o()==="[")C=!0;else if(!C&&o()==="/")break;E+=a()}a()!=="/"&&c("parsing regular expression");let N="";for(;!s&&o().match(/[dgimsuy]/);)N+=a();try{return new RegExp(E,N)}catch(M){throw new InvalidSelectorError(`Error while parsing selector \`${t}\`: ${M.message}`)}}function x(){let E="";return u(),o()==="'"||o()==='"'?E=g(o()).slice(1,-1):E=p(),E||c("parsing property path"),E}function v(){u();let E="";return s||(E+=a()),!s&&E!=="="&&(E+=a()),["=","*=","^=","$=","|=","~="].includes(E)||c("parsing operator"),E}function T(){a();const E=[];for(E.push(x()),u();o()===".";)a(),E.push(x()),u();if(o()==="]")return a(),{name:E.join("."),jsonPath:E,op:"<truthy>",value:null,caseSensitive:!1};const C=v();let N,M=!0;if(u(),o()==="/"){if(C!=="=")throw new InvalidSelectorError(`Error while parsing selector \`${t}\` - cannot use ${C} in attribute with regular expression`);N=y()}else if(o()==="'"||o()==='"')N=g(o()).slice(1,-1),u(),o()==="i"||o()==="I"?(M=!1,a()):(o()==="s"||o()==="S")&&(M=!0,a());else{for(N="";!s&&(d(o())||o()==="+"||o()===".");)N+=a();N==="true"?N=!0:N==="false"?N=!1:e||(N=+N,Number.isNaN(N)&&c("parsing attribute value"))}if(u(),o()!=="]"&&c("parsing attribute value"),a(),C!=="="&&typeof N!="string")throw new InvalidSelectorError(`Error while parsing selector \`${t}\` - cannot use ${C} in attribute with non-string matching value - ${N}`);return{name:E.join("."),jsonPath:E,op:C,value:N,caseSensitive:M}}const S={name:"",attributes:[]};for(S.name=p(),u();o()==="[";)S.attributes.push(T()),u();if(s||c(void 0),!S.name&&!S.attributes.length)throw new InvalidSelectorError(`Error while parsing selector \`${t}\` - selector cannot be empty`);return S}function escapeWithQuotes(t,e="'"){const n=JSON.stringify(t),s=n.substring(1,n.length-1).replace(/\\"/g,'"');if(e==="'")return e+s.replace(/[']/g,"\\'")+e;if(e==='"')return e+s.replace(/["]/g,'\\"')+e;if(e==="`")return e+s.replace(/[`]/g,"`")+e;throw new Error("Invalid escape char")}function toTitleCase(t){return t.charAt(0).toUpperCase()+t.substring(1)}function toSnakeCase(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}function cssEscape(t){let e="";for(let n=0;n<t.length;n++)e+=cssEscapeOne(t,n);return e}function quoteCSSAttributeValue(t){return`"${cssEscape(t).replace(/\\ /g," ")}"`}function cssEscapeOne(t,e){const n=t.charCodeAt(e);return n===0?"�":n>=1&&n<=31||n>=48&&n<=57&&(e===0||e===1&&t.charCodeAt(0)===45)?"\\"+n.toString(16)+" ":e===0&&n===45&&t.length===1?"\\"+t.charAt(e):n>=128||n===45||n===95||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?t.charAt(e):"\\"+t.charAt(e)}let normalizedWhitespaceCache;function cacheNormalizedWhitespaces(){normalizedWhitespaceCache=new Map}function normalizeWhiteSpace(t){let e=normalizedWhitespaceCache==null?void 0:normalizedWhitespaceCache.get(t);return e===void 0&&(e=t.replace(/[\u200b\u00ad]/g,"").trim().replace(/\s+/g," "),normalizedWhitespaceCache==null||normalizedWhitespaceCache.set(t,e)),e}function normalizeEscapedRegexQuotes(t){return t.replace(/(^|[^\\])(\\\\)*\\(['"`])/g,"$1$2$3")}function escapeRegexForSelector(t){return t.unicode||t.unicodeSets?String(t):String(t).replace(/(^|[^\\])(\\\\)*(["'`])/g,"$1$2\\$3").replace(/>>/g,"\\>\\>")}function escapeForTextSelector(t,e){return typeof t!="string"?escapeRegexForSelector(t):`${JSON.stringify(t)}${e?"s":"i"}`}function escapeForAttributeSelector(t,e){return typeof t!="string"?escapeRegexForSelector(t):`"${t.replace(/\\/g,"\\\\").replace(/["]/g,'\\"')}"${e?"s":"i"}`}function trimString(t,e,n=""){if(t.length<=e)return t;const s=[...t];return s.length>e?s.slice(0,e-n.length).join("")+n:s.join("")}function trimStringWithEllipsis(t,e){return trimString(t,e,"…")}function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function longestCommonSubstring(t,e){const n=t.length,s=e.length;let o=0,a=0;const c=Array(n+1).fill(null).map(()=>Array(s+1).fill(0));for(let u=1;u<=n;u++)for(let d=1;d<=s;d++)t[u-1]===e[d-1]&&(c[u][d]=c[u-1][d-1]+1,c[u][d]>o&&(o=c[u][d],a=u));return t.slice(a-o,a)}function asLocator(t,e,n=!1){return asLocators(t,e,n,1)[0]}function asLocators(t,e,n=!1,s=20,o){try{return innerAsLocators(new generators[t](o),parseSelector(e),n,s)}catch{return[e]}}function innerAsLocators(t,e,n=!1,s=20){const o=[...e.parts],a=[];let c=n?"frame-locator":"page";for(let u=0;u<o.length;u++){const d=o[u],p=c;if(c="locator",d.name==="nth"){d.body==="0"?a.push([t.generateLocator(p,"first",""),t.generateLocator(p,"nth","0")]):d.body==="-1"?a.push([t.generateLocator(p,"last",""),t.generateLocator(p,"nth","-1")]):a.push([t.generateLocator(p,"nth",d.body)]);continue}if(d.name==="visible"){a.push([t.generateLocator(p,"visible",d.body),t.generateLocator(p,"default",`visible=${d.body}`)]);continue}if(d.name==="internal:text"){const{exact:T,text:S}=detectExact(d.body);a.push([t.generateLocator(p,"text",S,{exact:T})]);continue}if(d.name==="internal:has-text"){const{exact:T,text:S}=detectExact(d.body);if(!T){a.push([t.generateLocator(p,"has-text",S,{exact:T})]);continue}}if(d.name==="internal:has-not-text"){const{exact:T,text:S}=detectExact(d.body);if(!T){a.push([t.generateLocator(p,"has-not-text",S,{exact:T})]);continue}}if(d.name==="internal:has"){const T=innerAsLocators(t,d.body.parsed,!1,s);a.push(T.map(S=>t.generateLocator(p,"has",S)));continue}if(d.name==="internal:has-not"){const T=innerAsLocators(t,d.body.parsed,!1,s);a.push(T.map(S=>t.generateLocator(p,"hasNot",S)));continue}if(d.name==="internal:and"){const T=innerAsLocators(t,d.body.parsed,!1,s);a.push(T.map(S=>t.generateLocator(p,"and",S)));continue}if(d.name==="internal:or"){const T=innerAsLocators(t,d.body.parsed,!1,s);a.push(T.map(S=>t.generateLocator(p,"or",S)));continue}if(d.name==="internal:chain"){const T=innerAsLocators(t,d.body.parsed,!1,s);a.push(T.map(S=>t.generateLocator(p,"chain",S)));continue}if(d.name==="internal:label"){const{exact:T,text:S}=detectExact(d.body);a.push([t.generateLocator(p,"label",S,{exact:T})]);continue}if(d.name==="internal:role"){const T=parseAttributeSelector(d.body,!0),S={attrs:[]};for(const E of T.attributes)E.name==="name"?(S.exact=E.caseSensitive,S.name=E.value):(E.name==="level"&&typeof E.value=="string"&&(E.value=+E.value),S.attrs.push({name:E.name==="include-hidden"?"includeHidden":E.name,value:E.value}));a.push([t.generateLocator(p,"role",T.name,S)]);continue}if(d.name==="internal:testid"){const T=parseAttributeSelector(d.body,!0),{value:S}=T.attributes[0];a.push([t.generateLocator(p,"test-id",S)]);continue}if(d.name==="internal:attr"){const T=parseAttributeSelector(d.body,!0),{name:S,value:E,caseSensitive:C}=T.attributes[0],N=E,M=!!C;if(S==="placeholder"){a.push([t.generateLocator(p,"placeholder",N,{exact:M})]);continue}if(S==="alt"){a.push([t.generateLocator(p,"alt",N,{exact:M})]);continue}if(S==="title"){a.push([t.generateLocator(p,"title",N,{exact:M})]);continue}}if(d.name==="internal:control"&&d.body==="enter-frame"){const T=a[a.length-1],S=o[u-1],E=T.map(C=>t.chainLocators([C,t.generateLocator(p,"frame","")]));["xpath","css"].includes(S.name)&&E.push(t.generateLocator(p,"frame-locator",stringifySelector({parts:[S]})),t.generateLocator(p,"frame-locator",stringifySelector({parts:[S]},!0))),T.splice(0,T.length,...E),c="frame-locator";continue}const g=o[u+1],y=stringifySelector({parts:[d]}),x=t.generateLocator(p,"default",y);if(g&&["internal:has-text","internal:has-not-text"].includes(g.name)){const{exact:T,text:S}=detectExact(g.body);if(!T){const E=t.generateLocator("locator",g.name==="internal:has-text"?"has-text":"has-not-text",S,{exact:T}),C={};g.name==="internal:has-text"?C.hasText=S:C.hasNotText=S;const N=t.generateLocator(p,"default",y,C);a.push([t.chainLocators([x,E]),N]),u++;continue}}let v;if(["xpath","css"].includes(d.name)){const T=stringifySelector({parts:[d]},!0);v=t.generateLocator(p,"default",T)}a.push([x,v].filter(Boolean))}return combineTokens(t,a,s)}function combineTokens(t,e,n){const s=e.map(()=>""),o=[],a=c=>{if(c===e.length)return o.push(t.chainLocators(s)),o.length<n;for(const u of e[c])if(s[c]=u,!a(c+1))return!1;return!0};return a(0),o}function detectExact(t){let e=!1;const n=t.match(/^\/(.*)\/([igm]*)$/);return n?{text:new RegExp(n[1],n[2])}:(t.endsWith('"')?(t=JSON.parse(t),e=!0):t.endsWith('"s')?(t=JSON.parse(t.substring(0,t.length-1)),e=!0):t.endsWith('"i')&&(t=JSON.parse(t.substring(0,t.length-1)),e=!1),{exact:e,text:t})}class JavaScriptLocatorFactory{constructor(e){this.preferredQuote=e}generateLocator(e,n,s,o={}){switch(n){case"default":return o.hasText!==void 0?`locator(${this.quote(s)}, { hasText: ${this.toHasText(o.hasText)} })`:o.hasNotText!==void 0?`locator(${this.quote(s)}, { hasNotText: ${this.toHasText(o.hasNotText)} })`:`locator(${this.quote(s)})`;case"frame-locator":return`frameLocator(${this.quote(s)})`;case"frame":return"contentFrame()";case"nth":return`nth(${s})`;case"first":return"first()";case"last":return"last()";case"visible":return`filter({ visible: ${s==="true"?"true":"false"} })`;case"role":const a=[];isRegExp$1(o.name)?a.push(`name: ${this.regexToSourceString(o.name)}`):typeof o.name=="string"&&(a.push(`name: ${this.quote(o.name)}`),o.exact&&a.push("exact: true"));for(const{name:u,value:d}of o.attrs)a.push(`${u}: ${typeof d=="string"?this.quote(d):d}`);const c=a.length?`, { ${a.join(", ")} }`:"";return`getByRole(${this.quote(s)}${c})`;case"has-text":return`filter({ hasText: ${this.toHasText(s)} })`;case"has-not-text":return`filter({ hasNotText: ${this.toHasText(s)} })`;case"has":return`filter({ has: ${s} })`;case"hasNot":return`filter({ hasNot: ${s} })`;case"and":return`and(${s})`;case"or":return`or(${s})`;case"chain":return`locator(${s})`;case"test-id":return`getByTestId(${this.toTestIdValue(s)})`;case"text":return this.toCallWithExact("getByText",s,!!o.exact);case"alt":return this.toCallWithExact("getByAltText",s,!!o.exact);case"placeholder":return this.toCallWithExact("getByPlaceholder",s,!!o.exact);case"label":return this.toCallWithExact("getByLabel",s,!!o.exact);case"title":return this.toCallWithExact("getByTitle",s,!!o.exact);default:throw new Error("Unknown selector kind "+n)}}chainLocators(e){return e.join(".")}regexToSourceString(e){return normalizeEscapedRegexQuotes(String(e))}toCallWithExact(e,n,s){return isRegExp$1(n)?`${e}(${this.regexToSourceString(n)})`:s?`${e}(${this.quote(n)}, { exact: true })`:`${e}(${this.quote(n)})`}toHasText(e){return isRegExp$1(e)?this.regexToSourceString(e):this.quote(e)}toTestIdValue(e){return isRegExp$1(e)?this.regexToSourceString(e):this.quote(e)}quote(e){return escapeWithQuotes(e,this.preferredQuote??"'")}}class PythonLocatorFactory{generateLocator(e,n,s,o={}){switch(n){case"default":return o.hasText!==void 0?`locator(${this.quote(s)}, has_text=${this.toHasText(o.hasText)})`:o.hasNotText!==void 0?`locator(${this.quote(s)}, has_not_text=${this.toHasText(o.hasNotText)})`:`locator(${this.quote(s)})`;case"frame-locator":return`frame_locator(${this.quote(s)})`;case"frame":return"content_frame";case"nth":return`nth(${s})`;case"first":return"first";case"last":return"last";case"visible":return`filter(visible=${s==="true"?"True":"False"})`;case"role":const a=[];isRegExp$1(o.name)?a.push(`name=${this.regexToString(o.name)}`):typeof o.name=="string"&&(a.push(`name=${this.quote(o.name)}`),o.exact&&a.push("exact=True"));for(const{name:u,value:d}of o.attrs){let p=typeof d=="string"?this.quote(d):d;typeof d=="boolean"&&(p=d?"True":"False"),a.push(`${toSnakeCase(u)}=${p}`)}const c=a.length?`, ${a.join(", ")}`:"";return`get_by_role(${this.quote(s)}${c})`;case"has-text":return`filter(has_text=${this.toHasText(s)})`;case"has-not-text":return`filter(has_not_text=${this.toHasText(s)})`;case"has":return`filter(has=${s})`;case"hasNot":return`filter(has_not=${s})`;case"and":return`and_(${s})`;case"or":return`or_(${s})`;case"chain":return`locator(${s})`;case"test-id":return`get_by_test_id(${this.toTestIdValue(s)})`;case"text":return this.toCallWithExact("get_by_text",s,!!o.exact);case"alt":return this.toCallWithExact("get_by_alt_text",s,!!o.exact);case"placeholder":return this.toCallWithExact("get_by_placeholder",s,!!o.exact);case"label":return this.toCallWithExact("get_by_label",s,!!o.exact);case"title":return this.toCallWithExact("get_by_title",s,!!o.exact);default:throw new Error("Unknown selector kind "+n)}}chainLocators(e){return e.join(".")}regexToString(e){const n=e.flags.includes("i")?", re.IGNORECASE":"";return`re.compile(r"${normalizeEscapedRegexQuotes(e.source).replace(/\\\//,"/").replace(/"/g,'\\"')}"${n})`}toCallWithExact(e,n,s){return isRegExp$1(n)?`${e}(${this.regexToString(n)})`:s?`${e}(${this.quote(n)}, exact=True)`:`${e}(${this.quote(n)})`}toHasText(e){return isRegExp$1(e)?this.regexToString(e):`${this.quote(e)}`}toTestIdValue(e){return isRegExp$1(e)?this.regexToString(e):this.quote(e)}quote(e){return escapeWithQuotes(e,'"')}}class JavaLocatorFactory{generateLocator(e,n,s,o={}){let a;switch(e){case"page":a="Page";break;case"frame-locator":a="FrameLocator";break;case"locator":a="Locator";break}switch(n){case"default":return o.hasText!==void 0?`locator(${this.quote(s)}, new ${a}.LocatorOptions().setHasText(${this.toHasText(o.hasText)}))`:o.hasNotText!==void 0?`locator(${this.quote(s)}, new ${a}.LocatorOptions().setHasNotText(${this.toHasText(o.hasNotText)}))`:`locator(${this.quote(s)})`;case"frame-locator":return`frameLocator(${this.quote(s)})`;case"frame":return"contentFrame()";case"nth":return`nth(${s})`;case"first":return"first()";case"last":return"last()";case"visible":return`filter(new ${a}.FilterOptions().setVisible(${s==="true"?"true":"false"}))`;case"role":const c=[];isRegExp$1(o.name)?c.push(`.setName(${this.regexToString(o.name)})`):typeof o.name=="string"&&(c.push(`.setName(${this.quote(o.name)})`),o.exact&&c.push(".setExact(true)"));for(const{name:d,value:p}of o.attrs)c.push(`.set${toTitleCase(d)}(${typeof p=="string"?this.quote(p):p})`);const u=c.length?`, new ${a}.GetByRoleOptions()${c.join("")}`:"";return`getByRole(AriaRole.${toSnakeCase(s).toUpperCase()}${u})`;case"has-text":return`filter(new ${a}.FilterOptions().setHasText(${this.toHasText(s)}))`;case"has-not-text":return`filter(new ${a}.FilterOptions().setHasNotText(${this.toHasText(s)}))`;case"has":return`filter(new ${a}.FilterOptions().setHas(${s}))`;case"hasNot":return`filter(new ${a}.FilterOptions().setHasNot(${s}))`;case"and":return`and(${s})`;case"or":return`or(${s})`;case"chain":return`locator(${s})`;case"test-id":return`getByTestId(${this.toTestIdValue(s)})`;case"text":return this.toCallWithExact(a,"getByText",s,!!o.exact);case"alt":return this.toCallWithExact(a,"getByAltText",s,!!o.exact);case"placeholder":return this.toCallWithExact(a,"getByPlaceholder",s,!!o.exact);case"label":return this.toCallWithExact(a,"getByLabel",s,!!o.exact);case"title":return this.toCallWithExact(a,"getByTitle",s,!!o.exact);default:throw new Error("Unknown selector kind "+n)}}chainLocators(e){return e.join(".")}regexToString(e){const n=e.flags.includes("i")?", Pattern.CASE_INSENSITIVE":"";return`Pattern.compile(${this.quote(normalizeEscapedRegexQuotes(e.source))}${n})`}toCallWithExact(e,n,s,o){return isRegExp$1(s)?`${n}(${this.regexToString(s)})`:o?`${n}(${this.quote(s)}, new ${e}.${toTitleCase(n)}Options().setExact(true))`:`${n}(${this.quote(s)})`}toHasText(e){return isRegExp$1(e)?this.regexToString(e):this.quote(e)}toTestIdValue(e){return isRegExp$1(e)?this.regexToString(e):this.quote(e)}quote(e){return escapeWithQuotes(e,'"')}}class CSharpLocatorFactory{generateLocator(e,n,s,o={}){switch(n){case"default":return o.hasText!==void 0?`Locator(${this.quote(s)}, new() { ${this.toHasText(o.hasText)} })`:o.hasNotText!==void 0?`Locator(${this.quote(s)}, new() { ${this.toHasNotText(o.hasNotText)} })`:`Locator(${this.quote(s)})`;case"frame-locator":return`FrameLocator(${this.quote(s)})`;case"frame":return"ContentFrame";case"nth":return`Nth(${s})`;case"first":return"First";case"last":return"Last";case"visible":return`Filter(new() { Visible = ${s==="true"?"true":"false"} })`;case"role":const a=[];isRegExp$1(o.name)?a.push(`NameRegex = ${this.regexToString(o.name)}`):typeof o.name=="string"&&(a.push(`Name = ${this.quote(o.name)}`),o.exact&&a.push("Exact = true"));for(const{name:u,value:d}of o.attrs)a.push(`${toTitleCase(u)} = ${typeof d=="string"?this.quote(d):d}`);const c=a.length?`, new() { ${a.join(", ")} }`:"";return`GetByRole(AriaRole.${toTitleCase(s)}${c})`;case"has-text":return`Filter(new() { ${this.toHasText(s)} })`;case"has-not-text":return`Filter(new() { ${this.toHasNotText(s)} })`;case"has":return`Filter(new() { Has = ${s} })`;case"hasNot":return`Filter(new() { HasNot = ${s} })`;case"and":return`And(${s})`;case"or":return`Or(${s})`;case"chain":return`Locator(${s})`;case"test-id":return`GetByTestId(${this.toTestIdValue(s)})`;case"text":return this.toCallWithExact("GetByText",s,!!o.exact);case"alt":return this.toCallWithExact("GetByAltText",s,!!o.exact);case"placeholder":return this.toCallWithExact("GetByPlaceholder",s,!!o.exact);case"label":return this.toCallWithExact("GetByLabel",s,!!o.exact);case"title":return this.toCallWithExact("GetByTitle",s,!!o.exact);default:throw new Error("Unknown selector kind "+n)}}chainLocators(e){return e.join(".")}regexToString(e){const n=e.flags.includes("i")?", RegexOptions.IgnoreCase":"";return`new Regex(${this.quote(normalizeEscapedRegexQuotes(e.source))}${n})`}toCallWithExact(e,n,s){return isRegExp$1(n)?`${e}(${this.regexToString(n)})`:s?`${e}(${this.quote(n)}, new() { Exact = true })`:`${e}(${this.quote(n)})`}toHasText(e){return isRegExp$1(e)?`HasTextRegex = ${this.regexToString(e)}`:`HasText = ${this.quote(e)}`}toTestIdValue(e){return isRegExp$1(e)?this.regexToString(e):this.quote(e)}toHasNotText(e){return isRegExp$1(e)?`HasNotTextRegex = ${this.regexToString(e)}`:`HasNotText = ${this.quote(e)}`}quote(e){return escapeWithQuotes(e,'"')}}class JsonlLocatorFactory{generateLocator(e,n,s,o={}){return JSON.stringify({kind:n,body:s,options:o})}chainLocators(e){const n=e.map(s=>JSON.parse(s));for(let s=0;s<n.length-1;++s)n[s].next=n[s+1];return JSON.stringify(n[0])}}const generators={javascript:JavaScriptLocatorFactory,python:PythonLocatorFactory,java:JavaLocatorFactory,csharp:CSharpLocatorFactory,jsonl:JsonlLocatorFactory};function isRegExp$1(t){return t instanceof RegExp}const scrollPositions$1=new Map;function TreeView({name:t,rootItem:e,render:n,title:s,icon:o,isError:a,isVisible:c,selectedItem:u,onAccepted:d,onSelected:p,onHighlighted:g,treeState:y,setTreeState:x,noItemsMessage:v,dataTestId:T,autoExpandDepth:S}){const E=reactExports.useMemo(()=>indexTree(e,u,y.expandedItems,S||0,c),[e,u,y,S,c]),C=reactExports.useRef(null),[N,M]=reactExports.useState(),[O,$]=reactExports.useState(!1);reactExports.useEffect(()=>{g==null||g(N)},[g,N]),reactExports.useEffect(()=>{const U=C.current;if(!U)return;const D=()=>{scrollPositions$1.set(t,U.scrollTop)};return U.addEventListener("scroll",D,{passive:!0}),()=>U.removeEventListener("scroll",D)},[t]),reactExports.useEffect(()=>{C.current&&(C.current.scrollTop=scrollPositions$1.get(t)||0)},[t]);const F=reactExports.useCallback(U=>{const{expanded:D}=E.get(U);if(D){for(let j=u;j;j=j.parent)if(j===U){p==null||p(U);break}y.expandedItems.set(U.id,!1)}else y.expandedItems.set(U.id,!0);x({...y})},[E,u,p,y,x]);return jsxRuntimeExports.jsx("div",{className:clsx("tree-view vbox",t+"-tree-view"),role:"tree","data-testid":T||t+"-tree",children:jsxRuntimeExports.jsxs("div",{className:clsx("tree-view-content"),tabIndex:0,onKeyDown:U=>{if(u&&U.key==="Enter"){d==null||d(u);return}if(U.key!=="ArrowDown"&&U.key!=="ArrowUp"&&U.key!=="ArrowLeft"&&U.key!=="ArrowRight")return;if(U.stopPropagation(),U.preventDefault(),u&&U.key==="ArrowLeft"){const{expanded:j,parent:W}=E.get(u);j?(y.expandedItems.set(u.id,!1),x({...y})):W&&(p==null||p(W));return}if(u&&U.key==="ArrowRight"){u.children.length&&(y.expandedItems.set(u.id,!0),x({...y}));return}let D=u;if(U.key==="ArrowDown"&&(u?D=E.get(u).next:E.size&&(D=[...E.keys()][0])),U.key==="ArrowUp"){if(u)D=E.get(u).prev;else if(E.size){const j=[...E.keys()];D=j[j.length-1]}}g==null||g(void 0),D&&($(!0),p==null||p(D)),M(void 0)},ref:C,children:[v&&E.size===0&&jsxRuntimeExports.jsx("div",{className:"tree-view-empty",children:v}),e.children.map(U=>E.get(U)&&jsxRuntimeExports.jsx(TreeItemHeader,{item:U,treeItems:E,selectedItem:u,onSelected:p,onAccepted:d,isError:a,toggleExpanded:F,highlightedItem:N,setHighlightedItem:M,render:n,icon:o,title:s,isKeyboardNavigation:O,setIsKeyboardNavigation:$},U.id))]})})}function TreeItemHeader({item:t,treeItems:e,selectedItem:n,onSelected:s,highlightedItem:o,setHighlightedItem:a,isError:c,onAccepted:u,toggleExpanded:d,render:p,title:g,icon:y,isKeyboardNavigation:x,setIsKeyboardNavigation:v}){const T=reactExports.useId(),S=reactExports.useRef(null);reactExports.useEffect(()=>{n===t&&x&&S.current&&(scrollIntoViewIfNeeded(S.current),v(!1))},[t,n,x,v]);const E=e.get(t),C=E.depth,N=E.expanded;let M="codicon-blank";typeof N=="boolean"&&(M=N?"codicon-chevron-down":"codicon-chevron-right");const O=p(t),$=N&&t.children.length?t.children:[],F=g==null?void 0:g(t),U=(y==null?void 0:y(t))||"codicon-blank";return jsxRuntimeExports.jsxs("div",{ref:S,role:"treeitem","aria-selected":t===n,"aria-expanded":N,"aria-controls":T,title:F,className:"vbox",style:{flex:"none"},children:[jsxRuntimeExports.jsxs("div",{onDoubleClick:()=>u==null?void 0:u(t),className:clsx("tree-view-entry",n===t&&"selected",o===t&&"highlighted",(c==null?void 0:c(t))&&"error"),onClick:()=>s==null?void 0:s(t),onMouseEnter:()=>a(t),onMouseLeave:()=>a(void 0),children:[C?new Array(C).fill(0).map((D,j)=>jsxRuntimeExports.jsx("div",{className:"tree-view-indent"},"indent-"+j)):void 0,jsxRuntimeExports.jsx("div",{"aria-hidden":"true",className:"codicon "+M,style:{minWidth:16,marginRight:4},onDoubleClick:D=>{D.preventDefault(),D.stopPropagation()},onClick:D=>{D.stopPropagation(),D.preventDefault(),d(t)}}),y&&jsxRuntimeExports.jsx("div",{className:"codicon "+U,style:{minWidth:16,marginRight:4},"aria-label":"["+U.replace("codicon","icon")+"]"}),typeof O=="string"?jsxRuntimeExports.jsx("div",{style:{textOverflow:"ellipsis",overflow:"hidden"},children:O}):O]}),!!$.length&&jsxRuntimeExports.jsx("div",{id:T,role:"group",children:$.map(D=>e.get(D)&&jsxRuntimeExports.jsx(TreeItemHeader,{item:D,treeItems:e,selectedItem:n,onSelected:s,onAccepted:u,isError:c,toggleExpanded:d,highlightedItem:o,setHighlightedItem:a,render:p,title:g,icon:y,isKeyboardNavigation:x,setIsKeyboardNavigation:v},D.id))})]})}function indexTree(t,e,n,s,o=()=>!0){if(!o(t))return new Map;const a=new Map,c=new Set;for(let p=e==null?void 0:e.parent;p;p=p.parent)c.add(p.id);let u=null;const d=(p,g)=>{for(const y of p.children){if(!o(y))continue;const x=c.has(y.id)||n.get(y.id),v=s>g&&a.size<25&&x!==!1,T=y.children.length?x??v:void 0,S={depth:g,expanded:T,parent:t===p?null:p,next:null,prev:u};u&&(a.get(u).next=y),u=y,a.set(y,S),T&&d(y,g+1)}};return d(t,0),a}const ToolbarButton=reactExports.forwardRef(function({children:e,title:n="",icon:s,disabled:o=!1,toggled:a=!1,onClick:c=()=>{},style:u,testId:d,className:p,ariaLabel:g},y){return jsxRuntimeExports.jsxs("button",{ref:y,className:clsx(p,"toolbar-button",s,a&&"toggled"),onMouseDown:preventDefault,onClick:c,onDoubleClick:preventDefault,title:n,disabled:!!o,style:u,"data-testid":d,"aria-label":g||n,children:[s&&jsxRuntimeExports.jsx("span",{className:`codicon codicon-${s}`,style:e?{marginRight:5}:{}}),e]})}),preventDefault=t=>{t.stopPropagation(),t.preventDefault()};function testStatusIcon(t){return t==="scheduled"?"codicon-clock":t==="running"?"codicon-loading":t==="failed"?"codicon-error":t==="passed"?"codicon-check":t==="skipped"?"codicon-circle-slash":"codicon-circle-outline"}function testStatusText(t){return t==="scheduled"?"Pending":t==="running"?"Running":t==="failed"?"Failed":t==="passed"?"Passed":t==="skipped"?"Skipped":"Did not run"}const ActionTreeView=TreeView,ActionList=({actions:t,selectedAction:e,selectedTime:n,setSelectedTime:s,sdkLanguage:o,onSelected:a,onHighlighted:c,revealConsole:u,revealAttachment:d,isLive:p})=>{const[g,y]=reactExports.useState({expandedItems:new Map}),{rootItem:x,itemMap:v}=reactExports.useMemo(()=>buildActionTree(t),[t]),{selectedItem:T}=reactExports.useMemo(()=>({selectedItem:e?v.get(e.callId):void 0}),[v,e]),S=reactExports.useCallback($=>{var F,U;return!!((U=(F=$.action)==null?void 0:F.error)!=null&&U.message)},[]),E=reactExports.useCallback($=>s({minimum:$.action.startTime,maximum:$.action.endTime}),[s]),C=reactExports.useCallback($=>renderAction($.action,{sdkLanguage:o,revealConsole:u,revealAttachment:d,isLive:p,showDuration:!0,showBadges:!0}),[p,u,d,o]),N=reactExports.useCallback($=>!n||!$.action||$.action.startTime<=n.maximum&&$.action.endTime>=n.minimum,[n]),M=reactExports.useCallback($=>{a==null||a($.action)},[a]),O=reactExports.useCallback($=>{c==null||c($==null?void 0:$.action)},[c]);return jsxRuntimeExports.jsxs("div",{className:"vbox",children:[n&&jsxRuntimeExports.jsxs("div",{className:"action-list-show-all",onClick:()=>s(void 0),children:[jsxRuntimeExports.jsx("span",{className:"codicon codicon-triangle-left"}),"Show all"]}),jsxRuntimeExports.jsx(ActionTreeView,{name:"actions",rootItem:x,treeState:g,setTreeState:y,selectedItem:T,onSelected:M,onHighlighted:O,onAccepted:E,isError:S,isVisible:N,render:C})]})},renderAction=(t,e)=>{var T,S;const{sdkLanguage:n,revealConsole:s,revealAttachment:o,isLive:a,showDuration:c,showBadges:u}=e,{errors:d,warnings:p}=stats(t),g=!!((T=t.attachments)!=null&&T.length)&&!!o,y=actionParameterDisplayString(t,n||"javascript"),x=t.class==="Test"&&t.method==="step"&&((S=t.annotations)==null?void 0:S.some(E=>E.type==="skip"));let v="";return t.endTime?v=msToString(t.endTime-t.startTime):t.error?v="Timed out":a||(v="-"),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"action-title",title:t.apiName,children:[jsxRuntimeExports.jsx("span",{children:t.apiName}),y&&(y.type==="locator"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"action-parameter action-locator-parameter",children:y.value}),y.childDisplayString&&jsxRuntimeExports.jsx("span",{className:"action-parameter action-generic-parameter",children:y.childDisplayString.value})]}):jsxRuntimeExports.jsx("span",{className:"action-parameter action-generic-parameter",children:y.value})),t.method==="goto"&&t.params.url&&jsxRuntimeExports.jsx("div",{className:"action-url",title:t.params.url,children:t.params.url}),t.class==="APIRequestContext"&&t.params.url&&jsxRuntimeExports.jsx("div",{className:"action-url",title:t.params.url,children:excludeOrigin(t.params.url)})]}),(c||u||g||x)&&jsxRuntimeExports.jsx("div",{className:"spacer"}),g&&jsxRuntimeExports.jsx(ToolbarButton,{icon:"attach",title:"Open Attachment",onClick:()=>o(t.attachments[0])}),c&&!x&&jsxRuntimeExports.jsx("div",{className:"action-duration",children:v||jsxRuntimeExports.jsx("span",{className:"codicon codicon-loading"})}),x&&jsxRuntimeExports.jsx("span",{className:clsx("action-skipped","codicon",testStatusIcon("skipped")),title:"skipped"}),u&&jsxRuntimeExports.jsxs("div",{className:"action-icons",onClick:()=>s==null?void 0:s(),children:[!!d&&jsxRuntimeExports.jsxs("div",{className:"action-icon",children:[jsxRuntimeExports.jsx("span",{className:"codicon codicon-error"}),jsxRuntimeExports.jsx("span",{className:"action-icon-value",children:d})]}),!!p&&jsxRuntimeExports.jsxs("div",{className:"action-icon",children:[jsxRuntimeExports.jsx("span",{className:"codicon codicon-warning"}),jsxRuntimeExports.jsx("span",{className:"action-icon-value",children:p})]})]})]})};function excludeOrigin(t){try{const e=new URL(t);return e.pathname+e.search}catch{return t}}const clockDisplayString=t=>{switch(t.method){case"clockPauseAt":case"clockSetFixedTime":case"clockSetSystemTime":return t.params.timeString===void 0&&t.params.timeNumber===void 0?void 0:{type:"generic",value:new Date(t.params.timeString??t.params.timeNumber).toLocaleString(void 0,{timeZone:"UTC"})};case"clockFastForward":case"clockRunFor":return t.params.ticksNumber===void 0&&t.params.ticksString===void 0?void 0:{type:"generic",value:t.params.ticksString??`${t.params.ticksNumber}ms`}}},keyboardDisplayString=t=>{switch(t.method){case"press":case"keyboardPress":case"keyboardDown":case"keyboardUp":return t.params.key===void 0?void 0:{type:"generic",value:t.params.key};case"type":case"fill":case"keyboardType":case"keyboardInsertText":{const e=t.params.text??t.params.value;return e===void 0?void 0:{type:"generic",value:`"${e}"`}}}},mouseDisplayString=t=>{switch(t.method){case"click":case"dblclick":case"mouseClick":case"mouseMove":return t.params.x===void 0||t.params.y===void 0?void 0:{type:"generic",value:`(${t.params.x}, ${t.params.y})`};case"mouseWheel":return t.params.deltaX===void 0||t.params.deltaY===void 0?void 0:{type:"generic",value:`(${t.params.deltaX}, ${t.params.deltaY})`}}},touchscreenDisplayString=t=>{switch(t.method){case"tap":return t.params.x===void 0||t.params.y===void 0?void 0:{type:"generic",value:`(${t.params.x}, ${t.params.y})`}}},actionParameterDisplayString=(t,e,n=!1)=>{const s=t.params;if(!n&&s.selector!==void 0)return{type:"locator",value:asLocator(e,s.selector),childDisplayString:actionParameterDisplayString(t,e,!0)};switch(t.class.toLowerCase()){case"browsercontext":return clockDisplayString(t);case"page":case"frame":case"elementhandle":return keyboardDisplayString(t)??mouseDisplayString(t)??touchscreenDisplayString(t)}},CopyToClipboard=({value:t,description:e})=>{const[n,s]=reactExports.useState("copy"),o=reactExports.useCallback(()=>{(typeof t=="function"?t():Promise.resolve(t)).then(c=>{navigator.clipboard.writeText(c).then(()=>{s("check"),setTimeout(()=>{s("copy")},3e3)},()=>{s("close")})},()=>{s("close")})},[t]);return jsxRuntimeExports.jsx(ToolbarButton,{title:e||"Copy",icon:n,onClick:o})},CopyToClipboardTextButton=({value:t,description:e,copiedDescription:n=e,style:s})=>{const[o,a]=reactExports.useState(!1),c=reactExports.useCallback(async()=>{const u=typeof t=="function"?await t():t;await navigator.clipboard.writeText(u),a(!0),setTimeout(()=>a(!1),3e3)},[t]);return jsxRuntimeExports.jsx(ToolbarButton,{style:s,title:e,onClick:c,className:"copy-to-clipboard-text-button",children:o?n:e})},PlaceholderPanel=({text:t})=>jsxRuntimeExports.jsx("div",{className:"fill",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:24,fontWeight:"bold",opacity:.5},children:t}),CallTab=({action:t,startTimeOffset:e,sdkLanguage:n})=>{const s=reactExports.useMemo(()=>Object.keys((t==null?void 0:t.params)??{}).filter(c=>c!=="info"),[t]);if(!t)return jsxRuntimeExports.jsx(PlaceholderPanel,{text:"No action selected"});const o=t.startTime-e,a=msToString(o);return jsxRuntimeExports.jsxs("div",{className:"call-tab",children:[jsxRuntimeExports.jsx("div",{className:"call-line",children:t.apiName}),jsxRuntimeExports.jsx("div",{className:"call-section",children:"Time"}),jsxRuntimeExports.jsx(DateTimeCallLine,{name:"start:",value:a}),jsxRuntimeExports.jsx(DateTimeCallLine,{name:"duration:",value:renderDuration(t)}),!!s.length&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"call-section",children:"Parameters"}),s.map(c=>renderProperty(propertyToString(t,c,t.params[c],n)))]}),!!t.result&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"call-section",children:"Return value"}),Object.keys(t.result).map(c=>renderProperty(propertyToString(t,c,t.result[c],n)))]})]})},DateTimeCallLine=({name:t,value:e})=>jsxRuntimeExports.jsxs("div",{className:"call-line",children:[t,jsxRuntimeExports.jsx("span",{className:"call-value datetime",title:e,children:e})]});function renderDuration(t){return t.endTime?msToString(t.endTime-t.startTime):t.error?"Timed Out":"Running"}function renderProperty(t){let e=t.text.replace(/\n/g,"↵");return t.type==="string"&&(e=`"${e}"`),jsxRuntimeExports.jsxs("div",{className:"call-line",children:[t.name,":",jsxRuntimeExports.jsx("span",{className:clsx("call-value",t.type),title:t.text,children:e}),["string","number","object","locator"].includes(t.type)&&jsxRuntimeExports.jsx(CopyToClipboard,{value:t.text})]},t.name)}function propertyToString(t,e,n,s){const o=t.method.includes("eval")||t.method==="waitForFunction";if(e==="files")return{text:"<files>",type:"string",name:e};if((e==="eventInit"||e==="expectedValue"||e==="arg"&&o)&&(n=parseSerializedValue(n.value,new Array(10).fill({handle:"<handle>"}))),(e==="value"&&o||e==="received"&&t.method==="expect")&&(n=parseSerializedValue(n,new Array(10).fill({handle:"<handle>"}))),e==="selector")return{text:asLocator(s||"javascript",t.params.selector),type:"locator",name:"locator"};const a=typeof n;return a!=="object"||n===null?{text:String(n),type:a,name:e}:n.guid?{text:"<handle>",type:"handle",name:e}:{text:JSON.stringify(n).slice(0,1e3),type:"object",name:e}}function parseSerializedValue(t,e){if(t.n!==void 0)return t.n;if(t.s!==void 0)return t.s;if(t.b!==void 0)return t.b;if(t.v!==void 0){if(t.v==="undefined")return;if(t.v==="null")return null;if(t.v==="NaN")return NaN;if(t.v==="Infinity")return 1/0;if(t.v==="-Infinity")return-1/0;if(t.v==="-0")return-0}if(t.d!==void 0)return new Date(t.d);if(t.r!==void 0)return new RegExp(t.r.p,t.r.f);if(t.a!==void 0)return t.a.map(n=>parseSerializedValue(n,e));if(t.o!==void 0){const n={};for(const{k:s,v:o}of t.o)n[s]=parseSerializedValue(o,e);return n}return t.h!==void 0?e===void 0?"<object>":e[t.h]:"<object>"}const scrollPositions=new Map;function ListView({name:t,items:e=[],id:n,render:s,icon:o,isError:a,isWarning:c,isInfo:u,selectedItem:d,onAccepted:p,onSelected:g,onHighlighted:y,onIconClicked:x,noItemsMessage:v,dataTestId:T,notSelectable:S}){const E=reactExports.useRef(null),[C,N]=reactExports.useState();return reactExports.useEffect(()=>{y==null||y(C)},[y,C]),reactExports.useEffect(()=>{const M=E.current;if(!M)return;const O=()=>{scrollPositions.set(t,M.scrollTop)};return M.addEventListener("scroll",O,{passive:!0}),()=>M.removeEventListener("scroll",O)},[t]),reactExports.useEffect(()=>{E.current&&(E.current.scrollTop=scrollPositions.get(t)||0)},[t]),jsxRuntimeExports.jsx("div",{className:clsx("list-view vbox",t+"-list-view"),role:e.length>0?"list":void 0,"data-testid":T||t+"-list",children:jsxRuntimeExports.jsxs("div",{className:clsx("list-view-content",S&&"not-selectable"),tabIndex:0,onKeyDown:M=>{var U;if(d&&M.key==="Enter"){p==null||p(d,e.indexOf(d));return}if(M.key!=="ArrowDown"&&M.key!=="ArrowUp")return;M.stopPropagation(),M.preventDefault();const O=d?e.indexOf(d):-1;let $=O;M.key==="ArrowDown"&&(O===-1?$=0:$=Math.min(O+1,e.length-1)),M.key==="ArrowUp"&&(O===-1?$=e.length-1:$=Math.max(O-1,0));const F=(U=E.current)==null?void 0:U.children.item($);scrollIntoViewIfNeeded(F||void 0),y==null||y(void 0),g==null||g(e[$],$),N(void 0)},ref:E,children:[v&&e.length===0&&jsxRuntimeExports.jsx("div",{className:"list-view-empty",children:v}),e.map((M,O)=>{const $=s(M,O);return jsxRuntimeExports.jsxs("div",{onDoubleClick:()=>p==null?void 0:p(M,O),role:"listitem",className:clsx("list-view-entry",d===M&&"selected",!S&&C===M&&"highlighted",(a==null?void 0:a(M,O))&&"error",(c==null?void 0:c(M,O))&&"warning",(u==null?void 0:u(M,O))&&"info"),onClick:()=>g==null?void 0:g(M,O),onMouseEnter:()=>N(M),onMouseLeave:()=>N(void 0),children:[o&&jsxRuntimeExports.jsx("div",{className:"codicon "+(o(M,O)||"codicon-blank"),style:{minWidth:16,marginRight:4},onDoubleClick:F=>{F.preventDefault(),F.stopPropagation()},onClick:F=>{F.stopPropagation(),F.preventDefault(),x==null||x(M,O)}}),typeof $=="string"?jsxRuntimeExports.jsx("div",{style:{textOverflow:"ellipsis",overflow:"hidden"},children:$}):$]},(n==null?void 0:n(M,O))||O)})]})})}const LogList=ListView,LogTab=({action:t,isLive:e})=>{const n=reactExports.useMemo(()=>{var c;if(!t||!t.log.length)return[];const s=t.log,o=t.context.wallTime-t.context.startTime,a=[];for(let u=0;u<s.length;++u){let d="";if(s[u].time!==-1){const p=(c=s[u])==null?void 0:c.time;u+1<s.length?d=msToString(s[u+1].time-p):t.endTime>0?d=msToString(t.endTime-p):e?d=msToString(Date.now()-o-p):d="-"}a.push({message:s[u].message,time:d})}return a},[t,e]);return n.length?jsxRuntimeExports.jsx(LogList,{name:"log",items:n,render:s=>jsxRuntimeExports.jsxs("div",{className:"log-list-item",children:[jsxRuntimeExports.jsx("span",{className:"log-list-duration",children:s.time}),s.message]}),notSelectable:!0}):jsxRuntimeExports.jsx(PlaceholderPanel,{text:"No log entries"})};function ansi2html(t,e){const n=/(\x1b\[(\d+(;\d+)*)m)|([^\x1b]+)/g,s=[];let o,a={},c=!1,u=e==null?void 0:e.fg,d=e==null?void 0:e.bg;for(;(o=n.exec(t))!==null;){const[,,p,,g]=o;if(p){const y=+p;switch(y){case 0:a={};break;case 1:a["font-weight"]="bold";break;case 2:a.opacity="0.8";break;case 3:a["font-style"]="italic";break;case 4:a["text-decoration"]="underline";break;case 7:c=!0;break;case 8:a.display="none";break;case 9:a["text-decoration"]="line-through";break;case 22:delete a["font-weight"],delete a["font-style"],delete a.opacity,delete a["text-decoration"];break;case 23:delete a["font-weight"],delete a["font-style"],delete a.opacity;break;case 24:delete a["text-decoration"];break;case 27:c=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:u=ansiColors[y-30];break;case 39:u=e==null?void 0:e.fg;break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:d=ansiColors[y-40];break;case 49:d=e==null?void 0:e.bg;break;case 53:a["text-decoration"]="overline";break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:u=brightAnsiColors[y-90];break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:d=brightAnsiColors[y-100];break}}else if(g){const y={...a},x=c?d:u;x!==void 0&&(y.color=x);const v=c?u:d;v!==void 0&&(y["background-color"]=v),s.push(`<span style="${styleBody(y)}">${escapeHTML(g)}</span>`)}}return s.join("")}const ansiColors={0:"var(--vscode-terminal-ansiBlack)",1:"var(--vscode-terminal-ansiRed)",2:"var(--vscode-terminal-ansiGreen)",3:"var(--vscode-terminal-ansiYellow)",4:"var(--vscode-terminal-ansiBlue)",5:"var(--vscode-terminal-ansiMagenta)",6:"var(--vscode-terminal-ansiCyan)",7:"var(--vscode-terminal-ansiWhite)"},brightAnsiColors={0:"var(--vscode-terminal-ansiBrightBlack)",1:"var(--vscode-terminal-ansiBrightRed)",2:"var(--vscode-terminal-ansiBrightGreen)",3:"var(--vscode-terminal-ansiBrightYellow)",4:"var(--vscode-terminal-ansiBrightBlue)",5:"var(--vscode-terminal-ansiBrightMagenta)",6:"var(--vscode-terminal-ansiBrightCyan)",7:"var(--vscode-terminal-ansiBrightWhite)"};function escapeHTML(t){return t.replace(/[&"<>]/g,e=>({"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"})[e])}function styleBody(t){return Object.entries(t).map(([e,n])=>`${e}: ${n}`).join("; ")}const ErrorMessage=({error:t})=>{const e=reactExports.useMemo(()=>ansi2html(t),[t]);return jsxRuntimeExports.jsx("div",{className:"error-message",dangerouslySetInnerHTML:{__html:e||""}})},GlassPane=({cursor:t,onPaneMouseMove:e,onPaneMouseUp:n,onPaneDoubleClick:s})=>(React.useEffect(()=>{const o=document.createElement("div");return o.style.position="fixed",o.style.top="0",o.style.right="0",o.style.bottom="0",o.style.left="0",o.style.zIndex="9999",o.style.cursor=t,document.body.appendChild(o),e&&o.addEventListener("mousemove",e),n&&o.addEventListener("mouseup",n),s&&document.body.addEventListener("dblclick",s),()=>{e&&o.removeEventListener("mousemove",e),n&&o.removeEventListener("mouseup",n),s&&document.body.removeEventListener("dblclick",s),document.body.removeChild(o)}},[t,e,n,s]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})),fillStyle={position:"absolute",top:0,right:0,bottom:0,left:0},ResizeView=({orientation:t,offsets:e,setOffsets:n,resizerColor:s,resizerWidth:o,minColumnWidth:a})=>{const c=a||0,[u,d]=React.useState(null),[p,g]=useMeasure(),y={position:"absolute",right:t==="horizontal"?void 0:0,bottom:t==="horizontal"?0:void 0,width:t==="horizontal"?7:void 0,height:t==="horizontal"?void 0:7,borderTopWidth:t==="horizontal"?void 0:(7-o)/2,borderRightWidth:t==="horizontal"?(7-o)/2:void 0,borderBottomWidth:t==="horizontal"?void 0:(7-o)/2,borderLeftWidth:t==="horizontal"?(7-o)/2:void 0,borderColor:"transparent",borderStyle:"solid",cursor:t==="horizontal"?"ew-resize":"ns-resize"};return jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:-(7-o)/2,zIndex:100,pointerEvents:"none"},ref:g,children:[!!u&&jsxRuntimeExports.jsx(GlassPane,{cursor:t==="horizontal"?"ew-resize":"ns-resize",onPaneMouseUp:()=>d(null),onPaneMouseMove:x=>{if(!x.buttons)d(null);else if(u){const v=t==="horizontal"?x.clientX-u.clientX:x.clientY-u.clientY,T=u.offset+v,S=u.index>0?e[u.index-1]:0,E=t==="horizontal"?p.width:p.height,C=Math.min(Math.max(S+c,T),E-c)-e[u.index];for(let N=u.index;N<e.length;++N)e[N]=e[N]+C;n([...e])}}}),e.map((x,v)=>jsxRuntimeExports.jsx("div",{style:{...y,top:t==="horizontal"?0:x,left:t==="horizontal"?x:0,pointerEvents:"initial"},onMouseDown:T=>d({clientX:T.clientX,clientY:T.clientY,offset:x,index:v}),children:jsxRuntimeExports.jsx("div",{style:{...fillStyle,background:s}})},v))]})};async function loadImage(t){const e=new Image;return t&&(e.src=t,await new Promise((n,s)=>{e.onload=n,e.onerror=n})),e}const checkerboardStyle={backgroundImage:`linear-gradient(45deg, #80808020 25%, transparent 25%),
                    linear-gradient(-45deg, #80808020 25%, transparent 25%),
                    linear-gradient(45deg, transparent 75%, #80808020 75%),
                    linear-gradient(-45deg, transparent 75%, #80808020 75%)`,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px",boxShadow:`rgb(0 0 0 / 10%) 0px 1.8px 1.9px,
              rgb(0 0 0 / 15%) 0px 6.1px 6.3px,
              rgb(0 0 0 / 10%) 0px -2px 4px,
              rgb(0 0 0 / 15%) 0px -6.1px 12px,
              rgb(0 0 0 / 25%) 0px 6px 12px`},ImageDiffView=({diff:t,noTargetBlank:e,hideDetails:n})=>{const[s,o]=reactExports.useState(t.diff?"diff":"actual"),[a,c]=reactExports.useState(!1),[u,d]=reactExports.useState(null),[p,g]=reactExports.useState("Expected"),[y,x]=reactExports.useState(null),[v,T]=reactExports.useState(null),[S,E]=useMeasure();reactExports.useEffect(()=>{(async()=>{var j,W,H,P;d(await loadImage((j=t.expected)==null?void 0:j.attachment.path)),g(((W=t.expected)==null?void 0:W.title)||"Expected"),x(await loadImage((H=t.actual)==null?void 0:H.attachment.path)),T(await loadImage((P=t.diff)==null?void 0:P.attachment.path))})()},[t]);const C=u&&y&&v,N=C?Math.max(u.naturalWidth,y.naturalWidth,200):500,M=C?Math.max(u.naturalHeight,y.naturalHeight,200):500,O=Math.min(1,(S.width-30)/N),$=Math.min(1,(S.width-50)/N/2),F=N*O,U=M*O,D={flex:"none",margin:"0 10px",cursor:"pointer",userSelect:"none"};return jsxRuntimeExports.jsx("div",{"data-testid":"test-result-image-mismatch",style:{display:"flex",flexDirection:"column",alignItems:"center",flex:"auto"},ref:E,children:C&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{"data-testid":"test-result-image-mismatch-tabs",style:{display:"flex",margin:"10px 0 20px"},children:[t.diff&&jsxRuntimeExports.jsx("div",{style:{...D,fontWeight:s==="diff"?600:"initial"},onClick:()=>o("diff"),children:"Diff"}),jsxRuntimeExports.jsx("div",{style:{...D,fontWeight:s==="actual"?600:"initial"},onClick:()=>o("actual"),children:"Actual"}),jsxRuntimeExports.jsx("div",{style:{...D,fontWeight:s==="expected"?600:"initial"},onClick:()=>o("expected"),children:p}),jsxRuntimeExports.jsx("div",{style:{...D,fontWeight:s==="sxs"?600:"initial"},onClick:()=>o("sxs"),children:"Side by side"}),jsxRuntimeExports.jsx("div",{style:{...D,fontWeight:s==="slider"?600:"initial"},onClick:()=>o("slider"),children:"Slider"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",flex:"auto",minHeight:U+60},children:[t.diff&&s==="diff"&&jsxRuntimeExports.jsx(ImageWithSize,{image:v,alt:"Diff",hideSize:n,canvasWidth:F,canvasHeight:U,scale:O}),t.diff&&s==="actual"&&jsxRuntimeExports.jsx(ImageWithSize,{image:y,alt:"Actual",hideSize:n,canvasWidth:F,canvasHeight:U,scale:O}),t.diff&&s==="expected"&&jsxRuntimeExports.jsx(ImageWithSize,{image:u,alt:p,hideSize:n,canvasWidth:F,canvasHeight:U,scale:O}),t.diff&&s==="slider"&&jsxRuntimeExports.jsx(ImageDiffSlider,{expectedImage:u,actualImage:y,hideSize:n,canvasWidth:F,canvasHeight:U,scale:O,expectedTitle:p}),t.diff&&s==="sxs"&&jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsx(ImageWithSize,{image:u,title:p,hideSize:n,canvasWidth:$*N,canvasHeight:$*M,scale:$}),jsxRuntimeExports.jsx(ImageWithSize,{image:a?v:y,title:a?"Diff":"Actual",onClick:()=>c(!a),hideSize:n,canvasWidth:$*N,canvasHeight:$*M,scale:$})]}),!t.diff&&s==="actual"&&jsxRuntimeExports.jsx(ImageWithSize,{image:y,title:"Actual",hideSize:n,canvasWidth:F,canvasHeight:U,scale:O}),!t.diff&&s==="expected"&&jsxRuntimeExports.jsx(ImageWithSize,{image:u,title:p,hideSize:n,canvasWidth:F,canvasHeight:U,scale:O}),!t.diff&&s==="sxs"&&jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsx(ImageWithSize,{image:u,title:p,canvasWidth:$*N,canvasHeight:$*M,scale:$}),jsxRuntimeExports.jsx(ImageWithSize,{image:y,title:"Actual",canvasWidth:$*N,canvasHeight:$*M,scale:$})]})]}),!n&&jsxRuntimeExports.jsxs("div",{style:{alignSelf:"start",lineHeight:"18px",marginLeft:"15px"},children:[jsxRuntimeExports.jsx("div",{children:t.diff&&jsxRuntimeExports.jsx("a",{target:"_blank",href:t.diff.attachment.path,rel:"noreferrer",children:t.diff.attachment.name})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("a",{target:e?"":"_blank",href:t.actual.attachment.path,rel:"noreferrer",children:t.actual.attachment.name})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("a",{target:e?"":"_blank",href:t.expected.attachment.path,rel:"noreferrer",children:t.expected.attachment.name})})]})]})})},ImageDiffSlider=({expectedImage:t,actualImage:e,canvasWidth:n,canvasHeight:s,scale:o,expectedTitle:a,hideSize:c})=>{const u={position:"absolute",top:0,left:0},[d,p]=reactExports.useState(n/2),g=t.naturalWidth===e.naturalWidth&&t.naturalHeight===e.naturalHeight;return jsxRuntimeExports.jsxs("div",{style:{flex:"none",display:"flex",alignItems:"center",flexDirection:"column",userSelect:"none"},children:[!c&&jsxRuntimeExports.jsxs("div",{style:{margin:5},children:[!g&&jsxRuntimeExports.jsx("span",{style:{flex:"none",margin:"0 5px"},children:"Expected "}),jsxRuntimeExports.jsx("span",{children:t.naturalWidth}),jsxRuntimeExports.jsx("span",{style:{flex:"none",margin:"0 5px"},children:"x"}),jsxRuntimeExports.jsx("span",{children:t.naturalHeight}),!g&&jsxRuntimeExports.jsx("span",{style:{flex:"none",margin:"0 5px 0 15px"},children:"Actual "}),!g&&jsxRuntimeExports.jsx("span",{children:e.naturalWidth}),!g&&jsxRuntimeExports.jsx("span",{style:{flex:"none",margin:"0 5px"},children:"x"}),!g&&jsxRuntimeExports.jsx("span",{children:e.naturalHeight})]}),jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:n,height:s,margin:15,...checkerboardStyle},children:[jsxRuntimeExports.jsx(ResizeView,{orientation:"horizontal",offsets:[d],setOffsets:y=>p(y[0]),resizerColor:"#57606a80",resizerWidth:6}),jsxRuntimeExports.jsx("img",{alt:a,style:{width:t.naturalWidth*o,height:t.naturalHeight*o},draggable:"false",src:t.src}),jsxRuntimeExports.jsx("div",{style:{...u,bottom:0,overflow:"hidden",width:d,...checkerboardStyle},children:jsxRuntimeExports.jsx("img",{alt:"Actual",style:{width:e.naturalWidth*o,height:e.naturalHeight*o},draggable:"false",src:e.src})})]})]})},ImageWithSize=({image:t,title:e,alt:n,hideSize:s,canvasWidth:o,canvasHeight:a,scale:c,onClick:u})=>jsxRuntimeExports.jsxs("div",{style:{flex:"none",display:"flex",alignItems:"center",flexDirection:"column"},children:[!s&&jsxRuntimeExports.jsxs("div",{style:{margin:5},children:[e&&jsxRuntimeExports.jsx("span",{style:{flex:"none",margin:"0 5px"},children:e}),jsxRuntimeExports.jsx("span",{children:t.naturalWidth}),jsxRuntimeExports.jsx("span",{style:{flex:"none",margin:"0 5px"},children:"x"}),jsxRuntimeExports.jsx("span",{children:t.naturalHeight})]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flex:"none",width:o,height:a,margin:15,...checkerboardStyle},children:jsxRuntimeExports.jsx("img",{width:t.naturalWidth*c,height:t.naturalHeight*c,alt:e||n,style:{cursor:u?"pointer":"initial"},draggable:"false",src:t.src,onClick:u})})]}),scriptRel="modulepreload",assetsURL=function(t,e){return new URL(t,e).href},seen={},__vitePreload=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const u=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(n.map(g=>{if(g=assetsURL(g,s),g in seen)return;seen[g]=!0;const y=g.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(!!s)for(let S=u.length-1;S>=0;S--){const E=u[S];if(E.href===g&&(!y||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${x}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":scriptRel,y||(T.as="script"),T.crossOrigin="",T.href=g,p&&T.setAttribute("nonce",p),document.head.appendChild(T),y)return new Promise((S,E)=>{T.addEventListener("load",S),T.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},lineHeight=20,CodeMirrorWrapper=({text:t,language:e,mimeType:n,linkify:s,readOnly:o,highlight:a,revealLine:c,lineNumbers:u,isFocused:d,focusOnChange:p,wrapLines:g,onChange:y,dataTestId:x,placeholder:v})=>{const[T,S]=useMeasure(),[E]=reactExports.useState(__vitePreload(()=>import("./codeMirrorModule-C2hYMRXZ.js"),__vite__mapDeps([0,1]),import.meta.url).then(O=>O.default)),C=reactExports.useRef(null),[N,M]=reactExports.useState();return reactExports.useEffect(()=>{(async()=>{var D,j;const O=await E;defineCustomMode(O);const $=S.current;if(!$)return;const F=languageToMode(e)||mimeTypeToMode(n)||(s?"text/linkified":"");if(C.current&&F===C.current.cm.getOption("mode")&&!!o===C.current.cm.getOption("readOnly")&&u===C.current.cm.getOption("lineNumbers")&&g===C.current.cm.getOption("lineWrapping")&&v===C.current.cm.getOption("placeholder"))return;(j=(D=C.current)==null?void 0:D.cm)==null||j.getWrapperElement().remove();const U=O($,{value:"",mode:F,readOnly:!!o,lineNumbers:u,lineWrapping:g,placeholder:v});return C.current={cm:U},d&&U.focus(),M(U),U})()},[E,N,S,e,n,s,u,g,o,d,v]),reactExports.useEffect(()=>{C.current&&C.current.cm.setSize(T.width,T.height)},[T]),reactExports.useLayoutEffect(()=>{var F;if(!N)return;let O=!1;if(N.getValue()!==t&&(N.setValue(t),O=!0,p&&(N.execCommand("selectAll"),N.focus())),O||JSON.stringify(a)!==JSON.stringify(C.current.highlight)){for(const j of C.current.highlight||[])N.removeLineClass(j.line-1,"wrap");for(const j of a||[])N.addLineClass(j.line-1,"wrap",`source-line-${j.type}`);for(const j of C.current.widgets||[])N.removeLineWidget(j);for(const j of C.current.markers||[])j.clear();const U=[],D=[];for(const j of a||[]){if(j.type!=="subtle-error"&&j.type!=="error")continue;const W=(F=C.current)==null?void 0:F.cm.getLine(j.line-1);if(W){const H={};H.title=j.message||"",D.push(N.markText({line:j.line-1,ch:0},{line:j.line-1,ch:j.column||W.length},{className:"source-line-error-underline",attributes:H}))}if(j.type==="error"){const H=document.createElement("div");H.innerHTML=ansi2html(j.message||""),H.className="source-line-error-widget",U.push(N.addLineWidget(j.line,H,{above:!0,coverGutter:!1}))}}C.current.highlight=a,C.current.widgets=U,C.current.markers=D}typeof c=="number"&&C.current.cm.lineCount()>=c&&N.scrollIntoView({line:Math.max(0,c-1),ch:0},50);let $;return y&&($=()=>y(N.getValue()),N.on("change",$)),()=>{$&&N.off("change",$)}},[N,t,a,c,p,y]),jsxRuntimeExports.jsx("div",{"data-testid":x,className:"cm-wrapper",ref:S,onClick:onCodeMirrorClick})};function onCodeMirrorClick(t){var n;if(!(t.target instanceof HTMLElement))return;let e;t.target.classList.contains("cm-linkified")?e=t.target.textContent:t.target.classList.contains("cm-link")&&((n=t.target.nextElementSibling)!=null&&n.classList.contains("cm-url"))&&(e=t.target.nextElementSibling.textContent.slice(1,-1)),e&&(t.preventDefault(),t.stopPropagation(),window.open(e,"_blank"))}let customModeDefined=!1;function defineCustomMode(t){customModeDefined||(customModeDefined=!0,t.defineSimpleMode("text/linkified",{start:[{regex:kWebLinkRe,token:"linkified"}]}))}function mimeTypeToMode(t){if(t){if(t.includes("javascript")||t.includes("json"))return"javascript";if(t.includes("python"))return"python";if(t.includes("csharp"))return"text/x-csharp";if(t.includes("java"))return"text/x-java";if(t.includes("markdown"))return"markdown";if(t.includes("html")||t.includes("svg"))return"htmlmixed";if(t.includes("css"))return"css"}}function languageToMode(t){if(t)return{javascript:"javascript",jsonl:"javascript",python:"python",csharp:"text/x-csharp",java:"text/x-java",markdown:"markdown",html:"htmlmixed",css:"css",yaml:"yaml"}[t]}function isTextualMimeType(t){return!!t.match(/^(text\/.*?|application\/(json|(x-)?javascript|xml.*?|ecmascript|graphql|x-www-form-urlencoded)|image\/svg(\+xml)?|application\/.*?(\+json|\+xml))(;\s*charset=.*)?$/)}const Expandable=({title:t,children:e,setExpanded:n,expanded:s,expandOnTitleClick:o})=>{const a=reactExports.useId();return jsxRuntimeExports.jsxs("div",{className:clsx("expandable",s&&"expanded"),children:[jsxRuntimeExports.jsxs("div",{role:"button","aria-expanded":s,"aria-controls":a,className:"expandable-title",onClick:()=>o&&n(!s),children:[jsxRuntimeExports.jsx("div",{className:clsx("codicon",s?"codicon-chevron-down":"codicon-chevron-right"),style:{cursor:"pointer",color:"var(--vscode-foreground)",marginLeft:"5px"},onClick:()=>!o&&n(!s)}),t]}),s&&jsxRuntimeExports.jsx("div",{id:a,role:"region",style:{marginLeft:25},children:e})]})};function linkifyText(t){const e=[];let n=0,s;for(;(s=kWebLinkRe.exec(t))!==null;){const a=t.substring(n,s.index);a&&e.push(a);const c=s[0];e.push(renderLink(c)),n=s.index+c.length}const o=t.substring(n);return o&&e.push(o),e}function renderLink(t){let e=t;return e.startsWith("www.")&&(e="https://"+e),jsxRuntimeExports.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:t})}const ExpandableAttachment=({attachment:t,reveal:e})=>{const[n,s]=reactExports.useState(!1),[o,a]=reactExports.useState(null),[c,u]=reactExports.useState(null),[d,p]=useFlash(),g=reactExports.useRef(null),y=isTextualMimeType(t.contentType),x=!!t.sha1||!!t.path;reactExports.useEffect(()=>{var S;if(e)return(S=g.current)==null||S.scrollIntoView({behavior:"smooth"}),p()},[e,p]),reactExports.useEffect(()=>{n&&o===null&&c===null&&(u("Loading ..."),fetch(attachmentURL(t)).then(S=>S.text()).then(S=>{a(S),u(null)}).catch(S=>{u("Failed to load: "+S.message)}))},[n,o,c,t]);const v=reactExports.useMemo(()=>{const S=o?o.split(`
`).length:0;return Math.min(Math.max(5,S),20)*lineHeight},[o]),T=jsxRuntimeExports.jsxs("span",{style:{marginLeft:5},ref:g,"aria-label":t.name,children:[jsxRuntimeExports.jsx("span",{children:linkifyText(t.name)}),x&&jsxRuntimeExports.jsx("a",{style:{marginLeft:5},href:downloadURL(t),children:"download"})]});return!y||!x?jsxRuntimeExports.jsx("div",{style:{marginLeft:20},children:T}):jsxRuntimeExports.jsxs("div",{className:clsx(d&&"yellow-flash"),children:[jsxRuntimeExports.jsx(Expandable,{title:T,expanded:n,setExpanded:s,expandOnTitleClick:!0,children:c&&jsxRuntimeExports.jsx("i",{children:c})}),n&&o!==null&&jsxRuntimeExports.jsx("div",{className:"vbox",style:{height:v},children:jsxRuntimeExports.jsx(CodeMirrorWrapper,{text:o,readOnly:!0,mimeType:t.contentType,linkify:!0,lineNumbers:!0,wrapLines:!1})})]})},AttachmentsTab=({model:t,revealedAttachment:e})=>{const{diffMap:n,screenshots:s,attachments:o}=reactExports.useMemo(()=>{const a=new Set((t==null?void 0:t.visibleAttachments)??[]),c=new Set,u=new Map;for(const d of a){if(!d.path&&!d.sha1)continue;const p=d.name.match(/^(.*)-(expected|actual|diff)\.png$/);if(p){const g=p[1],y=p[2],x=u.get(g)||{expected:void 0,actual:void 0,diff:void 0};x[y]=d,u.set(g,x),a.delete(d)}else d.contentType.startsWith("image/")&&(c.add(d),a.delete(d))}return{diffMap:u,attachments:a,screenshots:c}},[t]);return!n.size&&!s.size&&!o.size?jsxRuntimeExports.jsx(PlaceholderPanel,{text:"No attachments"}):jsxRuntimeExports.jsxs("div",{className:"attachments-tab",children:[[...n.values()].map(({expected:a,actual:c,diff:u})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[a&&c&&jsxRuntimeExports.jsx("div",{className:"attachments-section",children:"Image diff"}),a&&c&&jsxRuntimeExports.jsx(ImageDiffView,{noTargetBlank:!0,diff:{name:"Image diff",expected:{attachment:{...a,path:downloadURL(a)},title:"Expected"},actual:{attachment:{...c,path:downloadURL(c)}},diff:u?{attachment:{...u,path:downloadURL(u)}}:void 0}})]})),s.size?jsxRuntimeExports.jsx("div",{className:"attachments-section",children:"Screenshots"}):void 0,[...s.values()].map((a,c)=>{const u=attachmentURL(a);return jsxRuntimeExports.jsxs("div",{className:"attachment-item",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{draggable:"false",src:u})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("a",{target:"_blank",href:u,rel:"noreferrer",children:a.name})})]},`screenshot-${c}`)}),o.size?jsxRuntimeExports.jsx("div",{className:"attachments-section",children:"Attachments"}):void 0,[...o.values()].map((a,c)=>jsxRuntimeExports.jsx("div",{className:"attachment-item",children:jsxRuntimeExports.jsx(ExpandableAttachment,{attachment:a,reveal:e&&isEqualAttachment(a,e[0])?e:void 0})},attachmentKey(a,c)))]})};function isEqualAttachment(t,e){return t.name===e.name&&t.path===e.path&&t.sha1===e.sha1}function attachmentURL(t,e={}){const n=new URLSearchParams(e);return t.sha1?(n.set("trace",t.traceUrl),"sha1/"+t.sha1+"?"+n.toString()):(n.set("path",t.path),"file?"+n.toString())}function downloadURL(t){const e={dn:t.name};return t.contentType&&(e.dct=t.contentType),attachmentURL(t,e)}function attachmentKey(t,e){return e+"-"+(t.sha1?"sha1-"+t.sha1:"path-"+t.path)}const fixTestInstructions=`
# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.
`.trimStart(),CopyPromptButton=({prompt:t})=>jsxRuntimeExports.jsx(CopyToClipboardTextButton,{value:t,description:"Copy prompt",copiedDescription:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Copied ",jsxRuntimeExports.jsx("span",{className:"codicon codicon-copy",style:{marginLeft:"5px"}})]}),style:{width:"120px",justifyContent:"center"}});function useErrorsTabModel(t){return reactExports.useMemo(()=>{if(!t)return{errors:new Map};const e=new Map;for(const n of t.errorDescriptors)e.set(n.message,n);return{errors:e}},[t])}function ErrorView({message:t,error:e,sdkLanguage:n,revealInSource:s}){var d;let o,a;const c=(d=e.stack)==null?void 0:d[0];c&&(o=c.file.replace(/.*[/\\](.*)/,"$1")+":"+c.line,a=c.file+":"+c.line);const u=useAsyncMemo(async()=>{if(!e.context)return;const p=await fetch(attachmentURL(e.context));return fixTestInstructions+await p.text()},[e],void 0);return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",overflowX:"clip"},children:[jsxRuntimeExports.jsxs("div",{className:"hbox",style:{alignItems:"center",padding:"5px 10px",minHeight:36,fontWeight:"bold",color:"var(--vscode-errorForeground)",flex:0},children:[e.action&&renderAction(e.action,{sdkLanguage:n}),o&&jsxRuntimeExports.jsxs("div",{className:"action-location",children:["@ ",jsxRuntimeExports.jsx("span",{title:a,onClick:()=>s(e),children:o})]}),jsxRuntimeExports.jsx("span",{style:{position:"absolute",right:"5px"},children:u&&jsxRuntimeExports.jsx(CopyPromptButton,{prompt:u})})]}),jsxRuntimeExports.jsx(ErrorMessage,{error:t})]})}const ErrorsTab=({errorsModel:t,sdkLanguage:e,revealInSource:n,wallTime:s})=>t.errors.size?jsxRuntimeExports.jsx("div",{className:"fill",style:{overflow:"auto"},children:[...t.errors.entries()].map(([o,a])=>{const c=`error-${s}-${o}`;return jsxRuntimeExports.jsx(ErrorView,{message:o,error:a,revealInSource:n,sdkLanguage:e},c)})}):jsxRuntimeExports.jsx(PlaceholderPanel,{text:"No errors"}),ConsoleListView=ListView;function useConsoleTabModel(t,e){const{entries:n}=reactExports.useMemo(()=>{if(!t)return{entries:[]};const o=[];function a(u){var g,y,x,v,T,S;const d=o[o.length-1];d&&((g=u.browserMessage)==null?void 0:g.bodyString)===((y=d.browserMessage)==null?void 0:y.bodyString)&&((x=u.browserMessage)==null?void 0:x.location)===((v=d.browserMessage)==null?void 0:v.location)&&u.browserError===d.browserError&&((T=u.nodeMessage)==null?void 0:T.html)===((S=d.nodeMessage)==null?void 0:S.html)&&u.isError===d.isError&&u.isWarning===d.isWarning&&u.timestamp-d.timestamp<1e3?d.repeat++:o.push({...u,repeat:1})}const c=[...t.events,...t.stdio].sort((u,d)=>{const p="time"in u?u.time:u.timestamp,g="time"in d?d.time:d.timestamp;return p-g});for(const u of c){if(u.type==="console"){const d=u.args&&u.args.length?format(u.args):formatAnsi(u.text),p=u.location.url,y=`${p?p.substring(p.lastIndexOf("/")+1):"<anonymous>"}:${u.location.lineNumber}`;a({browserMessage:{body:d,bodyString:u.text,location:y},isError:u.messageType==="error",isWarning:u.messageType==="warning",timestamp:u.time})}if(u.type==="event"&&u.method==="pageError"&&a({browserError:u.params.error,isError:!0,isWarning:!1,timestamp:u.time}),u.type==="stderr"||u.type==="stdout"){let d="";u.text&&(d=ansi2html(u.text.trim())||""),u.base64&&(d=ansi2html(atob(u.base64).trim())||""),a({nodeMessage:{html:d},isError:u.type==="stderr",isWarning:!1,timestamp:u.timestamp})}}return{entries:o}},[t]);return{entries:reactExports.useMemo(()=>e?n.filter(o=>o.timestamp>=e.minimum&&o.timestamp<=e.maximum):n,[n,e])}}const ConsoleTab=({consoleModel:t,boundaries:e,onEntryHovered:n,onAccepted:s})=>t.entries.length?jsxRuntimeExports.jsx("div",{className:"console-tab",children:jsxRuntimeExports.jsx(ConsoleListView,{name:"console",onAccepted:s,onHighlighted:n,items:t.entries,isError:o=>o.isError,isWarning:o=>o.isWarning,render:o=>{const a=msToString(o.timestamp-e.minimum),c=jsxRuntimeExports.jsx("span",{className:"console-time",children:a}),u=o.isError?"status-error":o.isWarning?"status-warning":"status-none",d=o.browserMessage||o.browserError?jsxRuntimeExports.jsx("span",{className:clsx("codicon","codicon-browser",u),title:"Browser message"}):jsxRuntimeExports.jsx("span",{className:clsx("codicon","codicon-file",u),title:"Runner message"});let p,g,y,x;const{browserMessage:v,browserError:T,nodeMessage:S}=o;if(v&&(p=v.location,g=v.body),T){const{error:E,value:C}=T;E?(g=E.message,x=E.stack):g=String(C)}return S&&(y=S.html),jsxRuntimeExports.jsxs("div",{className:"console-line",children:[c,d,p&&jsxRuntimeExports.jsx("span",{className:"console-location",children:p}),o.repeat>1&&jsxRuntimeExports.jsx("span",{className:"console-repeat",children:o.repeat}),g&&jsxRuntimeExports.jsx("span",{className:"console-line-message",children:g}),y&&jsxRuntimeExports.jsx("span",{className:"console-line-message",dangerouslySetInnerHTML:{__html:y}}),x&&jsxRuntimeExports.jsx("div",{className:"console-stack",children:x})]})}})}):jsxRuntimeExports.jsx(PlaceholderPanel,{text:"No console entries"});function format(t){if(t.length===1)return formatAnsi(t[0].preview);const e=typeof t[0].value=="string"&&t[0].value.includes("%"),n=e?t[0].value:"",s=e?t.slice(1):t;let o=0;const a=/%([%sdifoOc])/g;let c;const u=[];let d=[];u.push(jsxRuntimeExports.jsx("span",{children:d},u.length+1));let p=0;for(;(c=a.exec(n))!==null;){const g=n.substring(p,c.index);d.push(jsxRuntimeExports.jsx("span",{children:g},d.length+1)),p=c.index+2;const y=c[0][1];if(y==="%")d.push(jsxRuntimeExports.jsx("span",{children:"%"},d.length+1));else if(y==="s"||y==="o"||y==="O"||y==="d"||y==="i"||y==="f"){const x=s[o++],v={};typeof(x==null?void 0:x.value)!="string"&&(v.color="var(--vscode-debugTokenExpression-number)"),d.push(jsxRuntimeExports.jsx("span",{style:v,children:(x==null?void 0:x.preview)||""},d.length+1))}else if(y==="c"){d=[];const x=s[o++],v=x?parseCSSStyle(x.preview):{};u.push(jsxRuntimeExports.jsx("span",{style:v,children:d},u.length+1))}}for(p<n.length&&d.push(jsxRuntimeExports.jsx("span",{children:n.substring(p)},d.length+1));o<s.length;o++){const g=s[o],y={};d.length&&d.push(jsxRuntimeExports.jsx("span",{children:" "},d.length+1)),typeof(g==null?void 0:g.value)!="string"&&(y.color="var(--vscode-debugTokenExpression-number)"),d.push(jsxRuntimeExports.jsx("span",{style:y,children:(g==null?void 0:g.preview)||""},d.length+1))}return u}function formatAnsi(t){return[jsxRuntimeExports.jsx("span",{dangerouslySetInnerHTML:{__html:ansi2html(t.trim())}})]}function parseCSSStyle(t){try{const e={},n=t.split(";");for(const s of n){const o=s.trim();if(!o)continue;let[a,c]=o.split(":");if(a=a.trim(),c=c.trim(),!supportProperty(a))continue;const u=a.replace(/-([a-z])/g,d=>d[1].toUpperCase());e[u]=c}return e}catch{return{}}}function supportProperty(t){return["background","border","color","font","line","margin","padding","text"].some(n=>t.startsWith(n))}const Toolbar=({noShadow:t,children:e,noMinHeight:n,className:s,sidebarBackground:o,onClick:a})=>jsxRuntimeExports.jsx("div",{className:clsx("toolbar",t&&"no-shadow",n&&"no-min-height",s,o&&"toolbar-sidebar-background"),onClick:a,children:e}),TabbedPane=({tabs:t,selectedTab:e,setSelectedTab:n,leftToolbar:s,rightToolbar:o,dataTestId:a,mode:c})=>{const u=reactExports.useId();return e||(e=t[0].id),c||(c="default"),jsxRuntimeExports.jsx("div",{className:"tabbed-pane","data-testid":a,children:jsxRuntimeExports.jsxs("div",{className:"vbox",children:[jsxRuntimeExports.jsxs(Toolbar,{children:[s&&jsxRuntimeExports.jsxs("div",{style:{flex:"none",display:"flex",margin:"0 4px",alignItems:"center"},children:[...s]}),c==="default"&&jsxRuntimeExports.jsx("div",{style:{flex:"auto",display:"flex",height:"100%",overflow:"hidden"},role:"tablist",children:[...t.map(d=>jsxRuntimeExports.jsx(TabbedPaneTab,{id:d.id,ariaControls:`${u}-${d.id}`,title:d.title,count:d.count,errorCount:d.errorCount,selected:e===d.id,onSelect:n},d.id))]}),c==="select"&&jsxRuntimeExports.jsx("div",{style:{flex:"auto",display:"flex",height:"100%",overflow:"hidden"},role:"tablist",children:jsxRuntimeExports.jsx("select",{style:{width:"100%",background:"none",cursor:"pointer"},value:e,onChange:d=>{n==null||n(t[d.currentTarget.selectedIndex].id)},children:t.map(d=>{let p="";return d.count&&(p=` (${d.count})`),d.errorCount&&(p=` (${d.errorCount})`),jsxRuntimeExports.jsxs("option",{value:d.id,role:"tab","aria-controls":`${u}-${d.id}`,children:[d.title,p]},d.id)})})}),o&&jsxRuntimeExports.jsxs("div",{style:{flex:"none",display:"flex",alignItems:"center"},children:[...o]})]}),t.map(d=>{const p="tab-content tab-"+d.id;if(d.component)return jsxRuntimeExports.jsx("div",{id:`${u}-${d.id}`,role:"tabpanel","aria-label":d.title,className:p,style:{display:e===d.id?"inherit":"none"},children:d.component},d.id);if(e===d.id)return jsxRuntimeExports.jsx("div",{id:`${u}-${d.id}`,role:"tabpanel","aria-label":d.title,className:p,children:d.render()},d.id)})]})})},TabbedPaneTab=({id:t,title:e,count:n,errorCount:s,selected:o,onSelect:a,ariaControls:c})=>jsxRuntimeExports.jsxs("div",{className:clsx("tabbed-pane-tab",o&&"selected"),onClick:()=>a==null?void 0:a(t),role:"tab",title:e,"aria-controls":c,children:[jsxRuntimeExports.jsx("div",{className:"tabbed-pane-tab-label",children:e}),!!n&&jsxRuntimeExports.jsx("div",{className:"tabbed-pane-tab-counter",children:n}),!!s&&jsxRuntimeExports.jsx("div",{className:"tabbed-pane-tab-counter error",children:s})]});async function generateCurlCommand(t){const e=navigator.platform.includes("Win")?"win":"unix";let n=[];const s=new Set(["accept-encoding","host","method","path","scheme","version","authority","protocol"]);function o(y){const x='^"';return x+y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/[^a-zA-Z0-9\s_\-:=+~'\/.',?;()*`]/g,"^$&").replace(/%(?=[a-zA-Z0-9_])/g,"%^").replace(/\r?\n/g,`^

`)+x}function a(y){function x(v){let S=v.charCodeAt(0).toString(16);for(;S.length<4;)S="0"+S;return"\\u"+S}return/[\0-\x1F\x7F-\x9F!]|\'/.test(y)?"$'"+y.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\0-\x1F\x7F-\x9F!]/g,x)+"'":"'"+y+"'"}const c=e==="win"?o:a;n.push(c(t.request.url).replace(/[[{}\]]/g,"\\$&"));let u="GET";const d=[],p=await fetchRequestPostData(t);p&&(d.push("--data-raw "+c(p)),s.add("content-length"),u="POST"),t.request.method!==u&&n.push("-X "+c(t.request.method));const g=t.request.headers;for(let y=0;y<g.length;y++){const x=g[y],v=x.name.replace(/^:/,"");s.has(v.toLowerCase())||(x.value.trim()?n.push("-H "+c(v+": "+x.value)):n.push("-H "+c(v+";")))}return n=n.concat(d),"curl "+n.join(n.length>=3?e==="win"?` ^
  `:` \\
  `:" ")}async function generateFetchCall(t,e=0){const n=new Set(["method","path","scheme","version","accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via","user-agent"]),s=new Set(["cookie","authorization"]),o=JSON.stringify(t.request.url),a=t.request.headers,c=a.reduce((T,S)=>{const E=S.name;return!n.has(E.toLowerCase())&&!E.includes(":")&&T.append(E,S.value),T},new Headers),u={};for(const T of c)u[T[0]]=T[1];const d=t.request.cookies.length||a.some(({name:T})=>s.has(T.toLowerCase()))?"include":"omit",p=a.find(({name:T})=>T.toLowerCase()==="referer"),g=p?p.value:void 0,y=await fetchRequestPostData(t),x={headers:Object.keys(u).length?u:void 0,referrer:g,body:y,method:t.request.method,mode:"cors"};if(e===1){const T=a.find(E=>E.name.toLowerCase()==="cookie"),S={};delete x.mode,T&&(S.cookie=T.value),g&&(delete x.referrer,S.Referer=g),Object.keys(S).length&&(x.headers={...u,...S})}else x.credentials=d;const v=JSON.stringify(x,null,2);return`fetch(${o}, ${v});`}async function fetchRequestPostData(t){var e,n;return(e=t.request.postData)!=null&&e._sha1?await fetch(`sha1/${t.request.postData._sha1}`).then(s=>s.text()):(n=t.request.postData)==null?void 0:n.text}class JSCodeGen{generatePlaywrightRequestCall(e,n){let s=e.method.toLowerCase();const o=new URL(e.url),a=`${o.origin}${o.pathname}`,c={};["delete","get","head","post","put","patch"].includes(s)||(c.method=s,s="fetch"),o.searchParams.size&&(c.params=Object.fromEntries(o.searchParams.entries())),n&&(c.data=n),e.headers.length&&(c.headers=Object.fromEntries(e.headers.map(p=>[p.name,p.value])));const u=[`'${a}'`];return Object.keys(c).length>0&&u.push(this.prettyPrintObject(c)),`await page.request.${s}(${u.join(", ")});`}prettyPrintObject(e,n=2,s=0){if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e!="object")return typeof e=="string"?this.stringLiteral(e):String(e);if(Array.isArray(e)){if(e.length===0)return"[]";const u=" ".repeat(s*n),d=" ".repeat((s+1)*n);return`[
${e.map(g=>`${d}${this.prettyPrintObject(g,n,s+1)}`).join(`,
`)}
${u}]`}if(Object.keys(e).length===0)return"{}";const o=" ".repeat(s*n),a=" ".repeat((s+1)*n);return`{
${Object.entries(e).map(([u,d])=>{const p=this.prettyPrintObject(d,n,s+1),g=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(u)?u:this.stringLiteral(u);return`${a}${g}: ${p}`}).join(`,
`)}
${o}}`}stringLiteral(e){return e=e.replace(/\\/g,"\\\\").replace(/'/g,"\\'"),e.includes(`
`)||e.includes("\r")||e.includes("	")?"`"+e+"`":`'${e}'`}}class PythonCodeGen{generatePlaywrightRequestCall(e,n){const s=new URL(e.url),a=[`"${`${s.origin}${s.pathname}`}"`];let c=e.method.toLowerCase();["delete","get","head","post","put","patch"].includes(c)||(a.push(`method="${c}"`),c="fetch"),s.searchParams.size&&a.push(`params=${this.prettyPrintObject(Object.fromEntries(s.searchParams.entries()))}`),n&&a.push(`data=${this.prettyPrintObject(n)}`),e.headers.length&&a.push(`headers=${this.prettyPrintObject(Object.fromEntries(e.headers.map(d=>[d.name,d.value])))}`);const u=a.length===1?a[0]:`
${a.map(d=>this.indent(d,2)).join(`,
`)}
`;return`await page.request.${c}(${u})`}indent(e,n){return e.split(`
`).map(s=>" ".repeat(n)+s).join(`
`)}prettyPrintObject(e,n=2,s=0){if(e===null||e===void 0)return"None";if(typeof e!="object")return typeof e=="string"?this.stringLiteral(e):typeof e=="boolean"?e?"True":"False":String(e);if(Array.isArray(e)){if(e.length===0)return"[]";const u=" ".repeat(s*n),d=" ".repeat((s+1)*n);return`[
${e.map(g=>`${d}${this.prettyPrintObject(g,n,s+1)}`).join(`,
`)}
${u}]`}if(Object.keys(e).length===0)return"{}";const o=" ".repeat(s*n),a=" ".repeat((s+1)*n);return`{
${Object.entries(e).map(([u,d])=>{const p=this.prettyPrintObject(d,n,s+1);return`${a}${this.stringLiteral(u)}: ${p}`}).join(`,
`)}
${o}}`}stringLiteral(e){return JSON.stringify(e)}}class CSharpCodeGen{generatePlaywrightRequestCall(e,n){const s=new URL(e.url),o=`${s.origin}${s.pathname}`,a={},c=[];let u=e.method.toLowerCase();["delete","get","head","post","put","patch"].includes(u)||(a.Method=u,u="fetch"),s.searchParams.size&&(a.Params=Object.fromEntries(s.searchParams.entries())),n&&(a.Data=n),e.headers.length&&(a.Headers=Object.fromEntries(e.headers.map(g=>[g.name,g.value])));const d=[`"${o}"`];return Object.keys(a).length>0&&d.push(this.prettyPrintObject(a)),`${c.join(`
`)}${c.length?`
`:""}await request.${this.toFunctionName(u)}(${d.join(", ")});`}toFunctionName(e){return e[0].toUpperCase()+e.slice(1)+"Async"}prettyPrintObject(e,n=2,s=0){if(e===null||e===void 0)return"null";if(typeof e!="object")return typeof e=="string"?this.stringLiteral(e):typeof e=="boolean"?e?"true":"false":String(e);if(Array.isArray(e)){if(e.length===0)return"new object[] {}";const u=" ".repeat(s*n),d=" ".repeat((s+1)*n);return`new object[] {
${e.map(g=>`${d}${this.prettyPrintObject(g,n,s+1)}`).join(`,
`)}
${u}}`}if(Object.keys(e).length===0)return"new {}";const o=" ".repeat(s*n),a=" ".repeat((s+1)*n);return`new() {
${Object.entries(e).map(([u,d])=>{const p=this.prettyPrintObject(d,n,s+1),g=s===0?u:`[${this.stringLiteral(u)}]`;return`${a}${g} = ${p}`}).join(`,
`)}
${o}}`}stringLiteral(e){return JSON.stringify(e)}}class JavaCodeGen{generatePlaywrightRequestCall(e,n){const s=new URL(e.url),o=[`"${s.origin}${s.pathname}"`],a=[];let c=e.method.toLowerCase();["delete","get","head","post","put","patch"].includes(c)||(a.push(`setMethod("${c}")`),c="fetch");for(const[u,d]of s.searchParams)a.push(`setQueryParam(${this.stringLiteral(u)}, ${this.stringLiteral(d)})`);n&&a.push(`setData(${this.stringLiteral(n)})`);for(const u of e.headers)a.push(`setHeader(${this.stringLiteral(u.name)}, ${this.stringLiteral(u.value)})`);return a.length>0&&o.push(`RequestOptions.create()
  .${a.join(`
  .`)}
`),`request.${c}(${o.join(", ")});`}stringLiteral(e){return JSON.stringify(e)}}function getAPIRequestCodeGen(t){if(t==="javascript")return new JSCodeGen;if(t==="python")return new PythonCodeGen;if(t==="csharp")return new CSharpCodeGen;if(t==="java")return new JavaCodeGen;throw new Error("Unsupported language: "+t)}const NetworkResourceDetails=({resource:t,sdkLanguage:e,startTimeOffset:n,onClose:s})=>{const[o,a]=reactExports.useState("request"),c=useAsyncMemo(async()=>{if(t.request.postData){const u=t.request.headers.find(p=>p.name.toLowerCase()==="content-type"),d=u?u.value:"";if(t.request.postData._sha1){const p=await fetch(`sha1/${t.request.postData._sha1}`);return{text:formatBody(await p.text(),d),mimeType:d}}else return{text:formatBody(t.request.postData.text,d),mimeType:d}}else return null},[t],null);return jsxRuntimeExports.jsx(TabbedPane,{dataTestId:"network-request-details",leftToolbar:[jsxRuntimeExports.jsx(ToolbarButton,{icon:"close",title:"Close",onClick:s},"close")],rightToolbar:[jsxRuntimeExports.jsx(CopyDropdown,{requestBody:c,resource:t,sdkLanguage:e},"dropdown")],tabs:[{id:"request",title:"Request",render:()=>jsxRuntimeExports.jsx(RequestTab,{resource:t,startTimeOffset:n,requestBody:c})},{id:"response",title:"Response",render:()=>jsxRuntimeExports.jsx(ResponseTab,{resource:t})},{id:"body",title:"Body",render:()=>jsxRuntimeExports.jsx(BodyTab,{resource:t})}],selectedTab:o,setSelectedTab:a})},CopyDropdown=({resource:t,sdkLanguage:e,requestBody:n})=>{const s=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"codicon codicon-check",style:{marginRight:"5px"}})," Copied "]}),o=async()=>getAPIRequestCodeGen(e).generatePlaywrightRequestCall(t.request,n==null?void 0:n.text);return jsxRuntimeExports.jsxs("div",{className:"copy-request-dropdown",children:[jsxRuntimeExports.jsxs(ToolbarButton,{className:"copy-request-dropdown-toggle",children:[jsxRuntimeExports.jsx("span",{className:"codicon codicon-copy",style:{marginRight:"5px"}}),"Copy request",jsxRuntimeExports.jsx("span",{className:"codicon codicon-chevron-down",style:{marginLeft:"5px"}})]}),jsxRuntimeExports.jsxs("div",{className:"copy-request-dropdown-menu",children:[jsxRuntimeExports.jsx(CopyToClipboardTextButton,{description:"Copy as cURL",copiedDescription:s,value:()=>generateCurlCommand(t)}),jsxRuntimeExports.jsx(CopyToClipboardTextButton,{description:"Copy as Fetch",copiedDescription:s,value:()=>generateFetchCall(t)}),jsxRuntimeExports.jsx(CopyToClipboardTextButton,{description:"Copy as Playwright",copiedDescription:s,value:o})]})]})},RequestTab=({resource:t,startTimeOffset:e,requestBody:n})=>jsxRuntimeExports.jsxs("div",{className:"network-request-details-tab",children:[jsxRuntimeExports.jsx("div",{className:"network-request-details-header",children:"General"}),jsxRuntimeExports.jsx("div",{className:"network-request-details-url",children:`URL: ${t.request.url}`}),jsxRuntimeExports.jsx("div",{className:"network-request-details-general",children:`Method: ${t.request.method}`}),t.response.status!==-1&&jsxRuntimeExports.jsxs("div",{className:"network-request-details-general",style:{display:"flex"},children:["Status Code: ",jsxRuntimeExports.jsx("span",{className:statusClass(t.response.status),style:{display:"inline-flex"},children:`${t.response.status} ${t.response.statusText}`})]}),t.request.queryString.length?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"network-request-details-header",children:"Query String Parameters"}),jsxRuntimeExports.jsx("div",{className:"network-request-details-headers",children:t.request.queryString.map(s=>`${s.name}: ${s.value}`).join(`
`)})]}):null,jsxRuntimeExports.jsx("div",{className:"network-request-details-header",children:"Request Headers"}),jsxRuntimeExports.jsx("div",{className:"network-request-details-headers",children:t.request.headers.map(s=>`${s.name}: ${s.value}`).join(`
`)}),jsxRuntimeExports.jsx("div",{className:"network-request-details-header",children:"Time"}),jsxRuntimeExports.jsx("div",{className:"network-request-details-general",children:`Start: ${msToString(e)}`}),jsxRuntimeExports.jsx("div",{className:"network-request-details-general",children:`Duration: ${msToString(t.time)}`}),n&&jsxRuntimeExports.jsx("div",{className:"network-request-details-header",children:"Request Body"}),n&&jsxRuntimeExports.jsx(CodeMirrorWrapper,{text:n.text,mimeType:n.mimeType,readOnly:!0,lineNumbers:!0})]}),ResponseTab=({resource:t})=>jsxRuntimeExports.jsxs("div",{className:"network-request-details-tab",children:[jsxRuntimeExports.jsx("div",{className:"network-request-details-header",children:"Response Headers"}),jsxRuntimeExports.jsx("div",{className:"network-request-details-headers",children:t.response.headers.map(e=>`${e.name}: ${e.value}`).join(`
`)})]}),BodyTab=({resource:t})=>{const[e,n]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{if(t.response.content._sha1){const o=t.response.content.mimeType.includes("image"),a=t.response.content.mimeType.includes("font"),c=await fetch(`sha1/${t.response.content._sha1}`);if(o){const u=await c.blob(),d=new FileReader,p=new Promise(g=>d.onload=g);d.readAsDataURL(u),n({dataUrl:(await p).target.result})}else if(a){const u=await c.arrayBuffer();n({font:u})}else{const u=formatBody(await c.text(),t.response.content.mimeType);n({text:u,mimeType:t.response.content.mimeType})}}else n(null)})()},[t]),jsxRuntimeExports.jsxs("div",{className:"network-request-details-tab",children:[!t.response.content._sha1&&jsxRuntimeExports.jsx("div",{children:"Response body is not available for this request."}),e&&e.font&&jsxRuntimeExports.jsx(FontPreview,{font:e.font}),e&&e.dataUrl&&jsxRuntimeExports.jsx("img",{draggable:"false",src:e.dataUrl}),e&&e.text&&jsxRuntimeExports.jsx(CodeMirrorWrapper,{text:e.text,mimeType:e.mimeType,readOnly:!0,lineNumbers:!0})]})},FontPreview=({font:t})=>{const[e,n]=reactExports.useState(!1);return reactExports.useEffect(()=>{let s;try{s=new FontFace("font-preview",t),s.status==="loaded"&&document.fonts.add(s),s.status==="error"&&n(!0)}catch{n(!0)}return()=>{document.fonts.delete(s)}},[t]),e?jsxRuntimeExports.jsx("div",{className:"network-font-preview-error",children:"Could not load font preview"}):jsxRuntimeExports.jsxs("div",{className:"network-font-preview",children:["ABCDEFGHIJKLM",jsxRuntimeExports.jsx("br",{}),"NOPQRSTUVWXYZ",jsxRuntimeExports.jsx("br",{}),"abcdefghijklm",jsxRuntimeExports.jsx("br",{}),"nopqrstuvwxyz",jsxRuntimeExports.jsx("br",{}),"1234567890"]})};function statusClass(t){return t<300||t===304?"green-circle":t<400?"yellow-circle":"red-circle"}function formatBody(t,e){if(t===null)return"Loading...";const n=t;if(n==="")return"<Empty>";if(e.includes("application/json"))try{return JSON.stringify(JSON.parse(n),null,2)}catch{return n}return e.includes("application/x-www-form-urlencoded")?decodeURIComponent(n):n}function GridView(t){const[e,n]=reactExports.useState([]);reactExports.useEffect(()=>{const a=[];for(let c=0;c<t.columns.length-1;++c){const u=t.columns[c];a[c]=(a[c-1]||0)+t.columnWidths.get(u)}n(a)},[t.columns,t.columnWidths]);function s(a){const c=new Map(t.columnWidths.entries());for(let u=0;u<a.length;++u){const d=a[u]-(a[u-1]||0),p=t.columns[u];c.set(p,d)}t.setColumnWidths(c)}const o=reactExports.useCallback(a=>{var c,u;(u=t.setSorting)==null||u.call(t,{by:a,negate:((c=t.sorting)==null?void 0:c.by)===a?!t.sorting.negate:!1})},[t]);return jsxRuntimeExports.jsxs("div",{className:`grid-view ${t.name}-grid-view`,children:[jsxRuntimeExports.jsx(ResizeView,{orientation:"horizontal",offsets:e,setOffsets:s,resizerColor:"var(--vscode-panel-border)",resizerWidth:1,minColumnWidth:25}),jsxRuntimeExports.jsxs("div",{className:"vbox",children:[jsxRuntimeExports.jsx("div",{className:"grid-view-header",children:t.columns.map((a,c)=>jsxRuntimeExports.jsxs("div",{className:"grid-view-header-cell "+sortingHeader(a,t.sorting),style:{width:c<t.columns.length-1?t.columnWidths.get(a):void 0},onClick:()=>t.setSorting&&o(a),children:[jsxRuntimeExports.jsx("span",{className:"grid-view-header-cell-title",children:t.columnTitle(a)}),jsxRuntimeExports.jsx("span",{className:"codicon codicon-triangle-up"}),jsxRuntimeExports.jsx("span",{className:"codicon codicon-triangle-down"})]},t.columnTitle(a)))}),jsxRuntimeExports.jsx(ListView,{name:t.name,items:t.items,id:t.id,render:(a,c)=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t.columns.map((u,d)=>{const{body:p,title:g}=t.render(a,u,c);return jsxRuntimeExports.jsx("div",{className:`grid-view-cell grid-view-column-${String(u)}`,title:g,style:{width:d<t.columns.length-1?t.columnWidths.get(u):void 0},children:p},t.columnTitle(u))})}),icon:t.icon,isError:t.isError,isWarning:t.isWarning,isInfo:t.isInfo,selectedItem:t.selectedItem,onAccepted:t.onAccepted,onSelected:t.onSelected,onHighlighted:t.onHighlighted,onIconClicked:t.onIconClicked,noItemsMessage:t.noItemsMessage,dataTestId:t.dataTestId,notSelectable:t.notSelectable})]})]})}function sortingHeader(t,e){return t===(e==null?void 0:e.by)?" filter-"+(e.negate?"negative":"positive"):""}const resourceTypes=["All","Fetch","HTML","JS","CSS","Font","Image"],defaultFilterState={searchValue:"",resourceType:"All"},NetworkFilters=({filterState:t,onFilterStateChange:e})=>jsxRuntimeExports.jsxs("div",{className:"network-filters",children:[jsxRuntimeExports.jsx("input",{type:"search",placeholder:"Filter network",spellCheck:!1,value:t.searchValue,onChange:n=>e({...t,searchValue:n.target.value})}),jsxRuntimeExports.jsx("div",{className:"network-filters-resource-types",children:resourceTypes.map(n=>jsxRuntimeExports.jsx("div",{title:n,onClick:()=>e({...t,resourceType:n}),className:`network-filters-resource-type ${t.resourceType===n?"selected":""}`,children:n},n))})]}),NetworkGridView=GridView;function useNetworkTabModel(t,e){const n=reactExports.useMemo(()=>((t==null?void 0:t.resources)||[]).filter(c=>e?!!c._monotonicTime&&c._monotonicTime>=e.minimum&&c._monotonicTime<=e.maximum:!0),[t,e]),s=reactExports.useMemo(()=>new ContextIdMap(t),[t]);return{resources:n,contextIdMap:s}}const NetworkTab=({boundaries:t,networkModel:e,onEntryHovered:n,sdkLanguage:s})=>{const[o,a]=reactExports.useState(void 0),[c,u]=reactExports.useState(void 0),[d,p]=reactExports.useState(defaultFilterState),{renderedEntries:g}=reactExports.useMemo(()=>{const S=e.resources.map(E=>renderEntry(E,t,e.contextIdMap)).filter(filterEntry(d));return o&&sort(S,o),{renderedEntries:S}},[e.resources,e.contextIdMap,d,o,t]),[y,x]=reactExports.useState(()=>new Map(allColumns().map(S=>[S,columnWidth(S)]))),v=reactExports.useCallback(S=>{p(S),u(void 0)},[]);if(!e.resources.length)return jsxRuntimeExports.jsx(PlaceholderPanel,{text:"No network calls"});const T=jsxRuntimeExports.jsx(NetworkGridView,{name:"network",items:g,selectedItem:c,onSelected:S=>u(S),onHighlighted:S=>n==null?void 0:n(S==null?void 0:S.resource),columns:visibleColumns(!!c,g),columnTitle,columnWidths:y,setColumnWidths:x,isError:S=>S.status.code>=400||S.status.code===-1,isInfo:S=>!!S.route,render:(S,E)=>renderCell(S,E),sorting:o,setSorting:a});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(NetworkFilters,{filterState:d,onFilterStateChange:v}),!c&&T,c&&jsxRuntimeExports.jsx(SplitView,{sidebarSize:y.get("name"),sidebarIsFirst:!0,orientation:"horizontal",settingName:"networkResourceDetails",main:jsxRuntimeExports.jsx(NetworkResourceDetails,{resource:c.resource,sdkLanguage:s,startTimeOffset:c.start,onClose:()=>u(void 0)}),sidebar:T})]})},columnTitle=t=>t==="contextId"?"Source":t==="name"?"Name":t==="method"?"Method":t==="status"?"Status":t==="contentType"?"Content Type":t==="duration"?"Duration":t==="size"?"Size":t==="start"?"Start":t==="route"?"Route":"",columnWidth=t=>t==="name"?200:t==="method"||t==="status"?60:t==="contentType"?200:t==="contextId"?60:100;function visibleColumns(t,e){if(t){const s=["name"];return hasMultipleContexts(e)&&s.unshift("contextId"),s}let n=allColumns();return hasMultipleContexts(e)||(n=n.filter(s=>s!=="contextId")),n}function allColumns(){return["contextId","name","method","status","contentType","duration","size","start","route"]}const renderCell=(t,e)=>e==="contextId"?{body:t.contextId,title:t.name.url}:e==="name"?{body:t.name.name,title:t.name.url}:e==="method"?{body:t.method}:e==="status"?{body:t.status.code>0?t.status.code:"",title:t.status.text}:e==="contentType"?{body:t.contentType}:e==="duration"?{body:msToString(t.duration)}:e==="size"?{body:bytesToString(t.size)}:e==="start"?{body:msToString(t.start)}:e==="route"?{body:t.route}:{body:""};class ContextIdMap{constructor(e){ve(this,"_pagerefToShortId",new Map);ve(this,"_contextToId",new Map);ve(this,"_lastPageId",0);ve(this,"_lastApiRequestContextId",0)}contextId(e){return e.pageref?this._pageId(e.pageref):e._apiRequest?this._apiRequestContextId(e):""}_pageId(e){let n=this._pagerefToShortId.get(e);return n||(++this._lastPageId,n="page#"+this._lastPageId,this._pagerefToShortId.set(e,n)),n}_apiRequestContextId(e){const n=context(e);if(!n)return"";let s=this._contextToId.get(n);return s||(++this._lastApiRequestContextId,s="api#"+this._lastApiRequestContextId,this._contextToId.set(n,s)),s}}function hasMultipleContexts(t){const e=new Set;for(const n of t)if(e.add(n.contextId),e.size>1)return!0;return!1}const renderEntry=(t,e,n)=>{const s=formatRouteStatus(t);let o;try{const u=new URL(t.request.url);o=u.pathname.substring(u.pathname.lastIndexOf("/")+1),o||(o=u.host),u.search&&(o+=u.search)}catch{o=t.request.url}let a=t.response.content.mimeType;const c=a.match(/^(.*);\s*charset=.*$/);return c&&(a=c[1]),{name:{name:o,url:t.request.url},method:t.request.method,status:{code:t.response.status,text:t.response.statusText},contentType:a,duration:t.time,size:t.response._transferSize>0?t.response._transferSize:t.response.bodySize,start:t._monotonicTime-e.minimum,route:s,resource:t,contextId:n.contextId(t)}};function formatRouteStatus(t){return t._wasAborted?"aborted":t._wasContinued?"continued":t._wasFulfilled?"fulfilled":t._apiRequest?"api":""}function sort(t,e){const n=comparator(e==null?void 0:e.by);n&&t.sort(n),e.negate&&t.reverse()}function comparator(t){if(t==="start")return(e,n)=>e.start-n.start;if(t==="duration")return(e,n)=>e.duration-n.duration;if(t==="status")return(e,n)=>e.status.code-n.status.code;if(t==="method")return(e,n)=>{const s=e.method,o=n.method;return s.localeCompare(o)};if(t==="size")return(e,n)=>e.size-n.size;if(t==="contentType")return(e,n)=>e.contentType.localeCompare(n.contentType);if(t==="name")return(e,n)=>e.name.name.localeCompare(n.name.name);if(t==="route")return(e,n)=>e.route.localeCompare(n.route);if(t==="contextId")return(e,n)=>e.contextId.localeCompare(n.contextId)}const resourceTypePredicates={All:()=>!0,Fetch:t=>t==="application/json",HTML:t=>t==="text/html",CSS:t=>t==="text/css",JS:t=>t.includes("javascript"),Font:t=>t.includes("font"),Image:t=>t.includes("image")};function filterEntry({searchValue:t,resourceType:e}){return n=>{const s=resourceTypePredicates[e];return s(n.contentType)&&n.name.url.toLowerCase().includes(t.toLowerCase())}}function parseAriaSnapshot(t,e,n={}){var x;const s=new t.LineCounter,o={keepSourceTokens:!0,lineCounter:s,...n},a=t.parseDocument(e,o),c=[],u=v=>[s.linePos(v[0]),s.linePos(v[1])],d=v=>{c.push({message:v.message,range:[s.linePos(v.pos[0]),s.linePos(v.pos[1])]})},p=(v,T)=>{for(const S of T.items){if(S instanceof t.Scalar&&typeof S.value=="string"){const N=KeyParser.parse(S,o,c);N&&(v.children=v.children||[],v.children.push(N));continue}if(S instanceof t.YAMLMap){g(v,S);continue}c.push({message:"Sequence items should be strings or maps",range:u(S.range||T.range)})}},g=(v,T)=>{for(const S of T.items){if(v.children=v.children||[],!(S.key instanceof t.Scalar&&typeof S.key.value=="string")){c.push({message:"Only string keys are supported",range:u(S.key.range||T.range)});continue}const C=S.key,N=S.value;if(C.value==="text"){if(!(N instanceof t.Scalar&&typeof N.value=="string")){c.push({message:"Text value should be a string",range:u(S.value.range||T.range)});continue}v.children.push({kind:"text",text:valueOrRegex(N.value)});continue}if(C.value==="/children"){if(!(N instanceof t.Scalar&&typeof N.value=="string")||N.value!=="contain"&&N.value!=="equal"&&N.value!=="deep-equal"){c.push({message:'Strict value should be "contain", "equal" or "deep-equal"',range:u(S.value.range||T.range)});continue}v.containerMode=N.value;continue}if(C.value.startsWith("/")){if(!(N instanceof t.Scalar&&typeof N.value=="string")){c.push({message:"Property value should be a string",range:u(S.value.range||T.range)});continue}v.props=v.props??{},v.props[C.value.slice(1)]=valueOrRegex(N.value);continue}const M=KeyParser.parse(C,o,c);if(!M)continue;if(N instanceof t.Scalar){const F=typeof N.value;if(F!=="string"&&F!=="number"&&F!=="boolean"){c.push({message:"Node value should be a string or a sequence",range:u(S.value.range||T.range)});continue}v.children.push({...M,children:[{kind:"text",text:valueOrRegex(String(N.value))}]});continue}if(N instanceof t.YAMLSeq){v.children.push(M),p(M,N);continue}c.push({message:"Map values should be strings or sequences",range:u(S.value.range||T.range)})}},y={kind:"role",role:"fragment"};return a.errors.forEach(d),c.length?{errors:c,fragment:y}:(a.contents instanceof t.YAMLSeq||c.push({message:'Aria snapshot must be a YAML sequence, elements starting with " -"',range:a.contents?u(a.contents.range):[{line:0,col:0},{line:0,col:0}]}),c.length?{errors:c,fragment:y}:(p(y,a.contents),c.length?{errors:c,fragment:emptyFragment}:((x=y.children)==null?void 0:x.length)===1?{fragment:y.children[0],errors:c}:{fragment:y,errors:c}))}const emptyFragment={kind:"role",role:"fragment"};function normalizeWhitespace(t){return t.replace(/[\u200b\u00ad]/g,"").replace(/[\r\n\s\t]+/g," ").trim()}function valueOrRegex(t){return t.startsWith("/")&&t.endsWith("/")&&t.length>1?{pattern:t.slice(1,-1)}:normalizeWhitespace(t)}class KeyParser{static parse(e,n,s){try{return new KeyParser(e.value)._parse()}catch(o){if(o instanceof ParserError){const a=n.prettyErrors===!1?o.message:o.message+`:

`+e.value+`
`+" ".repeat(o.pos)+`^
`;return s.push({message:a,range:[n.lineCounter.linePos(e.range[0]),n.lineCounter.linePos(e.range[0]+o.pos)]}),null}throw o}}constructor(e){this._input=e,this._pos=0,this._length=e.length}_peek(){return this._input[this._pos]||""}_next(){return this._pos<this._length?this._input[this._pos++]:null}_eof(){return this._pos>=this._length}_isWhitespace(){return!this._eof()&&/\s/.test(this._peek())}_skipWhitespace(){for(;this._isWhitespace();)this._pos++}_readIdentifier(e){this._eof()&&this._throwError(`Unexpected end of input when expecting ${e}`);const n=this._pos;for(;!this._eof()&&/[a-zA-Z]/.test(this._peek());)this._pos++;return this._input.slice(n,this._pos)}_readString(){let e="",n=!1;for(;!this._eof();){const s=this._next();if(n)e+=s,n=!1;else if(s==="\\")n=!0;else{if(s==='"')return e;e+=s}}this._throwError("Unterminated string")}_throwError(e,n=0){throw new ParserError(e,n||this._pos)}_readRegex(){let e="",n=!1,s=!1;for(;!this._eof();){const o=this._next();if(n)e+=o,n=!1;else if(o==="\\")n=!0,e+=o;else{if(o==="/"&&!s)return{pattern:e};o==="["?(s=!0,e+=o):o==="]"&&s?(e+=o,s=!1):e+=o}}this._throwError("Unterminated regex")}_readStringOrRegex(){const e=this._peek();return e==='"'?(this._next(),normalizeWhitespace(this._readString())):e==="/"?(this._next(),this._readRegex()):null}_readAttributes(e){let n=this._pos;for(;this._skipWhitespace(),this._peek()==="[";){this._next(),this._skipWhitespace(),n=this._pos;const s=this._readIdentifier("attribute");this._skipWhitespace();let o="";if(this._peek()==="=")for(this._next(),this._skipWhitespace(),n=this._pos;this._peek()!=="]"&&!this._isWhitespace()&&!this._eof();)o+=this._next();this._skipWhitespace(),this._peek()!=="]"&&this._throwError("Expected ]"),this._next(),this._applyAttribute(e,s,o||"true",n)}}_parse(){this._skipWhitespace();const e=this._readIdentifier("role");this._skipWhitespace();const n=this._readStringOrRegex()||"",s={kind:"role",role:e,name:n};return this._readAttributes(s),this._skipWhitespace(),this._eof()||this._throwError("Unexpected input"),s}_applyAttribute(e,n,s,o){if(n==="checked"){this._assert(s==="true"||s==="false"||s==="mixed",'Value of "checked" attribute must be a boolean or "mixed"',o),e.checked=s==="true"?!0:s==="false"?!1:"mixed";return}if(n==="disabled"){this._assert(s==="true"||s==="false",'Value of "disabled" attribute must be a boolean',o),e.disabled=s==="true";return}if(n==="expanded"){this._assert(s==="true"||s==="false",'Value of "expanded" attribute must be a boolean',o),e.expanded=s==="true";return}if(n==="level"){this._assert(!isNaN(Number(s)),'Value of "level" attribute must be a number',o),e.level=Number(s);return}if(n==="pressed"){this._assert(s==="true"||s==="false"||s==="mixed",'Value of "pressed" attribute must be a boolean or "mixed"',o),e.pressed=s==="true"?!0:s==="false"?!1:"mixed";return}if(n==="selected"){this._assert(s==="true"||s==="false",'Value of "selected" attribute must be a boolean',o),e.selected=s==="true";return}this._assert(!1,`Unsupported attribute [${n}]`,o)}_assert(e,n,s){e||this._throwError(n||"Assertion error",s)}}class ParserError extends Error{constructor(e,n){super(e),this.pos=n}}let globalOptions={};function setGlobalOptions(t){globalOptions=t}function getGlobalOptions(){return globalOptions}function isInsideScope(t,e){for(;e;){if(t.contains(e))return!0;e=enclosingShadowHost(e)}return!1}function parentElementOrShadowHost(t){if(t.parentElement)return t.parentElement;if(t.parentNode&&t.parentNode.nodeType===11&&t.parentNode.host)return t.parentNode.host}function enclosingShadowRootOrDocument(t){let e=t;for(;e.parentNode;)e=e.parentNode;if(e.nodeType===11||e.nodeType===9)return e}function enclosingShadowHost(t){for(;t.parentElement;)t=t.parentElement;return parentElementOrShadowHost(t)}function closestCrossShadow(t,e,n){for(;t;){const s=t.closest(e);if(n&&s!==n&&(s!=null&&s.contains(n)))return;if(s)return s;t=enclosingShadowHost(t)}}function getElementComputedStyle(t,e){return t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,e):void 0}function isElementStyleVisibilityVisible(t,e){if(e=e??getElementComputedStyle(t),!e)return!0;if(Element.prototype.checkVisibility&&globalOptions.browserNameForWorkarounds!=="webkit"){if(!t.checkVisibility())return!1}else{const n=t.closest("details,summary");if(n!==t&&(n==null?void 0:n.nodeName)==="DETAILS"&&!n.open)return!1}return e.visibility==="visible"}function box(t){const e=getElementComputedStyle(t);if(!e)return{visible:!0};if(e.display==="contents"){for(let s=t.firstChild;s;s=s.nextSibling){if(s.nodeType===1&&isElementVisible(s))return{visible:!0,style:e};if(s.nodeType===3&&isVisibleTextNode(s))return{visible:!0,style:e}}return{visible:!1,style:e}}if(!isElementStyleVisibilityVisible(t,e))return{style:e,visible:!1};const n=t.getBoundingClientRect();return{rect:n,style:e,visible:n.width>0&&n.height>0}}function isElementVisible(t){return box(t).visible}function isVisibleTextNode(t){const e=t.ownerDocument.createRange();e.selectNode(t);const n=e.getBoundingClientRect();return n.width>0&&n.height>0}function elementSafeTagName(t){return t instanceof HTMLFormElement?"FORM":t.tagName.toUpperCase()}function hasExplicitAccessibleName(t){return t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby")}const kAncestorPreventingLandmark="article:not([role]), aside:not([role]), main:not([role]), nav:not([role]), section:not([role]), [role=article], [role=complementary], [role=main], [role=navigation], [role=region]",kGlobalAriaAttributes=[["aria-atomic",void 0],["aria-busy",void 0],["aria-controls",void 0],["aria-current",void 0],["aria-describedby",void 0],["aria-details",void 0],["aria-dropeffect",void 0],["aria-flowto",void 0],["aria-grabbed",void 0],["aria-hidden",void 0],["aria-keyshortcuts",void 0],["aria-label",["caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript"]],["aria-labelledby",["caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript"]],["aria-live",void 0],["aria-owns",void 0],["aria-relevant",void 0],["aria-roledescription",["generic"]]];function hasGlobalAriaAttribute(t,e){return kGlobalAriaAttributes.some(([n,s])=>!(s!=null&&s.includes(e||""))&&t.hasAttribute(n))}function hasTabIndex(t){return!Number.isNaN(Number(String(t.getAttribute("tabindex"))))}function isFocusable(t){return!isNativelyDisabled(t)&&(isNativelyFocusable(t)||hasTabIndex(t))}function isNativelyFocusable(t){const e=elementSafeTagName(t);return["BUTTON","DETAILS","SELECT","TEXTAREA"].includes(e)?!0:e==="A"||e==="AREA"?t.hasAttribute("href"):e==="INPUT"?!t.hidden:!1}const kImplicitRoleByTagName={A:t=>t.hasAttribute("href")?"link":null,AREA:t=>t.hasAttribute("href")?"link":null,ARTICLE:()=>"article",ASIDE:()=>"complementary",BLOCKQUOTE:()=>"blockquote",BUTTON:()=>"button",CAPTION:()=>"caption",CODE:()=>"code",DATALIST:()=>"listbox",DD:()=>"definition",DEL:()=>"deletion",DETAILS:()=>"group",DFN:()=>"term",DIALOG:()=>"dialog",DT:()=>"term",EM:()=>"emphasis",FIELDSET:()=>"group",FIGURE:()=>"figure",FOOTER:t=>closestCrossShadow(t,kAncestorPreventingLandmark)?null:"contentinfo",FORM:t=>hasExplicitAccessibleName(t)?"form":null,H1:()=>"heading",H2:()=>"heading",H3:()=>"heading",H4:()=>"heading",H5:()=>"heading",H6:()=>"heading",HEADER:t=>closestCrossShadow(t,kAncestorPreventingLandmark)?null:"banner",HR:()=>"separator",HTML:()=>"document",IMG:t=>t.getAttribute("alt")===""&&!t.getAttribute("title")&&!hasGlobalAriaAttribute(t)&&!hasTabIndex(t)?"presentation":"img",INPUT:t=>{const e=t.type.toLowerCase();if(e==="search")return t.hasAttribute("list")?"combobox":"searchbox";if(["email","tel","text","url",""].includes(e)){const n=getIdRefs(t,t.getAttribute("list"))[0];return n&&elementSafeTagName(n)==="DATALIST"?"combobox":"textbox"}return e==="hidden"?null:e==="file"&&!getGlobalOptions().inputFileRoleTextbox?"button":inputTypeToRole[e]||"textbox"},INS:()=>"insertion",LI:()=>"listitem",MAIN:()=>"main",MARK:()=>"mark",MATH:()=>"math",MENU:()=>"list",METER:()=>"meter",NAV:()=>"navigation",OL:()=>"list",OPTGROUP:()=>"group",OPTION:()=>"option",OUTPUT:()=>"status",P:()=>"paragraph",PROGRESS:()=>"progressbar",SECTION:t=>hasExplicitAccessibleName(t)?"region":null,SELECT:t=>t.hasAttribute("multiple")||t.size>1?"listbox":"combobox",STRONG:()=>"strong",SUB:()=>"subscript",SUP:()=>"superscript",SVG:()=>"img",TABLE:()=>"table",TBODY:()=>"rowgroup",TD:t=>{const e=closestCrossShadow(t,"table"),n=e?getExplicitAriaRole(e):"";return n==="grid"||n==="treegrid"?"gridcell":"cell"},TEXTAREA:()=>"textbox",TFOOT:()=>"rowgroup",TH:t=>{if(t.getAttribute("scope")==="col")return"columnheader";if(t.getAttribute("scope")==="row")return"rowheader";const e=closestCrossShadow(t,"table"),n=e?getExplicitAriaRole(e):"";return n==="grid"||n==="treegrid"?"gridcell":"cell"},THEAD:()=>"rowgroup",TIME:()=>"time",TR:()=>"row",UL:()=>"list"},kPresentationInheritanceParents={DD:["DL","DIV"],DIV:["DL"],DT:["DL","DIV"],LI:["OL","UL"],TBODY:["TABLE"],TD:["TR"],TFOOT:["TABLE"],TH:["TR"],THEAD:["TABLE"],TR:["THEAD","TBODY","TFOOT","TABLE"]};function getImplicitAriaRole(t){var s;const e=((s=kImplicitRoleByTagName[elementSafeTagName(t)])==null?void 0:s.call(kImplicitRoleByTagName,t))||"";if(!e)return null;let n=t;for(;n;){const o=parentElementOrShadowHost(n),a=kPresentationInheritanceParents[elementSafeTagName(n)];if(!a||!o||!a.includes(elementSafeTagName(o)))break;const c=getExplicitAriaRole(o);if((c==="none"||c==="presentation")&&!hasPresentationConflictResolution(o,c))return c;n=o}return e}const validRoles=["alert","alertdialog","application","article","banner","blockquote","button","caption","cell","checkbox","code","columnheader","combobox","complementary","contentinfo","definition","deletion","dialog","directory","document","emphasis","feed","figure","form","generic","grid","gridcell","group","heading","img","insertion","link","list","listbox","listitem","log","main","mark","marquee","math","meter","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","paragraph","presentation","progressbar","radio","radiogroup","region","row","rowgroup","rowheader","scrollbar","search","searchbox","separator","slider","spinbutton","status","strong","subscript","superscript","switch","tab","table","tablist","tabpanel","term","textbox","time","timer","toolbar","tooltip","tree","treegrid","treeitem"];function getExplicitAriaRole(t){return(t.getAttribute("role")||"").split(" ").map(n=>n.trim()).find(n=>validRoles.includes(n))||null}function hasPresentationConflictResolution(t,e){return hasGlobalAriaAttribute(t,e)||isFocusable(t)}function getAriaRole(t){const e=getExplicitAriaRole(t);if(!e)return getImplicitAriaRole(t);if(e==="none"||e==="presentation"){const n=getImplicitAriaRole(t);if(hasPresentationConflictResolution(t,n))return n}return e}function getAriaBoolean(t){return t===null?void 0:t.toLowerCase()==="true"}function isElementIgnoredForAria(t){return["STYLE","SCRIPT","NOSCRIPT","TEMPLATE"].includes(elementSafeTagName(t))}function isElementHiddenForAria(t){if(isElementIgnoredForAria(t))return!0;const e=getElementComputedStyle(t),n=t.nodeName==="SLOT";if((e==null?void 0:e.display)==="contents"&&!n){for(let o=t.firstChild;o;o=o.nextSibling)if(o.nodeType===1&&!isElementHiddenForAria(o)||o.nodeType===3&&isVisibleTextNode(o))return!1;return!0}return!(t.nodeName==="OPTION"&&!!t.closest("select"))&&!n&&!isElementStyleVisibilityVisible(t,e)?!0:belongsToDisplayNoneOrAriaHiddenOrNonSlotted(t)}function belongsToDisplayNoneOrAriaHiddenOrNonSlotted(t){let e=cacheIsHidden==null?void 0:cacheIsHidden.get(t);if(e===void 0){if(e=!1,t.parentElement&&t.parentElement.shadowRoot&&!t.assignedSlot&&(e=!0),!e){const n=getElementComputedStyle(t);e=!n||n.display==="none"||getAriaBoolean(t.getAttribute("aria-hidden"))===!0}if(!e){const n=parentElementOrShadowHost(t);n&&(e=belongsToDisplayNoneOrAriaHiddenOrNonSlotted(n))}cacheIsHidden==null||cacheIsHidden.set(t,e)}return e}function getIdRefs(t,e){if(!e)return[];const n=enclosingShadowRootOrDocument(t);if(!n)return[];try{const s=e.split(" ").filter(a=>!!a),o=[];for(const a of s){const c=n.querySelector("#"+CSS.escape(a));c&&!o.includes(c)&&o.push(c)}return o}catch{return[]}}function trimFlatString(t){return t.trim()}function asFlatString(t){return t.split(" ").map(e=>e.replace(/\r\n/g,`
`).replace(/[\u200b\u00ad]/g,"").replace(/\s\s*/g," ")).join(" ").trim()}function queryInAriaOwned(t,e){const n=[...t.querySelectorAll(e)];for(const s of getIdRefs(t,t.getAttribute("aria-owns")))s.matches(e)&&n.push(s),n.push(...s.querySelectorAll(e));return n}function getCSSContent(t,e){const n=e==="::before"?cachePseudoContentBefore:e==="::after"?cachePseudoContentAfter:cachePseudoContent;if(n!=null&&n.has(t))return n==null?void 0:n.get(t);const s=getElementComputedStyle(t,e);let o;return s&&s.display!=="none"&&s.visibility!=="hidden"&&(o=parseCSSContentPropertyAsString(t,s.content,!!e)),e&&o!==void 0&&((s==null?void 0:s.display)||"inline")!=="inline"&&(o=" "+o+" "),n&&n.set(t,o),o}function parseCSSContentPropertyAsString(t,e,n){if(!(!e||e==="none"||e==="normal"))try{let s=tokenize(e).filter(u=>!(u instanceof WhitespaceToken));const o=s.findIndex(u=>u instanceof DelimToken&&u.value==="/");if(o!==-1)s=s.slice(o+1);else if(!n)return;const a=[];let c=0;for(;c<s.length;)if(s[c]instanceof StringToken)a.push(s[c].value),c++;else if(c+2<s.length&&s[c]instanceof FunctionToken&&s[c].value==="attr"&&s[c+1]instanceof IdentToken&&s[c+2]instanceof CloseParenToken){const u=s[c+1].value;a.push(t.getAttribute(u)||""),c+=3}else return;return a.join("")}catch{}}function getAriaLabelledByElements(t){const e=t.getAttribute("aria-labelledby");if(e===null)return null;const n=getIdRefs(t,e);return n.length?n:null}function allowsNameFromContent(t,e){const n=["button","cell","checkbox","columnheader","gridcell","heading","link","menuitem","menuitemcheckbox","menuitemradio","option","radio","row","rowheader","switch","tab","tooltip","treeitem"].includes(t),s=e&&["","caption","code","contentinfo","definition","deletion","emphasis","insertion","list","listitem","mark","none","paragraph","presentation","region","row","rowgroup","section","strong","subscript","superscript","table","term","time"].includes(t);return n||s}function getElementAccessibleName(t,e){const n=e?cacheAccessibleNameHidden:cacheAccessibleName;let s=n==null?void 0:n.get(t);return s===void 0&&(s="",["caption","code","definition","deletion","emphasis","generic","insertion","mark","paragraph","presentation","strong","subscript","suggestion","superscript","term","time"].includes(getAriaRole(t)||"")||(s=asFlatString(getTextAlternativeInternal(t,{includeHidden:e,visitedElements:new Set,embeddedInTargetElement:"self"}))),n==null||n.set(t,s)),s}function getElementAccessibleDescription(t,e){const n=e?cacheAccessibleDescriptionHidden:cacheAccessibleDescription;let s=n==null?void 0:n.get(t);if(s===void 0){if(s="",t.hasAttribute("aria-describedby")){const o=getIdRefs(t,t.getAttribute("aria-describedby"));s=asFlatString(o.map(a=>getTextAlternativeInternal(a,{includeHidden:e,visitedElements:new Set,embeddedInDescribedBy:{element:a,hidden:isElementHiddenForAria(a)}})).join(" "))}else t.hasAttribute("aria-description")?s=asFlatString(t.getAttribute("aria-description")||""):s=asFlatString(t.getAttribute("title")||"");n==null||n.set(t,s)}return s}const kAriaInvalidRoles=["application","checkbox","combobox","gridcell","listbox","radiogroup","slider","spinbutton","textbox","tree","columnheader","rowheader","searchbox","switch","treegrid"];function getAriaInvalid(t){const e=getAriaRole(t)||"";if(!e||!kAriaInvalidRoles.includes(e))return"false";const n=t.getAttribute("aria-invalid");return!n||n.trim()===""||n.toLocaleLowerCase()==="false"?"false":n==="true"||n==="grammar"||n==="spelling"?n:"true"}function getValidityInvalid(t){if("validity"in t){const e=t.validity;return(e==null?void 0:e.valid)===!1}return!1}function getElementAccessibleErrorMessage(t){const e=cacheAccessibleErrorMessage;let n=cacheAccessibleErrorMessage==null?void 0:cacheAccessibleErrorMessage.get(t);if(n===void 0){n="";const s=getAriaInvalid(t)!=="false",o=getValidityInvalid(t);if(s||o){const a=t.getAttribute("aria-errormessage");n=getIdRefs(t,a).map(d=>asFlatString(getTextAlternativeInternal(d,{visitedElements:new Set,embeddedInDescribedBy:{element:d,hidden:isElementHiddenForAria(d)}}))).join(" ").trim()}e==null||e.set(t,n)}return n}function getTextAlternativeInternal(t,e){var d,p,g,y;if(e.visitedElements.has(t))return"";const n={...e,embeddedInTargetElement:e.embeddedInTargetElement==="self"?"descendant":e.embeddedInTargetElement};if(!e.includeHidden){const x=!!((d=e.embeddedInLabelledBy)!=null&&d.hidden)||!!((p=e.embeddedInDescribedBy)!=null&&p.hidden)||!!((g=e.embeddedInNativeTextAlternative)!=null&&g.hidden)||!!((y=e.embeddedInLabel)!=null&&y.hidden);if(isElementIgnoredForAria(t)||!x&&isElementHiddenForAria(t))return e.visitedElements.add(t),""}const s=getAriaLabelledByElements(t);if(!e.embeddedInLabelledBy){const x=(s||[]).map(v=>getTextAlternativeInternal(v,{...e,embeddedInLabelledBy:{element:v,hidden:isElementHiddenForAria(v)},embeddedInDescribedBy:void 0,embeddedInTargetElement:void 0,embeddedInLabel:void 0,embeddedInNativeTextAlternative:void 0})).join(" ");if(x)return x}const o=getAriaRole(t)||"",a=elementSafeTagName(t);if(e.embeddedInLabel||e.embeddedInLabelledBy||e.embeddedInTargetElement==="descendant"){const x=[...t.labels||[]].includes(t),v=(s||[]).includes(t);if(!x&&!v){if(o==="textbox")return e.visitedElements.add(t),a==="INPUT"||a==="TEXTAREA"?t.value:t.textContent||"";if(["combobox","listbox"].includes(o)){e.visitedElements.add(t);let T;if(a==="SELECT")T=[...t.selectedOptions],!T.length&&t.options.length&&T.push(t.options[0]);else{const S=o==="combobox"?queryInAriaOwned(t,"*").find(E=>getAriaRole(E)==="listbox"):t;T=S?queryInAriaOwned(S,'[aria-selected="true"]').filter(E=>getAriaRole(E)==="option"):[]}return!T.length&&a==="INPUT"?t.value:T.map(S=>getTextAlternativeInternal(S,n)).join(" ")}if(["progressbar","scrollbar","slider","spinbutton","meter"].includes(o))return e.visitedElements.add(t),t.hasAttribute("aria-valuetext")?t.getAttribute("aria-valuetext")||"":t.hasAttribute("aria-valuenow")?t.getAttribute("aria-valuenow")||"":t.getAttribute("value")||"";if(["menu"].includes(o))return e.visitedElements.add(t),""}}const c=t.getAttribute("aria-label")||"";if(trimFlatString(c))return e.visitedElements.add(t),c;if(!["presentation","none"].includes(o)){if(a==="INPUT"&&["button","submit","reset"].includes(t.type)){e.visitedElements.add(t);const x=t.value||"";return trimFlatString(x)?x:t.type==="submit"?"Submit":t.type==="reset"?"Reset":t.getAttribute("title")||""}if(!getGlobalOptions().inputFileRoleTextbox&&a==="INPUT"&&t.type==="file"){e.visitedElements.add(t);const x=t.labels||[];return x.length&&!e.embeddedInLabelledBy?getAccessibleNameFromAssociatedLabels(x,e):"Choose File"}if(a==="INPUT"&&t.type==="image"){e.visitedElements.add(t);const x=t.labels||[];if(x.length&&!e.embeddedInLabelledBy)return getAccessibleNameFromAssociatedLabels(x,e);const v=t.getAttribute("alt")||"";if(trimFlatString(v))return v;const T=t.getAttribute("title")||"";return trimFlatString(T)?T:"Submit"}if(!s&&a==="BUTTON"){e.visitedElements.add(t);const x=t.labels||[];if(x.length)return getAccessibleNameFromAssociatedLabels(x,e)}if(!s&&a==="OUTPUT"){e.visitedElements.add(t);const x=t.labels||[];return x.length?getAccessibleNameFromAssociatedLabels(x,e):t.getAttribute("title")||""}if(!s&&(a==="TEXTAREA"||a==="SELECT"||a==="INPUT")){e.visitedElements.add(t);const x=t.labels||[];if(x.length)return getAccessibleNameFromAssociatedLabels(x,e);const v=a==="INPUT"&&["text","password","search","tel","email","url"].includes(t.type)||a==="TEXTAREA",T=t.getAttribute("placeholder")||"",S=t.getAttribute("title")||"";return!v||S?S:T}if(!s&&a==="FIELDSET"){e.visitedElements.add(t);for(let v=t.firstElementChild;v;v=v.nextElementSibling)if(elementSafeTagName(v)==="LEGEND")return getTextAlternativeInternal(v,{...n,embeddedInNativeTextAlternative:{element:v,hidden:isElementHiddenForAria(v)}});return t.getAttribute("title")||""}if(!s&&a==="FIGURE"){e.visitedElements.add(t);for(let v=t.firstElementChild;v;v=v.nextElementSibling)if(elementSafeTagName(v)==="FIGCAPTION")return getTextAlternativeInternal(v,{...n,embeddedInNativeTextAlternative:{element:v,hidden:isElementHiddenForAria(v)}});return t.getAttribute("title")||""}if(a==="IMG"){e.visitedElements.add(t);const x=t.getAttribute("alt")||"";return trimFlatString(x)?x:t.getAttribute("title")||""}if(a==="TABLE"){e.visitedElements.add(t);for(let v=t.firstElementChild;v;v=v.nextElementSibling)if(elementSafeTagName(v)==="CAPTION")return getTextAlternativeInternal(v,{...n,embeddedInNativeTextAlternative:{element:v,hidden:isElementHiddenForAria(v)}});const x=t.getAttribute("summary")||"";if(x)return x}if(a==="AREA"){e.visitedElements.add(t);const x=t.getAttribute("alt")||"";return trimFlatString(x)?x:t.getAttribute("title")||""}if(a==="SVG"||t.ownerSVGElement){e.visitedElements.add(t);for(let x=t.firstElementChild;x;x=x.nextElementSibling)if(elementSafeTagName(x)==="TITLE"&&x.ownerSVGElement)return getTextAlternativeInternal(x,{...n,embeddedInLabelledBy:{element:x,hidden:isElementHiddenForAria(x)}})}if(t.ownerSVGElement&&a==="A"){const x=t.getAttribute("xlink:title")||"";if(trimFlatString(x))return e.visitedElements.add(t),x}}const u=a==="SUMMARY"&&!["presentation","none"].includes(o);if(allowsNameFromContent(o,e.embeddedInTargetElement==="descendant")||u||e.embeddedInLabelledBy||e.embeddedInDescribedBy||e.embeddedInLabel||e.embeddedInNativeTextAlternative){e.visitedElements.add(t);const x=innerAccumulatedElementText(t,n);if(e.embeddedInTargetElement==="self"?trimFlatString(x):x)return x}if(!["presentation","none"].includes(o)||a==="IFRAME"){e.visitedElements.add(t);const x=t.getAttribute("title")||"";if(trimFlatString(x))return x}return e.visitedElements.add(t),""}function innerAccumulatedElementText(t,e){const n=[],s=(a,c)=>{var u;if(!(c&&a.assignedSlot))if(a.nodeType===1){const d=((u=getElementComputedStyle(a))==null?void 0:u.display)||"inline";let p=getTextAlternativeInternal(a,e);(d!=="inline"||a.nodeName==="BR")&&(p=" "+p+" "),n.push(p)}else a.nodeType===3&&n.push(a.textContent||"")};n.push(getCSSContent(t,"::before")||"");const o=getCSSContent(t);if(o!==void 0)n.push(o);else{const a=t.nodeName==="SLOT"?t.assignedNodes():[];if(a.length)for(const c of a)s(c,!1);else{for(let c=t.firstChild;c;c=c.nextSibling)s(c,!0);if(t.shadowRoot)for(let c=t.shadowRoot.firstChild;c;c=c.nextSibling)s(c,!0);for(const c of getIdRefs(t,t.getAttribute("aria-owns")))s(c,!0)}}return n.push(getCSSContent(t,"::after")||""),n.join("")}const kAriaSelectedRoles=["gridcell","option","row","tab","rowheader","columnheader","treeitem"];function getAriaSelected(t){return elementSafeTagName(t)==="OPTION"?t.selected:kAriaSelectedRoles.includes(getAriaRole(t)||"")?getAriaBoolean(t.getAttribute("aria-selected"))===!0:!1}const kAriaCheckedRoles=["checkbox","menuitemcheckbox","option","radio","switch","menuitemradio","treeitem"];function getAriaChecked(t){const e=getChecked(t,!0);return e==="error"?!1:e}function getCheckedAllowMixed(t){return getChecked(t,!0)}function getCheckedWithoutMixed(t){return getChecked(t,!1)}function getChecked(t,e){const n=elementSafeTagName(t);if(e&&n==="INPUT"&&t.indeterminate)return"mixed";if(n==="INPUT"&&["checkbox","radio"].includes(t.type))return t.checked;if(kAriaCheckedRoles.includes(getAriaRole(t)||"")){const s=t.getAttribute("aria-checked");return s==="true"?!0:e&&s==="mixed"?"mixed":!1}return"error"}const kAriaReadonlyRoles=["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox","columnheader","rowheader","searchbox","switch","treegrid"];function getReadonly(t){const e=elementSafeTagName(t);return["INPUT","TEXTAREA","SELECT"].includes(e)?t.hasAttribute("readonly"):kAriaReadonlyRoles.includes(getAriaRole(t)||"")?t.getAttribute("aria-readonly")==="true":t.isContentEditable?!1:"error"}const kAriaPressedRoles=["button"];function getAriaPressed(t){if(kAriaPressedRoles.includes(getAriaRole(t)||"")){const e=t.getAttribute("aria-pressed");if(e==="true")return!0;if(e==="mixed")return"mixed"}return!1}const kAriaExpandedRoles=["application","button","checkbox","combobox","gridcell","link","listbox","menuitem","row","rowheader","tab","treeitem","columnheader","menuitemcheckbox","menuitemradio","rowheader","switch"];function getAriaExpanded(t){if(elementSafeTagName(t)==="DETAILS")return t.open;if(kAriaExpandedRoles.includes(getAriaRole(t)||"")){const e=t.getAttribute("aria-expanded");return e===null?void 0:e==="true"}}const kAriaLevelRoles=["heading","listitem","row","treeitem"];function getAriaLevel(t){const e={H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}[elementSafeTagName(t)];if(e)return e;if(kAriaLevelRoles.includes(getAriaRole(t)||"")){const n=t.getAttribute("aria-level"),s=n===null?Number.NaN:Number(n);if(Number.isInteger(s)&&s>=1)return s}return 0}const kAriaDisabledRoles=["application","button","composite","gridcell","group","input","link","menuitem","scrollbar","separator","tab","checkbox","columnheader","combobox","grid","listbox","menu","menubar","menuitemcheckbox","menuitemradio","option","radio","radiogroup","row","rowheader","searchbox","select","slider","spinbutton","switch","tablist","textbox","toolbar","tree","treegrid","treeitem"];function getAriaDisabled(t){return isNativelyDisabled(t)||hasExplicitAriaDisabled(t)}function isNativelyDisabled(t){return["BUTTON","INPUT","SELECT","TEXTAREA","OPTION","OPTGROUP"].includes(t.tagName)&&(t.hasAttribute("disabled")||belongsToDisabledFieldSet(t))}function belongsToDisabledFieldSet(t){const e=t==null?void 0:t.closest("FIELDSET[DISABLED]");if(!e)return!1;const n=e.querySelector(":scope > LEGEND");return!n||!n.contains(t)}function hasExplicitAriaDisabled(t,e=!1){if(!t)return!1;if(e||kAriaDisabledRoles.includes(getAriaRole(t)||"")){const n=(t.getAttribute("aria-disabled")||"").toLowerCase();return n==="true"?!0:n==="false"?!1:hasExplicitAriaDisabled(parentElementOrShadowHost(t),!0)}return!1}function getAccessibleNameFromAssociatedLabels(t,e){return[...t].map(n=>getTextAlternativeInternal(n,{...e,embeddedInLabel:{element:n,hidden:isElementHiddenForAria(n)},embeddedInNativeTextAlternative:void 0,embeddedInLabelledBy:void 0,embeddedInDescribedBy:void 0,embeddedInTargetElement:void 0})).filter(n=>!!n).join(" ")}function receivesPointerEvents$1(t){const e=cachePointerEvents;let n=t,s;const o=[];for(;n;n=parentElementOrShadowHost(n)){const a=e.get(n);if(a!==void 0){s=a;break}o.push(n);const c=getElementComputedStyle(n);if(!c){s=!0;break}const u=c.pointerEvents;if(u){s=u!=="none";break}}s===void 0&&(s=!0);for(const a of o)e.set(a,s);return s}let cacheAccessibleName,cacheAccessibleNameHidden,cacheAccessibleDescription,cacheAccessibleDescriptionHidden,cacheAccessibleErrorMessage,cacheIsHidden,cachePseudoContent,cachePseudoContentBefore,cachePseudoContentAfter,cachePointerEvents,cachesCounter=0;function beginAriaCaches(){++cachesCounter,cacheAccessibleName??(cacheAccessibleName=new Map),cacheAccessibleNameHidden??(cacheAccessibleNameHidden=new Map),cacheAccessibleDescription??(cacheAccessibleDescription=new Map),cacheAccessibleDescriptionHidden??(cacheAccessibleDescriptionHidden=new Map),cacheAccessibleErrorMessage??(cacheAccessibleErrorMessage=new Map),cacheIsHidden??(cacheIsHidden=new Map),cachePseudoContent??(cachePseudoContent=new Map),cachePseudoContentBefore??(cachePseudoContentBefore=new Map),cachePseudoContentAfter??(cachePseudoContentAfter=new Map),cachePointerEvents??(cachePointerEvents=new Map)}function endAriaCaches(){--cachesCounter||(cacheAccessibleName=void 0,cacheAccessibleNameHidden=void 0,cacheAccessibleDescription=void 0,cacheAccessibleDescriptionHidden=void 0,cacheAccessibleErrorMessage=void 0,cacheIsHidden=void 0,cachePseudoContent=void 0,cachePseudoContentBefore=void 0,cachePseudoContentAfter=void 0,cachePointerEvents=void 0)}const inputTypeToRole={button:"button",checkbox:"checkbox",image:"button",number:"spinbutton",radio:"radio",range:"slider",reset:"button",submit:"button"};function yamlEscapeKeyIfNeeded(t){return yamlStringNeedsQuotes(t)?"'"+t.replace(/'/g,"''")+"'":t}function yamlEscapeValueIfNeeded(t){return yamlStringNeedsQuotes(t)?'"'+t.replace(/[\\"\x00-\x1f\x7f-\x9f]/g,e=>{switch(e){case"\\":return"\\\\";case'"':return'\\"';case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";default:return"\\x"+e.charCodeAt(0).toString(16).padStart(2,"0")}})+'"':t}function yamlStringNeedsQuotes(t){return!!(t.length===0||/^\s|\s$/.test(t)||/[\x00-\x08\x0b\x0c\x0e-\x1f\x7f-\x9f]/.test(t)||/^-/.test(t)||/[\n:](\s|$)/.test(t)||/\s#/.test(t)||/[\n\r]/.test(t)||/^[&*\],?!>|@"'#%]/.test(t)||/[{}`]/.test(t)||/^\[/.test(t)||!isNaN(Number(t))||["y","n","yes","no","true","false","on","off","null"].includes(t.toLowerCase()))}let lastRef=0;function generateAriaTree(t,e){const n=new Set,s={root:{role:"fragment",name:"",children:[],element:t,props:{},box:box(t),receivesPointerEvents:!0},elements:new Map},o=(c,u)=>{if(n.has(u))return;if(n.add(u),u.nodeType===Node.TEXT_NODE&&u.nodeValue){const x=u.nodeValue;c.role!=="textbox"&&x&&c.children.push(u.nodeValue||"");return}if(u.nodeType!==Node.ELEMENT_NODE)return;const d=u;let p=!isElementHiddenForAria(d);if(e!=null&&e.forAI&&(p=p||isElementVisible(d)),!p)return;const g=[];if(d.hasAttribute("aria-owns")){const x=d.getAttribute("aria-owns").split(/\s+/);for(const v of x){const T=t.ownerDocument.getElementById(v);T&&g.push(T)}}const y=toAriaNode(d,e);y&&(y.ref&&s.elements.set(y.ref,d),c.children.push(y)),a(y||c,d,g)};function a(c,u,d=[]){var x;const g=(((x=getElementComputedStyle(u))==null?void 0:x.display)||"inline")!=="inline"||u.nodeName==="BR"?" ":"";g&&c.children.push(g),c.children.push(getCSSContent(u,"::before")||"");const y=u.nodeName==="SLOT"?u.assignedNodes():[];if(y.length)for(const v of y)o(c,v);else{for(let v=u.firstChild;v;v=v.nextSibling)v.assignedSlot||o(c,v);if(u.shadowRoot)for(let v=u.shadowRoot.firstChild;v;v=v.nextSibling)o(c,v)}for(const v of d)o(c,v);if(c.children.push(getCSSContent(u,"::after")||""),g&&c.children.push(g),c.children.length===1&&c.name===c.children[0]&&(c.children=[]),c.role==="link"&&u.hasAttribute("href")){const v=u.getAttribute("href");c.props.url=v}}beginAriaCaches();try{o(s.root,t)}finally{endAriaCaches()}return normalizeStringChildren(s.root),normalizeGenericRoles(s.root),s}function ariaRef(t,e,n,s){if(!(s!=null&&s.forAI))return;let o;return o=t._ariaRef,(!o||o.role!==e||o.name!==n)&&(o={role:e,name:n,ref:((s==null?void 0:s.refPrefix)??"")+"e"+ ++lastRef},t._ariaRef=o),o.ref}function toAriaNode(t,e){if(t.nodeName==="IFRAME")return{role:"iframe",name:"",ref:ariaRef(t,"iframe","",e),children:[],props:{},element:t,box:box(t),receivesPointerEvents:!0};const n=e!=null&&e.forAI?"generic":null,s=getAriaRole(t)??n;if(!s||s==="presentation"||s==="none")return null;const o=normalizeWhiteSpace(getElementAccessibleName(t,!1)||""),a=receivesPointerEvents$1(t),c={role:s,name:o,ref:ariaRef(t,s,o,e),children:[],props:{},element:t,box:box(t),receivesPointerEvents:a};return kAriaCheckedRoles.includes(s)&&(c.checked=getAriaChecked(t)),kAriaDisabledRoles.includes(s)&&(c.disabled=getAriaDisabled(t)),kAriaExpandedRoles.includes(s)&&(c.expanded=getAriaExpanded(t)),kAriaLevelRoles.includes(s)&&(c.level=getAriaLevel(t)),kAriaPressedRoles.includes(s)&&(c.pressed=getAriaPressed(t)),kAriaSelectedRoles.includes(s)&&(c.selected=getAriaSelected(t)),(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&t.type!=="checkbox"&&t.type!=="radio"&&(t.type!=="file"||getGlobalOptions().inputFileRoleTextbox)&&(c.children=[t.value]),c}function normalizeGenericRoles(t){const e=n=>{const s=[];for(const a of n.children||[]){if(typeof a=="string"){s.push(a);continue}const c=e(a);s.push(...c)}return n.role==="generic"&&s.length<=1&&s.every(a=>typeof a!="string"&&receivesPointerEvents(a))?s:(n.children=s,[n])};e(t)}function normalizeStringChildren(t){const e=(s,o)=>{if(!s.length)return;const a=normalizeWhiteSpace(s.join(""));a&&o.push(a),s.length=0},n=s=>{const o=[],a=[];for(const c of s.children||[])typeof c=="string"?a.push(c):(e(a,o),n(c),o.push(c));e(a,o),s.children=o.length?o:[],s.children.length===1&&s.children[0]===s.name&&(s.children=[])};n(t)}function matchesText(t,e){return e?t?typeof e=="string"?t===e:!!t.match(new RegExp(e.pattern)):!1:!0}function matchesTextNode(t,e){return matchesText(t,e.text)}function matchesName(t,e){return matchesText(t,e.name)}function matchesAriaTree(t,e){const n=generateAriaTree(t);return{matches:matchesNodeDeep(n.root,e,!1,!1),received:{raw:renderAriaTree(n,{mode:"raw"}),regex:renderAriaTree(n,{mode:"regex"})}}}function getAllByAria(t,e){const n=generateAriaTree(t).root;return matchesNodeDeep(n,e,!0,!1).map(o=>o.element)}function matchesNode(t,e,n){var s;return typeof t=="string"&&e.kind==="text"?matchesTextNode(t,e):t===null||typeof t!="object"||e.kind!=="role"||e.role!=="fragment"&&e.role!==t.role||e.checked!==void 0&&e.checked!==t.checked||e.disabled!==void 0&&e.disabled!==t.disabled||e.expanded!==void 0&&e.expanded!==t.expanded||e.level!==void 0&&e.level!==t.level||e.pressed!==void 0&&e.pressed!==t.pressed||e.selected!==void 0&&e.selected!==t.selected||!matchesName(t.name,e)||!matchesText(t.props.url,(s=e.props)==null?void 0:s.url)?!1:e.containerMode==="contain"?containsList(t.children||[],e.children||[]):e.containerMode==="equal"?listEqual(t.children||[],e.children||[],!1):e.containerMode==="deep-equal"||n?listEqual(t.children||[],e.children||[],!0):containsList(t.children||[],e.children||[])}function listEqual(t,e,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;++s)if(!matchesNode(t[s],e[s],n))return!1;return!0}function containsList(t,e){if(e.length>t.length)return!1;const n=t.slice(),s=e.slice();for(const o of s){let a=n.shift();for(;a&&!matchesNode(a,o,!1);)a=n.shift();if(!a)return!1}return!0}function matchesNodeDeep(t,e,n,s){const o=[],a=(c,u)=>{if(matchesNode(c,e,s)){const d=typeof c=="string"?u:c;return d&&o.push(d),!n}if(typeof c=="string")return!1;for(const d of c.children||[])if(a(d,c))return!0;return!1};return a(t,null),o}function renderAriaTree(t,e){const n=[],s=(e==null?void 0:e.mode)==="regex"?textContributesInfo:()=>!0,o=(e==null?void 0:e.mode)==="regex"?convertToBestGuessRegex:u=>u,a=(u,d,p)=>{if(typeof u=="string"){if(d&&!s(d,u))return;const v=yamlEscapeValueIfNeeded(o(u));v&&n.push(p+"- text: "+v);return}let g=u.role;if(u.name&&u.name.length<=900){const v=o(u.name);if(v){const T=v.startsWith("/")&&v.endsWith("/")?v:JSON.stringify(v);g+=" "+T}}if(u.checked==="mixed"&&(g+=" [checked=mixed]"),u.checked===!0&&(g+=" [checked]"),u.disabled&&(g+=" [disabled]"),u.expanded&&(g+=" [expanded]"),u.level&&(g+=` [level=${u.level}]`),u.pressed==="mixed"&&(g+=" [pressed=mixed]"),u.pressed===!0&&(g+=" [pressed]"),u.selected===!0&&(g+=" [selected]"),e!=null&&e.forAI&&receivesPointerEvents(u)){const v=u.ref,T=hasPointerCursor(u)?" [cursor=pointer]":"";v&&(g+=` [ref=${v}]${T}`)}const y=p+"- "+yamlEscapeKeyIfNeeded(g),x=!!Object.keys(u.props).length;if(!u.children.length&&!x)n.push(y);else if(u.children.length===1&&typeof u.children[0]=="string"&&!x){const v=s(u,u.children[0])?o(u.children[0]):null;v?n.push(y+": "+yamlEscapeValueIfNeeded(v)):n.push(y)}else{n.push(y+":");for(const[v,T]of Object.entries(u.props))n.push(p+"  - /"+v+": "+yamlEscapeValueIfNeeded(T));for(const v of u.children||[])a(v,u,p+"  ")}},c=t.root;if(c.role==="fragment")for(const u of c.children||[])a(u,c,"");else a(c,null,"");return n.join(`
`)}function convertToBestGuessRegex(t){const e=[{regex:/\b[\d,.]+[bkmBKM]+\b/,replacement:"[\\d,.]+[bkmBKM]+"},{regex:/\b\d+[hmsp]+\b/,replacement:"\\d+[hmsp]+"},{regex:/\b[\d,.]+[hmsp]+\b/,replacement:"[\\d,.]+[hmsp]+"},{regex:/\b\d+,\d+\b/,replacement:"\\d+,\\d+"},{regex:/\b\d+\.\d{2,}\b/,replacement:"\\d+\\.\\d+"},{regex:/\b\d{2,}\.\d+\b/,replacement:"\\d+\\.\\d+"},{regex:/\b\d{2,}\b/,replacement:"\\d+"}];let n="",s=0;const o=new RegExp(e.map(a=>"("+a.regex.source+")").join("|"),"g");return t.replace(o,(a,...c)=>{const u=c[c.length-2],d=c.slice(0,-2);n+=escapeRegExp(t.slice(s,u));for(let p=0;p<d.length;p++)if(d[p]){const{replacement:g}=e[p];n+=g;break}return s=u+a.length,a}),n?(n+=escapeRegExp(t.slice(s)),String(new RegExp(n))):t}function textContributesInfo(t,e){if(!e.length)return!1;if(!t.name)return!0;if(t.name.length>e.length)return!1;const n=e.length<=200&&t.name.length<=200?longestCommonSubstring(e,t.name):"";let s=e;for(;n&&s.includes(n);)s=s.replace(n,"");return s.trim().length/e.length>.1}function receivesPointerEvents(t){return t.box.visible&&t.receivesPointerEvents}function hasPointerCursor(t){var e;return((e=t.box.style)==null?void 0:e.cursor)==="pointer"}const highlightCSS=":host{font-size:13px;font-family:system-ui,Ubuntu,Droid Sans,sans-serif;color:#333}svg{position:absolute;height:0}x-pw-tooltip{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:#fff;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:none;font-size:12.8px;font-weight:400;left:0;line-height:1.5;max-width:600px;position:absolute;top:0;padding:0;flex-direction:column;overflow:hidden}x-pw-tooltip-line{display:flex;max-width:600px;padding:6px;-webkit-user-select:none;user-select:none;cursor:pointer}x-pw-tooltip-line.selectable:hover{background-color:#f2f2f2;overflow:hidden}x-pw-tooltip-footer{display:flex;max-width:600px;padding:6px;-webkit-user-select:none;user-select:none;color:#777}x-pw-dialog{background-color:#fff;pointer-events:auto;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:flex;flex-direction:column;position:absolute;width:400px;height:150px;z-index:10;font-size:13px}x-pw-dialog-body{display:flex;flex-direction:column;flex:auto}x-pw-dialog-body label{margin:5px 8px;display:flex;flex-direction:row;align-items:center}x-pw-highlight{position:absolute;top:0;left:0;width:0;height:0}x-pw-action-point{position:absolute;width:20px;height:20px;background:red;border-radius:10px;margin:-10px 0 0 -10px;z-index:2}x-pw-separator{height:1px;margin:6px 9px;background:#949494e5}x-pw-tool-gripper{height:28px;width:24px;margin:2px 0;cursor:grab}x-pw-tool-gripper:active{cursor:grabbing}x-pw-tool-gripper>x-div{width:16px;height:16px;margin:6px 4px;clip-path:url(#icon-gripper);background-color:#555}x-pw-tools-list>label{display:flex;align-items:center;margin:0 10px;-webkit-user-select:none;user-select:none}x-pw-tools-list{display:flex;width:100%;border-bottom:1px solid #dddddd}x-pw-tool-item{pointer-events:auto;height:28px;width:28px;border-radius:3px}x-pw-tool-item:not(.disabled){cursor:pointer}x-pw-tool-item:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.toggled{background-color:#8acae480}x-pw-tool-item.toggled:not(.disabled):hover{background-color:#8acae4c4}x-pw-tool-item>x-div{width:16px;height:16px;margin:6px;background-color:#3a3a3a}x-pw-tool-item.disabled>x-div{background-color:#61616180;cursor:default}x-pw-tool-item.record.toggled{background-color:transparent}x-pw-tool-item.record.toggled:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.record.toggled>x-div{background-color:#a1260d}x-pw-tool-item.record.disabled.toggled>x-div{opacity:.8}x-pw-tool-item.accept>x-div{background-color:#388a34}x-pw-tool-item.record>x-div{clip-path:url(#icon-circle-large-filled)}x-pw-tool-item.pick-locator>x-div{clip-path:url(#icon-inspect)}x-pw-tool-item.text>x-div{clip-path:url(#icon-whole-word)}x-pw-tool-item.visibility>x-div{clip-path:url(#icon-eye)}x-pw-tool-item.value>x-div{clip-path:url(#icon-symbol-constant)}x-pw-tool-item.snapshot>x-div{clip-path:url(#icon-gist)}x-pw-tool-item.accept>x-div{clip-path:url(#icon-check)}x-pw-tool-item.cancel>x-div{clip-path:url(#icon-close)}x-pw-tool-item.succeeded>x-div{clip-path:url(#icon-pass);background-color:#388a34!important}x-pw-overlay{position:absolute;top:0;max-width:min-content;z-index:2147483647;background:transparent;pointer-events:auto}x-pw-overlay x-pw-tools-list{background-color:#fffd;box-shadow:#0000001a 0 5px 5px;border-radius:3px;border-bottom:none}x-pw-overlay x-pw-tool-item{margin:2px}textarea.text-editor{font-family:system-ui,Ubuntu,Droid Sans,sans-serif;flex:auto;border:none;margin:6px 10px;color:#333;outline:1px solid transparent!important;resize:none;padding:0;font-size:13px}textarea.text-editor.does-not-match{outline:1px solid red!important}x-div{display:block}x-spacer{flex:auto}*{box-sizing:border-box}*[hidden]{display:none!important}x-locator-editor{flex:none;width:100%;height:60px;padding:4px;border-bottom:1px solid #dddddd;outline:1px solid transparent}x-locator-editor.does-not-match{outline:1px solid red}.CodeMirror{width:100%!important;height:100%!important}";class Highlight{constructor(e){this._renderedEntries=[],this._language="javascript",this._injectedScript=e;const n=e.document;this._isUnderTest=e.isUnderTest,this._glassPaneElement=n.createElement("x-pw-glass"),this._glassPaneElement.style.position="fixed",this._glassPaneElement.style.top="0",this._glassPaneElement.style.right="0",this._glassPaneElement.style.bottom="0",this._glassPaneElement.style.left="0",this._glassPaneElement.style.zIndex="2147483646",this._glassPaneElement.style.pointerEvents="none",this._glassPaneElement.style.display="flex",this._glassPaneElement.style.backgroundColor="transparent";for(const s of["click","auxclick","dragstart","input","keydown","keyup","pointerdown","pointerup","mousedown","mouseup","mouseleave","focus","scroll"])this._glassPaneElement.addEventListener(s,o=>{o.stopPropagation(),o.stopImmediatePropagation()});if(this._actionPointElement=n.createElement("x-pw-action-point"),this._actionPointElement.setAttribute("hidden","true"),this._glassPaneShadow=this._glassPaneElement.attachShadow({mode:this._isUnderTest?"open":"closed"}),typeof this._glassPaneShadow.adoptedStyleSheets.push=="function"){const s=new this._injectedScript.window.CSSStyleSheet;s.replaceSync(highlightCSS),this._glassPaneShadow.adoptedStyleSheets.push(s)}else{const s=this._injectedScript.document.createElement("style");s.textContent=highlightCSS,this._glassPaneShadow.appendChild(s)}this._glassPaneShadow.appendChild(this._actionPointElement)}install(){this._injectedScript.document.documentElement&&!this._injectedScript.document.documentElement.contains(this._glassPaneElement)&&this._injectedScript.document.documentElement.appendChild(this._glassPaneElement)}setLanguage(e){this._language=e}runHighlightOnRaf(e){this._rafRequest&&cancelAnimationFrame(this._rafRequest);const n=this._injectedScript.querySelectorAll(e,this._injectedScript.document.documentElement),s=asLocator(this._language,stringifySelector(e)),o=n.length>1?"#f6b26b7f":"#6fa8dc7f";this.updateHighlight(n.map((a,c)=>{const u=n.length>1?` [${c+1} of ${n.length}]`:"";return{element:a,color:o,tooltipText:s+u}})),this._rafRequest=requestAnimationFrame(()=>this.runHighlightOnRaf(e))}uninstall(){this._rafRequest&&cancelAnimationFrame(this._rafRequest),this._glassPaneElement.remove()}showActionPoint(e,n){this._actionPointElement.style.top=n+"px",this._actionPointElement.style.left=e+"px",this._actionPointElement.hidden=!1}hideActionPoint(){this._actionPointElement.hidden=!0}clearHighlight(){var e,n;for(const s of this._renderedEntries)(e=s.highlightElement)==null||e.remove(),(n=s.tooltipElement)==null||n.remove();this._renderedEntries=[]}maskElements(e,n){this.updateHighlight(e.map(s=>({element:s,color:n})))}updateHighlight(e){if(!this._highlightIsUpToDate(e)){this.clearHighlight();for(const n of e){const s=this._createHighlightElement();this._glassPaneShadow.appendChild(s);let o;if(n.tooltipText){o=this._injectedScript.document.createElement("x-pw-tooltip"),this._glassPaneShadow.appendChild(o),o.style.top="0",o.style.left="0",o.style.display="flex";const a=this._injectedScript.document.createElement("x-pw-tooltip-line");a.textContent=n.tooltipText,o.appendChild(a)}this._renderedEntries.push({targetElement:n.element,color:n.color,tooltipElement:o,highlightElement:s})}for(const n of this._renderedEntries){if(n.box=n.targetElement.getBoundingClientRect(),!n.tooltipElement)continue;const{anchorLeft:s,anchorTop:o}=this.tooltipPosition(n.box,n.tooltipElement);n.tooltipTop=o,n.tooltipLeft=s}for(const n of this._renderedEntries){n.tooltipElement&&(n.tooltipElement.style.top=n.tooltipTop+"px",n.tooltipElement.style.left=n.tooltipLeft+"px");const s=n.box;n.highlightElement.style.backgroundColor=n.color,n.highlightElement.style.left=s.x+"px",n.highlightElement.style.top=s.y+"px",n.highlightElement.style.width=s.width+"px",n.highlightElement.style.height=s.height+"px",n.highlightElement.style.display="block",this._isUnderTest&&console.error("Highlight box for test: "+JSON.stringify({x:s.x,y:s.y,width:s.width,height:s.height}))}}}firstBox(){var e;return(e=this._renderedEntries[0])==null?void 0:e.box}tooltipPosition(e,n){const s=n.offsetWidth,o=n.offsetHeight,a=this._glassPaneElement.offsetWidth,c=this._glassPaneElement.offsetHeight;let u=e.left;u+s>a-5&&(u=a-s-5);let d=e.bottom+5;return d+o>c-5&&(e.top>o+5?d=e.top-o-5:d=c-5-o),{anchorLeft:u,anchorTop:d}}_highlightIsUpToDate(e){if(e.length!==this._renderedEntries.length)return!1;for(let n=0;n<this._renderedEntries.length;++n){if(e[n].element!==this._renderedEntries[n].targetElement||e[n].color!==this._renderedEntries[n].color)return!1;const s=this._renderedEntries[n].box;if(!s)return!1;const o=e[n].element.getBoundingClientRect();if(o.top!==s.top||o.right!==s.right||o.bottom!==s.bottom||o.left!==s.left)return!1}return!0}_createHighlightElement(){return this._injectedScript.document.createElement("x-pw-highlight")}appendChild(e){this._glassPaneShadow.appendChild(e)}}function boxRightOf(t,e,n){const s=t.left-e.right;if(!(s<0||n!==void 0&&s>n))return s+Math.max(e.bottom-t.bottom,0)+Math.max(t.top-e.top,0)}function boxLeftOf(t,e,n){const s=e.left-t.right;if(!(s<0||n!==void 0&&s>n))return s+Math.max(e.bottom-t.bottom,0)+Math.max(t.top-e.top,0)}function boxAbove(t,e,n){const s=e.top-t.bottom;if(!(s<0||n!==void 0&&s>n))return s+Math.max(t.left-e.left,0)+Math.max(e.right-t.right,0)}function boxBelow(t,e,n){const s=t.top-e.bottom;if(!(s<0||n!==void 0&&s>n))return s+Math.max(t.left-e.left,0)+Math.max(e.right-t.right,0)}function boxNear(t,e,n){const s=n===void 0?50:n;let o=0;return t.left-e.right>=0&&(o+=t.left-e.right),e.left-t.right>=0&&(o+=e.left-t.right),e.top-t.bottom>=0&&(o+=e.top-t.bottom),t.top-e.bottom>=0&&(o+=t.top-e.bottom),o>s?void 0:o}const kLayoutSelectorNames=["left-of","right-of","above","below","near"];function layoutSelectorScore(t,e,n,s){const o=e.getBoundingClientRect(),a={"left-of":boxLeftOf,"right-of":boxRightOf,above:boxAbove,below:boxBelow,near:boxNear}[t];let c;for(const u of n){if(u===e)continue;const d=a(o,u.getBoundingClientRect(),s);d!==void 0&&(c===void 0||d<c)&&(c=d)}return c}function matchesComponentAttribute(t,e){for(const n of e.jsonPath)t!=null&&(t=t[n]);return matchesAttributePart(t,e)}function matchesAttributePart(t,e){const n=typeof t=="string"&&!e.caseSensitive?t.toUpperCase():t,s=typeof e.value=="string"&&!e.caseSensitive?e.value.toUpperCase():e.value;return e.op==="<truthy>"?!!n:e.op==="="?s instanceof RegExp?typeof n=="string"&&!!n.match(s):n===s:typeof n!="string"||typeof s!="string"?!1:e.op==="*="?n.includes(s):e.op==="^="?n.startsWith(s):e.op==="$="?n.endsWith(s):e.op==="|="?n===s||n.startsWith(s+"-"):e.op==="~="?n.split(" ").includes(s):!1}function shouldSkipForTextMatching(t){const e=t.ownerDocument;return t.nodeName==="SCRIPT"||t.nodeName==="NOSCRIPT"||t.nodeName==="STYLE"||e.head&&e.head.contains(t)}function elementText(t,e){let n=t.get(e);if(n===void 0){if(n={full:"",normalized:"",immediate:[]},!shouldSkipForTextMatching(e)){let s="";if(e instanceof HTMLInputElement&&(e.type==="submit"||e.type==="button"))n={full:e.value,normalized:normalizeWhiteSpace(e.value),immediate:[e.value]};else{for(let o=e.firstChild;o;o=o.nextSibling)if(o.nodeType===Node.TEXT_NODE)n.full+=o.nodeValue||"",s+=o.nodeValue||"";else{if(o.nodeType===Node.COMMENT_NODE)continue;s&&n.immediate.push(s),s="",o.nodeType===Node.ELEMENT_NODE&&(n.full+=elementText(t,o).full)}s&&n.immediate.push(s),e.shadowRoot&&(n.full+=elementText(t,e.shadowRoot).full),n.full&&(n.normalized=normalizeWhiteSpace(n.full))}}t.set(e,n)}return n}function elementMatchesText(t,e,n){if(shouldSkipForTextMatching(e)||!n(elementText(t,e)))return"none";for(let s=e.firstChild;s;s=s.nextSibling)if(s.nodeType===Node.ELEMENT_NODE&&n(elementText(t,s)))return"selfAndChildren";return e.shadowRoot&&n(elementText(t,e.shadowRoot))?"selfAndChildren":"self"}function getElementLabels(t,e){const n=getAriaLabelledByElements(e);if(n)return n.map(a=>elementText(t,a));const s=e.getAttribute("aria-label");if(s!==null&&s.trim())return[{full:s,normalized:normalizeWhiteSpace(s),immediate:[s]}];const o=e.nodeName==="INPUT"&&e.type!=="hidden";if(["BUTTON","METER","OUTPUT","PROGRESS","SELECT","TEXTAREA"].includes(e.nodeName)||o){const a=e.labels;if(a)return[...a].map(c=>elementText(t,c))}return[]}function getFunctionComponentName(t){return t.displayName||t.name||"Anonymous"}function getComponentName(t){if(t.type)switch(typeof t.type){case"function":return getFunctionComponentName(t.type);case"string":return t.type;case"object":return t.type.displayName||(t.type.render?getFunctionComponentName(t.type.render):"")}if(t._currentElement){const e=t._currentElement.type;if(typeof e=="string")return e;if(typeof e=="function")return e.displayName||e.name||"Anonymous"}return""}function getComponentKey(t){var e;return t.key??((e=t._currentElement)==null?void 0:e.key)}function getChildren(t){if(t.child){const n=[];for(let s=t.child;s;s=s.sibling)n.push(s);return n}if(!t._currentElement)return[];const e=n=>{var o;const s=(o=n._currentElement)==null?void 0:o.type;return typeof s=="function"||typeof s=="string"};if(t._renderedComponent){const n=t._renderedComponent;return e(n)?[n]:[]}return t._renderedChildren?[...Object.values(t._renderedChildren)].filter(e):[]}function getProps(t){var s;const e=t.memoizedProps||((s=t._currentElement)==null?void 0:s.props);if(!e||typeof e=="string")return e;const n={...e};return delete n.children,n}function buildComponentsTree(t){var s;const e={key:getComponentKey(t),name:getComponentName(t),children:getChildren(t).map(buildComponentsTree),rootElements:[],props:getProps(t)},n=t.stateNode||t._hostNode||((s=t._renderedComponent)==null?void 0:s._hostNode);if(n instanceof Element)e.rootElements.push(n);else for(const o of e.children)e.rootElements.push(...o.rootElements);return e}function filterComponentsTree$1(t,e,n=[]){e(t)&&n.push(t);for(const s of t.children)filterComponentsTree$1(s,e,n);return n}function findReactRoots(t,e=[]){const s=(t.ownerDocument||t).createTreeWalker(t,NodeFilter.SHOW_ELEMENT);do{const o=s.currentNode,a=o,c=Object.keys(a).find(d=>d.startsWith("__reactContainer")&&a[d]!==null);if(c)e.push(a[c].stateNode.current);else{const d="_reactRootContainer";a.hasOwnProperty(d)&&a[d]!==null&&e.push(a[d]._internalRoot.current)}if(o instanceof Element&&o.hasAttribute("data-reactroot"))for(const d of Object.keys(o))(d.startsWith("__reactInternalInstance")||d.startsWith("__reactFiber"))&&e.push(o[d]);const u=o instanceof Element?o.shadowRoot:null;u&&findReactRoots(u,e)}while(s.nextNode());return e}const createReactEngine=()=>({queryAll(t,e){const{name:n,attributes:s}=parseAttributeSelector(e,!1),c=findReactRoots(t.ownerDocument||t).map(d=>buildComponentsTree(d)).map(d=>filterComponentsTree$1(d,p=>{const g=p.props??{};if(p.key!==void 0&&(g.key=p.key),n&&p.name!==n||p.rootElements.some(y=>!isInsideScope(t,y)))return!1;for(const y of s)if(!matchesComponentAttribute(g,y))return!1;return!0})).flat(),u=new Set;for(const d of c)for(const p of d.rootElements)u.add(p);return[...u]}}),kSupportedAttributes=["selected","checked","pressed","expanded","level","disabled","name","include-hidden"];kSupportedAttributes.sort();function validateSupportedRole(t,e,n){if(!e.includes(n))throw new Error(`"${t}" attribute is only supported for roles: ${e.slice().sort().map(s=>`"${s}"`).join(", ")}`)}function validateSupportedValues(t,e){if(t.op!=="<truthy>"&&!e.includes(t.value))throw new Error(`"${t.name}" must be one of ${e.map(n=>JSON.stringify(n)).join(", ")}`)}function validateSupportedOp(t,e){if(!e.includes(t.op))throw new Error(`"${t.name}" does not support "${t.op}" matcher`)}function validateAttributes(t,e){const n={role:e};for(const s of t)switch(s.name){case"checked":{validateSupportedRole(s.name,kAriaCheckedRoles,e),validateSupportedValues(s,[!0,!1,"mixed"]),validateSupportedOp(s,["<truthy>","="]),n.checked=s.op==="<truthy>"?!0:s.value;break}case"pressed":{validateSupportedRole(s.name,kAriaPressedRoles,e),validateSupportedValues(s,[!0,!1,"mixed"]),validateSupportedOp(s,["<truthy>","="]),n.pressed=s.op==="<truthy>"?!0:s.value;break}case"selected":{validateSupportedRole(s.name,kAriaSelectedRoles,e),validateSupportedValues(s,[!0,!1]),validateSupportedOp(s,["<truthy>","="]),n.selected=s.op==="<truthy>"?!0:s.value;break}case"expanded":{validateSupportedRole(s.name,kAriaExpandedRoles,e),validateSupportedValues(s,[!0,!1]),validateSupportedOp(s,["<truthy>","="]),n.expanded=s.op==="<truthy>"?!0:s.value;break}case"level":{if(validateSupportedRole(s.name,kAriaLevelRoles,e),typeof s.value=="string"&&(s.value=+s.value),s.op!=="="||typeof s.value!="number"||Number.isNaN(s.value))throw new Error('"level" attribute must be compared to a number');n.level=s.value;break}case"disabled":{validateSupportedValues(s,[!0,!1]),validateSupportedOp(s,["<truthy>","="]),n.disabled=s.op==="<truthy>"?!0:s.value;break}case"name":{if(s.op==="<truthy>")throw new Error('"name" attribute must have a value');if(typeof s.value!="string"&&!(s.value instanceof RegExp))throw new Error('"name" attribute must be a string or a regular expression');n.name=s.value,n.nameOp=s.op,n.exact=s.caseSensitive;break}case"include-hidden":{validateSupportedValues(s,[!0,!1]),validateSupportedOp(s,["<truthy>","="]),n.includeHidden=s.op==="<truthy>"?!0:s.value;break}default:throw new Error(`Unknown attribute "${s.name}", must be one of ${kSupportedAttributes.map(o=>`"${o}"`).join(", ")}.`)}return n}function queryRole(t,e,n){const s=[],o=c=>{if(getAriaRole(c)===e.role&&!(e.selected!==void 0&&getAriaSelected(c)!==e.selected)&&!(e.checked!==void 0&&getAriaChecked(c)!==e.checked)&&!(e.pressed!==void 0&&getAriaPressed(c)!==e.pressed)&&!(e.expanded!==void 0&&getAriaExpanded(c)!==e.expanded)&&!(e.level!==void 0&&getAriaLevel(c)!==e.level)&&!(e.disabled!==void 0&&getAriaDisabled(c)!==e.disabled)&&!(!e.includeHidden&&isElementHiddenForAria(c))){if(e.name!==void 0){const u=normalizeWhiteSpace(getElementAccessibleName(c,!!e.includeHidden));if(typeof e.name=="string"&&(e.name=normalizeWhiteSpace(e.name)),n&&!e.exact&&e.nameOp==="="&&(e.nameOp="*="),!matchesAttributePart(u,{op:e.nameOp||"=",value:e.name,caseSensitive:!!e.exact}))return}s.push(c)}},a=c=>{const u=[];c.shadowRoot&&u.push(c.shadowRoot);for(const d of c.querySelectorAll("*"))o(d),d.shadowRoot&&u.push(d.shadowRoot);u.forEach(a)};return a(t),s}function createRoleEngine(t){return{queryAll:(e,n)=>{const s=parseAttributeSelector(n,!0),o=s.name.toLowerCase();if(!o)throw new Error("Role must not be empty");const a=validateAttributes(s.attributes,o);beginAriaCaches();try{return queryRole(e,a,t)}finally{endAriaCaches()}}}}class SelectorEvaluatorImpl{constructor(){this._retainCacheCounter=0,this._cacheText=new Map,this._cacheQueryCSS=new Map,this._cacheMatches=new Map,this._cacheQuery=new Map,this._cacheMatchesSimple=new Map,this._cacheMatchesParents=new Map,this._cacheCallMatches=new Map,this._cacheCallQuery=new Map,this._cacheQuerySimple=new Map,this._engines=new Map,this._engines.set("not",notEngine),this._engines.set("is",isEngine),this._engines.set("where",isEngine),this._engines.set("has",hasEngine),this._engines.set("scope",scopeEngine),this._engines.set("light",lightEngine),this._engines.set("visible",visibleEngine),this._engines.set("text",textEngine),this._engines.set("text-is",textIsEngine),this._engines.set("text-matches",textMatchesEngine),this._engines.set("has-text",hasTextEngine),this._engines.set("right-of",createLayoutEngine("right-of")),this._engines.set("left-of",createLayoutEngine("left-of")),this._engines.set("above",createLayoutEngine("above")),this._engines.set("below",createLayoutEngine("below")),this._engines.set("near",createLayoutEngine("near")),this._engines.set("nth-match",nthMatchEngine);const e=[...this._engines.keys()];e.sort();const n=[...customCSSNames];if(n.sort(),e.join("|")!==n.join("|"))throw new Error(`Please keep customCSSNames in sync with evaluator engines: ${e.join("|")} vs ${n.join("|")}`)}begin(){++this._retainCacheCounter}end(){--this._retainCacheCounter,this._retainCacheCounter||(this._cacheQueryCSS.clear(),this._cacheMatches.clear(),this._cacheQuery.clear(),this._cacheMatchesSimple.clear(),this._cacheMatchesParents.clear(),this._cacheCallMatches.clear(),this._cacheCallQuery.clear(),this._cacheQuerySimple.clear(),this._cacheText.clear())}_cached(e,n,s,o){e.has(n)||e.set(n,[]);const a=e.get(n),c=a.find(d=>s.every((p,g)=>d.rest[g]===p));if(c)return c.result;const u=o();return a.push({rest:s,result:u}),u}_checkSelector(e){if(!(typeof e=="object"&&e&&(Array.isArray(e)||"simples"in e&&e.simples.length)))throw new Error(`Malformed selector "${e}"`);return e}matches(e,n,s){const o=this._checkSelector(n);this.begin();try{return this._cached(this._cacheMatches,e,[o,s.scope,s.pierceShadow,s.originalScope],()=>Array.isArray(o)?this._matchesEngine(isEngine,e,o,s):(this._hasScopeClause(o)&&(s=this._expandContextForScopeMatching(s)),this._matchesSimple(e,o.simples[o.simples.length-1].selector,s)?this._matchesParents(e,o,o.simples.length-2,s):!1))}finally{this.end()}}query(e,n){const s=this._checkSelector(n);this.begin();try{return this._cached(this._cacheQuery,s,[e.scope,e.pierceShadow,e.originalScope],()=>{if(Array.isArray(s))return this._queryEngine(isEngine,e,s);this._hasScopeClause(s)&&(e=this._expandContextForScopeMatching(e));const o=this._scoreMap;this._scoreMap=new Map;let a=this._querySimple(e,s.simples[s.simples.length-1].selector);return a=a.filter(c=>this._matchesParents(c,s,s.simples.length-2,e)),this._scoreMap.size&&a.sort((c,u)=>{const d=this._scoreMap.get(c),p=this._scoreMap.get(u);return d===p?0:d===void 0?1:p===void 0?-1:d-p}),this._scoreMap=o,a})}finally{this.end()}}_markScore(e,n){this._scoreMap&&this._scoreMap.set(e,n)}_hasScopeClause(e){return e.simples.some(n=>n.selector.functions.some(s=>s.name==="scope"))}_expandContextForScopeMatching(e){if(e.scope.nodeType!==1)return e;const n=parentElementOrShadowHost(e.scope);return n?{...e,scope:n,originalScope:e.originalScope||e.scope}:e}_matchesSimple(e,n,s){return this._cached(this._cacheMatchesSimple,e,[n,s.scope,s.pierceShadow,s.originalScope],()=>{if(e===s.scope||n.css&&!this._matchesCSS(e,n.css))return!1;for(const o of n.functions)if(!this._matchesEngine(this._getEngine(o.name),e,o.args,s))return!1;return!0})}_querySimple(e,n){return n.functions.length?this._cached(this._cacheQuerySimple,n,[e.scope,e.pierceShadow,e.originalScope],()=>{let s=n.css;const o=n.functions;s==="*"&&o.length&&(s=void 0);let a,c=-1;s!==void 0?a=this._queryCSS(e,s):(c=o.findIndex(u=>this._getEngine(u.name).query!==void 0),c===-1&&(c=0),a=this._queryEngine(this._getEngine(o[c].name),e,o[c].args));for(let u=0;u<o.length;u++){if(u===c)continue;const d=this._getEngine(o[u].name);d.matches!==void 0&&(a=a.filter(p=>this._matchesEngine(d,p,o[u].args,e)))}for(let u=0;u<o.length;u++){if(u===c)continue;const d=this._getEngine(o[u].name);d.matches===void 0&&(a=a.filter(p=>this._matchesEngine(d,p,o[u].args,e)))}return a}):this._queryCSS(e,n.css||"*")}_matchesParents(e,n,s,o){return s<0?!0:this._cached(this._cacheMatchesParents,e,[n,s,o.scope,o.pierceShadow,o.originalScope],()=>{const{selector:a,combinator:c}=n.simples[s];if(c===">"){const u=parentElementOrShadowHostInContext(e,o);return!u||!this._matchesSimple(u,a,o)?!1:this._matchesParents(u,n,s-1,o)}if(c==="+"){const u=previousSiblingInContext(e,o);return!u||!this._matchesSimple(u,a,o)?!1:this._matchesParents(u,n,s-1,o)}if(c===""){let u=parentElementOrShadowHostInContext(e,o);for(;u;){if(this._matchesSimple(u,a,o)){if(this._matchesParents(u,n,s-1,o))return!0;if(n.simples[s-1].combinator==="")break}u=parentElementOrShadowHostInContext(u,o)}return!1}if(c==="~"){let u=previousSiblingInContext(e,o);for(;u;){if(this._matchesSimple(u,a,o)){if(this._matchesParents(u,n,s-1,o))return!0;if(n.simples[s-1].combinator==="~")break}u=previousSiblingInContext(u,o)}return!1}if(c===">="){let u=e;for(;u;){if(this._matchesSimple(u,a,o)){if(this._matchesParents(u,n,s-1,o))return!0;if(n.simples[s-1].combinator==="")break}u=parentElementOrShadowHostInContext(u,o)}return!1}throw new Error(`Unsupported combinator "${c}"`)})}_matchesEngine(e,n,s,o){if(e.matches)return this._callMatches(e,n,s,o);if(e.query)return this._callQuery(e,s,o).includes(n);throw new Error('Selector engine should implement "matches" or "query"')}_queryEngine(e,n,s){if(e.query)return this._callQuery(e,s,n);if(e.matches)return this._queryCSS(n,"*").filter(o=>this._callMatches(e,o,s,n));throw new Error('Selector engine should implement "matches" or "query"')}_callMatches(e,n,s,o){return this._cached(this._cacheCallMatches,n,[e,o.scope,o.pierceShadow,o.originalScope,...s],()=>e.matches(n,s,o,this))}_callQuery(e,n,s){return this._cached(this._cacheCallQuery,e,[s.scope,s.pierceShadow,s.originalScope,...n],()=>e.query(s,n,this))}_matchesCSS(e,n){return e.matches(n)}_queryCSS(e,n){return this._cached(this._cacheQueryCSS,n,[e.scope,e.pierceShadow,e.originalScope],()=>{let s=[];function o(a){if(s=s.concat([...a.querySelectorAll(n)]),!!e.pierceShadow){a.shadowRoot&&o(a.shadowRoot);for(const c of a.querySelectorAll("*"))c.shadowRoot&&o(c.shadowRoot)}}return o(e.scope),s})}_getEngine(e){const n=this._engines.get(e);if(!n)throw new Error(`Unknown selector engine "${e}"`);return n}}const isEngine={matches(t,e,n,s){if(e.length===0)throw new Error('"is" engine expects non-empty selector list');return e.some(o=>s.matches(t,o,n))},query(t,e,n){if(e.length===0)throw new Error('"is" engine expects non-empty selector list');let s=[];for(const o of e)s=s.concat(n.query(t,o));return e.length===1?s:sortInDOMOrder(s)}},hasEngine={matches(t,e,n,s){if(e.length===0)throw new Error('"has" engine expects non-empty selector list');return s.query({...n,scope:t},e).length>0}},scopeEngine={matches(t,e,n,s){if(e.length!==0)throw new Error('"scope" engine expects no arguments');const o=n.originalScope||n.scope;return o.nodeType===9?t===o.documentElement:t===o},query(t,e,n){if(e.length!==0)throw new Error('"scope" engine expects no arguments');const s=t.originalScope||t.scope;if(s.nodeType===9){const o=s.documentElement;return o?[o]:[]}return s.nodeType===1?[s]:[]}},notEngine={matches(t,e,n,s){if(e.length===0)throw new Error('"not" engine expects non-empty selector list');return!s.matches(t,e,n)}},lightEngine={query(t,e,n){return n.query({...t,pierceShadow:!1},e)},matches(t,e,n,s){return s.matches(t,e,{...n,pierceShadow:!1})}},visibleEngine={matches(t,e,n,s){if(e.length)throw new Error('"visible" engine expects no arguments');return isElementVisible(t)}},textEngine={matches(t,e,n,s){if(e.length!==1||typeof e[0]!="string")throw new Error('"text" engine expects a single string');const o=normalizeWhiteSpace(e[0]).toLowerCase(),a=c=>c.normalized.toLowerCase().includes(o);return elementMatchesText(s._cacheText,t,a)==="self"}},textIsEngine={matches(t,e,n,s){if(e.length!==1||typeof e[0]!="string")throw new Error('"text-is" engine expects a single string');const o=normalizeWhiteSpace(e[0]),a=c=>!o&&!c.immediate.length?!0:c.immediate.some(u=>normalizeWhiteSpace(u)===o);return elementMatchesText(s._cacheText,t,a)!=="none"}},textMatchesEngine={matches(t,e,n,s){if(e.length===0||typeof e[0]!="string"||e.length>2||e.length===2&&typeof e[1]!="string")throw new Error('"text-matches" engine expects a regexp body and optional regexp flags');const o=new RegExp(e[0],e.length===2?e[1]:void 0),a=c=>o.test(c.full);return elementMatchesText(s._cacheText,t,a)==="self"}},hasTextEngine={matches(t,e,n,s){if(e.length!==1||typeof e[0]!="string")throw new Error('"has-text" engine expects a single string');if(shouldSkipForTextMatching(t))return!1;const o=normalizeWhiteSpace(e[0]).toLowerCase();return(c=>c.normalized.toLowerCase().includes(o))(elementText(s._cacheText,t))}};function createLayoutEngine(t){return{matches(e,n,s,o){const a=n.length&&typeof n[n.length-1]=="number"?n[n.length-1]:void 0,c=a===void 0?n:n.slice(0,n.length-1);if(n.length<1+(a===void 0?0:1))throw new Error(`"${t}" engine expects a selector list and optional maximum distance in pixels`);const u=o.query(s,c),d=layoutSelectorScore(t,e,u,a);return d===void 0?!1:(o._markScore(e,d),!0)}}}const nthMatchEngine={query(t,e,n){let s=e[e.length-1];if(e.length<2)throw new Error('"nth-match" engine expects non-empty selector list and an index argument');if(typeof s!="number"||s<1)throw new Error('"nth-match" engine expects a one-based index as the last argument');const o=isEngine.query(t,e.slice(0,e.length-1),n);return s--,s<o.length?[o[s]]:[]}};function parentElementOrShadowHostInContext(t,e){if(t!==e.scope)return e.pierceShadow?parentElementOrShadowHost(t):t.parentElement||void 0}function previousSiblingInContext(t,e){if(t!==e.scope)return t.previousElementSibling||void 0}function sortInDOMOrder(t){const e=new Map,n=[],s=[];function o(c){let u=e.get(c);if(u)return u;const d=parentElementOrShadowHost(c);return d?o(d).children.push(c):n.push(c),u={children:[],taken:!1},e.set(c,u),u}for(const c of t)o(c).taken=!0;function a(c){const u=e.get(c);if(u.taken&&s.push(c),u.children.length>1){const d=new Set(u.children);u.children=[];let p=c.firstElementChild;for(;p&&u.children.length<d.size;)d.has(p)&&u.children.push(p),p=p.nextElementSibling;for(p=c.shadowRoot?c.shadowRoot.firstElementChild:null;p&&u.children.length<d.size;)d.has(p)&&u.children.push(p),p=p.nextElementSibling}u.children.forEach(a)}return n.forEach(a),s}const kTextScoreRange=10,kExactPenalty=kTextScoreRange/2,kTestIdScore=1,kOtherTestIdScore=2,kIframeByAttributeScore=10,kBeginPenalizedScore=50,kRoleWithNameScore=100,kPlaceholderScore=120,kLabelScore=140,kAltTextScore=160,kTextScore=180,kTitleScore=200,kTextScoreRegex=250,kPlaceholderScoreExact=kPlaceholderScore+kExactPenalty,kLabelScoreExact=kLabelScore+kExactPenalty,kRoleWithNameScoreExact=kRoleWithNameScore+kExactPenalty,kAltTextScoreExact=kAltTextScore+kExactPenalty,kTextScoreExact=kTextScore+kExactPenalty,kTitleScoreExact=kTitleScore+kExactPenalty,kEndPenalizedScore=300,kCSSIdScore=500,kRoleWithoutNameScore=510,kCSSInputTypeNameScore=520,kCSSTagNameScore=530,kNthScore=1e4,kCSSFallbackScore=1e7,kScoreThresholdForTextExpect=1e3;function generateSelector(t,e,n){t._evaluator.begin();const s={allowText:new Map,disallowText:new Map};beginAriaCaches();try{let o=[];if(n.forTextExpect){let u=cssFallback(t,e.ownerDocument.documentElement,n);for(let d=e;d;d=parentElementOrShadowHost(d)){const p=generateSelectorFor(s,t,d,{...n,noText:!0});if(!p)continue;if(combineScores(p)<=kScoreThresholdForTextExpect){u=p;break}}o=[joinTokens(u)]}else{if(!e.matches("input,textarea,select")&&!e.isContentEditable){const u=closestCrossShadow(e,"button,select,input,[role=button],[role=checkbox],[role=radio],a,[role=link]",n.root);u&&isElementVisible(u)&&(e=u)}if(n.multiple){const u=generateSelectorFor(s,t,e,n),d=generateSelectorFor(s,t,e,{...n,noText:!0});let p=[u,d];if(s.allowText.clear(),s.disallowText.clear(),u&&hasCSSIdToken(u)&&p.push(generateSelectorFor(s,t,e,{...n,noCSSId:!0})),d&&hasCSSIdToken(d)&&p.push(generateSelectorFor(s,t,e,{...n,noText:!0,noCSSId:!0})),p=p.filter(Boolean),!p.length){const g=cssFallback(t,e,n);p.push(g),hasCSSIdToken(g)&&p.push(cssFallback(t,e,{...n,noCSSId:!0}))}o=[...new Set(p.map(g=>joinTokens(g)))]}else{const u=generateSelectorFor(s,t,e,n)||cssFallback(t,e,n);o=[joinTokens(u)]}}const a=o[0],c=t.parseSelector(a);return{selector:a,selectors:o,elements:t.querySelectorAll(c,n.root??e.ownerDocument)}}finally{endAriaCaches(),t._evaluator.end()}}function filterRegexTokens(t){return t.filter(e=>e[0].selector[0]!=="/")}function generateSelectorFor(t,e,n,s){if(s.root&&!isInsideScope(s.root,n))throw new Error("Target element must belong to the root's subtree");if(n===s.root)return[{engine:"css",selector:":scope",score:1}];if(n.ownerDocument.documentElement===n)return[{engine:"css",selector:"html",score:1}];const o=(c,u)=>{const d=c===n;let p=u?buildTextCandidates(e,c,c===n):[];c!==n&&(p=filterRegexTokens(p));const g=buildNoTextCandidates(e,c,s).filter(v=>!s.omitInternalEngines||!v.engine.startsWith("internal:")).map(v=>[v]);let y=chooseFirstSelector(e,s.root??n.ownerDocument,c,[...p,...g],d);p=filterRegexTokens(p);const x=v=>{const T=u&&!v.length,S=[...v,...g].filter(C=>y?combineScores(C)<combineScores(y):!0);let E=S[0];if(E)for(let C=parentElementOrShadowHost(c);C&&C!==s.root;C=parentElementOrShadowHost(C)){const N=a(C,T);if(!N||y&&combineScores([...N,...E])>=combineScores(y))continue;if(E=chooseFirstSelector(e,C,c,S,d),!E)return;const M=[...N,...E];(!y||combineScores(M)<combineScores(y))&&(y=M)}};return x(p),c===n&&p.length&&x([]),y},a=(c,u)=>{const d=u?t.allowText:t.disallowText;let p=d.get(c);return p===void 0&&(p=o(c,u),d.set(c,p)),p};return o(n,!s.noText)}function buildNoTextCandidates(t,e,n){const s=[];{for(const c of["data-testid","data-test-id","data-test"])c!==n.testIdAttributeName&&e.getAttribute(c)&&s.push({engine:"css",selector:`[${c}=${quoteCSSAttributeValue(e.getAttribute(c))}]`,score:kOtherTestIdScore});if(!n.noCSSId){const c=e.getAttribute("id");c&&!isGuidLike(c)&&s.push({engine:"css",selector:makeSelectorForId(c),score:kCSSIdScore})}s.push({engine:"css",selector:cssEscape(e.nodeName.toLowerCase()),score:kCSSTagNameScore})}if(e.nodeName==="IFRAME"){for(const c of["name","title"])e.getAttribute(c)&&s.push({engine:"css",selector:`${cssEscape(e.nodeName.toLowerCase())}[${c}=${quoteCSSAttributeValue(e.getAttribute(c))}]`,score:kIframeByAttributeScore});return e.getAttribute(n.testIdAttributeName)&&s.push({engine:"css",selector:`[${n.testIdAttributeName}=${quoteCSSAttributeValue(e.getAttribute(n.testIdAttributeName))}]`,score:kTestIdScore}),penalizeScoreForLength([s]),s}if(e.getAttribute(n.testIdAttributeName)&&s.push({engine:"internal:testid",selector:`[${n.testIdAttributeName}=${escapeForAttributeSelector(e.getAttribute(n.testIdAttributeName),!0)}]`,score:kTestIdScore}),e.nodeName==="INPUT"||e.nodeName==="TEXTAREA"){const c=e;if(c.placeholder){s.push({engine:"internal:attr",selector:`[placeholder=${escapeForAttributeSelector(c.placeholder,!0)}]`,score:kPlaceholderScoreExact});for(const u of suitableTextAlternatives(c.placeholder))s.push({engine:"internal:attr",selector:`[placeholder=${escapeForAttributeSelector(u.text,!1)}]`,score:kPlaceholderScore-u.scoreBonus})}}const o=getElementLabels(t._evaluator._cacheText,e);for(const c of o){const u=c.normalized;s.push({engine:"internal:label",selector:escapeForTextSelector(u,!0),score:kLabelScoreExact});for(const d of suitableTextAlternatives(u))s.push({engine:"internal:label",selector:escapeForTextSelector(d.text,!1),score:kLabelScore-d.scoreBonus})}const a=getAriaRole(e);return a&&!["none","presentation"].includes(a)&&s.push({engine:"internal:role",selector:a,score:kRoleWithoutNameScore}),e.getAttribute("name")&&["BUTTON","FORM","FIELDSET","FRAME","IFRAME","INPUT","KEYGEN","OBJECT","OUTPUT","SELECT","TEXTAREA","MAP","META","PARAM"].includes(e.nodeName)&&s.push({engine:"css",selector:`${cssEscape(e.nodeName.toLowerCase())}[name=${quoteCSSAttributeValue(e.getAttribute("name"))}]`,score:kCSSInputTypeNameScore}),["INPUT","TEXTAREA"].includes(e.nodeName)&&e.getAttribute("type")!=="hidden"&&e.getAttribute("type")&&s.push({engine:"css",selector:`${cssEscape(e.nodeName.toLowerCase())}[type=${quoteCSSAttributeValue(e.getAttribute("type"))}]`,score:kCSSInputTypeNameScore}),["INPUT","TEXTAREA","SELECT"].includes(e.nodeName)&&e.getAttribute("type")!=="hidden"&&s.push({engine:"css",selector:cssEscape(e.nodeName.toLowerCase()),score:kCSSInputTypeNameScore+1}),penalizeScoreForLength([s]),s}function buildTextCandidates(t,e,n){if(e.nodeName==="SELECT")return[];const s=[],o=e.getAttribute("title");if(o){s.push([{engine:"internal:attr",selector:`[title=${escapeForAttributeSelector(o,!0)}]`,score:kTitleScoreExact}]);for(const p of suitableTextAlternatives(o))s.push([{engine:"internal:attr",selector:`[title=${escapeForAttributeSelector(p.text,!1)}]`,score:kTitleScore-p.scoreBonus}])}const a=e.getAttribute("alt");if(a&&["APPLET","AREA","IMG","INPUT"].includes(e.nodeName)){s.push([{engine:"internal:attr",selector:`[alt=${escapeForAttributeSelector(a,!0)}]`,score:kAltTextScoreExact}]);for(const p of suitableTextAlternatives(a))s.push([{engine:"internal:attr",selector:`[alt=${escapeForAttributeSelector(p.text,!1)}]`,score:kAltTextScore-p.scoreBonus}])}const c=elementText(t._evaluator._cacheText,e).normalized,u=c?suitableTextAlternatives(c):[];if(c){if(n){c.length<=80&&s.push([{engine:"internal:text",selector:escapeForTextSelector(c,!0),score:kTextScoreExact}]);for(const g of u)s.push([{engine:"internal:text",selector:escapeForTextSelector(g.text,!1),score:kTextScore-g.scoreBonus}])}const p={engine:"css",selector:cssEscape(e.nodeName.toLowerCase()),score:kCSSTagNameScore};for(const g of u)s.push([p,{engine:"internal:has-text",selector:escapeForTextSelector(g.text,!1),score:kTextScore-g.scoreBonus}]);if(c.length<=80){const g=new RegExp("^"+escapeRegExp(c)+"$");s.push([p,{engine:"internal:has-text",selector:escapeForTextSelector(g,!1),score:kTextScoreRegex}])}}const d=getAriaRole(e);if(d&&!["none","presentation"].includes(d)){const p=getElementAccessibleName(e,!1);if(p){const g={engine:"internal:role",selector:`${d}[name=${escapeForAttributeSelector(p,!0)}]`,score:kRoleWithNameScoreExact};s.push([g]);for(const y of suitableTextAlternatives(p))s.push([{engine:"internal:role",selector:`${d}[name=${escapeForAttributeSelector(y.text,!1)}]`,score:kRoleWithNameScore-y.scoreBonus}])}else{const g={engine:"internal:role",selector:`${d}`,score:kRoleWithoutNameScore};for(const y of u)s.push([g,{engine:"internal:has-text",selector:escapeForTextSelector(y.text,!1),score:kTextScore-y.scoreBonus}]);if(c.length<=80){const y=new RegExp("^"+escapeRegExp(c)+"$");s.push([g,{engine:"internal:has-text",selector:escapeForTextSelector(y,!1),score:kTextScoreRegex}])}}}return penalizeScoreForLength(s),s}function makeSelectorForId(t){return/^[a-zA-Z][a-zA-Z0-9\-\_]+$/.test(t)?"#"+t:`[id="${cssEscape(t)}"]`}function hasCSSIdToken(t){return t.some(e=>e.engine==="css"&&(e.selector.startsWith("#")||e.selector.startsWith('[id="')))}function cssFallback(t,e,n){const s=n.root??e.ownerDocument,o=[];function a(u){const d=o.slice();u&&d.unshift(u);const p=d.join(" > "),g=t.parseSelector(p);return t.querySelector(g,s,!1)===e?p:void 0}function c(u){const d={engine:"css",selector:u,score:kCSSFallbackScore},p=t.parseSelector(u),g=t.querySelectorAll(p,s);if(g.length===1)return[d];const y={engine:"nth",selector:String(g.indexOf(e)),score:kNthScore};return[d,y]}for(let u=e;u&&u!==s;u=parentElementOrShadowHost(u)){const d=u.nodeName.toLowerCase();let p="";if(u.id&&!n.noCSSId){const x=makeSelectorForId(u.id),v=a(x);if(v)return c(v);p=x}const g=u.parentNode,y=[...u.classList];for(let x=0;x<y.length;++x){const v="."+cssEscape(y.slice(0,x+1).join(".")),T=a(v);if(T)return c(T);!p&&g&&g.querySelectorAll(v).length===1&&(p=v)}if(g){const x=[...g.children],T=x.filter(E=>E.nodeName.toLowerCase()===d).indexOf(u)===0?cssEscape(d):`${cssEscape(d)}:nth-child(${1+x.indexOf(u)})`,S=a(T);if(S)return c(S);p||(p=T)}else p||(p=cssEscape(d));o.unshift(p)}return c(a())}function penalizeScoreForLength(t){for(const e of t)for(const n of e)n.score>kBeginPenalizedScore&&n.score<kEndPenalizedScore&&(n.score+=Math.min(kTextScoreRange,n.selector.length/10|0))}function joinTokens(t){const e=[];let n="";for(const{engine:s,selector:o}of t)e.length&&(n!=="css"||s!=="css"||o.startsWith(":nth-match("))&&e.push(">>"),n=s,s==="css"?e.push(o):e.push(`${s}=${o}`);return e.join(" ")}function combineScores(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n].score*(t.length-n);return e}function chooseFirstSelector(t,e,n,s,o){const a=s.map(u=>({tokens:u,score:combineScores(u)}));a.sort((u,d)=>u.score-d.score);let c=null;for(const{tokens:u}of a){const d=t.parseSelector(joinTokens(u)),p=t.querySelectorAll(d,e);if(p[0]===n&&p.length===1)return u;const g=p.indexOf(n);if(!o||c||g===-1||p.length>5)continue;const y={engine:"nth",selector:String(g),score:kNthScore};c=[...u,y]}return c}function isGuidLike(t){let e,n=0;for(let s=0;s<t.length;++s){const o=t[s];let a;if(!(o==="-"||o==="_")){if(o>="a"&&o<="z"?a="lower":o>="A"&&o<="Z"?a="upper":o>="0"&&o<="9"?a="digit":a="other",a==="lower"&&e==="upper"){e=a;continue}e&&e!==a&&++n,e=a}}return n>=t.length/4}function trimWordBoundary(t,e){if(t.length<=e)return t;t=t.substring(0,e);const n=t.match(/^(.*)\b(.+?)$/);return n?n[1].trimEnd():""}function suitableTextAlternatives(t){let e=[];{const n=t.match(/^([\d.,]+)[^.,\w]/),s=n?n[1].length:0;if(s){const o=trimWordBoundary(t.substring(s).trimStart(),80);e.push({text:o,scoreBonus:o.length<=30?2:1})}}{const n=t.match(/[^.,\w]([\d.,]+)$/),s=n?n[1].length:0;if(s){const o=trimWordBoundary(t.substring(0,t.length-s).trimEnd(),80);e.push({text:o,scoreBonus:o.length<=30?2:1})}}return t.length<=30?e.push({text:t,scoreBonus:0}):(e.push({text:trimWordBoundary(t,80),scoreBonus:0}),e.push({text:trimWordBoundary(t,30),scoreBonus:1})),e=e.filter(n=>n.text),e.length||e.push({text:t.substring(0,80),scoreBonus:0}),e}function basename(t,e){const n=t.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/");let s=n.substring(n.lastIndexOf("/")+1);return s.endsWith(e)&&(s=s.substring(0,s.length-e.length)),s}function toUpper(t,e){return e?e.toUpperCase():""}const classifyRE=/(?:^|[-_/])(\w)/g,classify=t=>t&&t.replace(classifyRE,toUpper);function buildComponentsTreeVue3(t){function e(g){const y=g.name||g._componentTag||g.__playwright_guessedName;if(y)return y;const x=g.__file;if(x)return classify(basename(x,".vue"))}function n(g,y){return g.type.__playwright_guessedName=y,y}function s(g){var x,v,T,S;const y=e(g.type||{});if(y)return y;if(g.root===g)return"Root";for(const E in(v=(x=g.parent)==null?void 0:x.type)==null?void 0:v.components)if(((T=g.parent)==null?void 0:T.type.components[E])===g.type)return n(g,E);for(const E in(S=g.appContext)==null?void 0:S.components)if(g.appContext.components[E]===g.type)return n(g,E);return"Anonymous Component"}function o(g){return g._isBeingDestroyed||g.isUnmounted}function a(g){return g.subTree.type.toString()==="Symbol(Fragment)"}function c(g){const y=[];return g.component&&y.push(g.component),g.suspense&&y.push(...c(g.suspense.activeBranch)),Array.isArray(g.children)&&g.children.forEach(x=>{x.component?y.push(x.component):y.push(...c(x))}),y.filter(x=>{var v;return!o(x)&&!((v=x.type.devtools)!=null&&v.hide)})}function u(g){return a(g)?d(g.subTree):[g.subTree.el]}function d(g){if(!g.children)return[];const y=[];for(let x=0,v=g.children.length;x<v;x++){const T=g.children[x];T.component?y.push(...u(T.component)):T.el&&y.push(T.el)}return y}function p(g){return{name:s(g),children:c(g.subTree).map(p),rootElements:u(g),props:g.props}}return p(t)}function buildComponentsTreeVue2(t){function e(a){const c=a.displayName||a.name||a._componentTag;if(c)return c;const u=a.__file;if(u)return classify(basename(u,".vue"))}function n(a){const c=e(a.$options||a.fnOptions||{});return c||(a.$root===a?"Root":"Anonymous Component")}function s(a){return a.$children?a.$children:Array.isArray(a.subTree.children)?a.subTree.children.filter(c=>!!c.component).map(c=>c.component):[]}function o(a){return{name:n(a),children:s(a).map(o),rootElements:[a.$el],props:a._props}}return o(t)}function filterComponentsTree(t,e,n=[]){e(t)&&n.push(t);for(const s of t.children)filterComponentsTree(s,e,n);return n}function findVueRoots(t,e=[]){const s=(t.ownerDocument||t).createTreeWalker(t,NodeFilter.SHOW_ELEMENT),o=new Set;do{const a=s.currentNode;a.__vue__&&o.add(a.__vue__.$root),a.__vue_app__&&a._vnode&&a._vnode.component&&e.push({root:a._vnode.component,version:3});const c=a instanceof Element?a.shadowRoot:null;c&&findVueRoots(c,e)}while(s.nextNode());for(const a of o)e.push({version:2,root:a});return e}const createVueEngine=()=>({queryAll(t,e){const n=t.ownerDocument||t,{name:s,attributes:o}=parseAttributeSelector(e,!1),u=findVueRoots(n).map(p=>p.version===3?buildComponentsTreeVue3(p.root):buildComponentsTreeVue2(p.root)).map(p=>filterComponentsTree(p,g=>{if(s&&g.name!==s||g.rootElements.some(y=>!isInsideScope(t,y)))return!1;for(const y of o)if(!matchesComponentAttribute(g.props,y))return!1;return!0})).flat(),d=new Set;for(const p of u)for(const g of p.rootElements)d.add(g);return[...d]}}),XPathEngine={queryAll(t,e){e.startsWith("/")&&t.nodeType!==Node.DOCUMENT_NODE&&(e="."+e);const n=[],s=t.ownerDocument||t;if(!s)return n;const o=s.evaluate(e,t,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE);for(let a=o.iterateNext();a;a=o.iterateNext())a.nodeType===Node.ELEMENT_NODE&&n.push(a);return n}};function getByAttributeTextSelector(t,e,n){return`internal:attr=[${t}=${escapeForAttributeSelector(e,(n==null?void 0:n.exact)||!1)}]`}function getByTestIdSelector(t,e){return`internal:testid=[${t}=${escapeForAttributeSelector(e,!0)}]`}function getByLabelSelector(t,e){return"internal:label="+escapeForTextSelector(t,!!(e!=null&&e.exact))}function getByAltTextSelector(t,e){return getByAttributeTextSelector("alt",t,e)}function getByTitleSelector(t,e){return getByAttributeTextSelector("title",t,e)}function getByPlaceholderSelector(t,e){return getByAttributeTextSelector("placeholder",t,e)}function getByTextSelector(t,e){return"internal:text="+escapeForTextSelector(t,!!(e!=null&&e.exact))}function getByRoleSelector(t,e={}){const n=[];return e.checked!==void 0&&n.push(["checked",String(e.checked)]),e.disabled!==void 0&&n.push(["disabled",String(e.disabled)]),e.selected!==void 0&&n.push(["selected",String(e.selected)]),e.expanded!==void 0&&n.push(["expanded",String(e.expanded)]),e.includeHidden!==void 0&&n.push(["include-hidden",String(e.includeHidden)]),e.level!==void 0&&n.push(["level",String(e.level)]),e.name!==void 0&&n.push(["name",escapeForAttributeSelector(e.name,!!e.exact)]),e.pressed!==void 0&&n.push(["pressed",String(e.pressed)]),`internal:role=${t}${n.map(([s,o])=>`[${s}=${o}]`).join("")}`}const selectorSymbol=Symbol("selector"),_Locator=class Ar{constructor(e,n,s){if(s!=null&&s.hasText&&(n+=` >> internal:has-text=${escapeForTextSelector(s.hasText,!1)}`),s!=null&&s.hasNotText&&(n+=` >> internal:has-not-text=${escapeForTextSelector(s.hasNotText,!1)}`),s!=null&&s.has&&(n+=" >> internal:has="+JSON.stringify(s.has[selectorSymbol])),s!=null&&s.hasNot&&(n+=" >> internal:has-not="+JSON.stringify(s.hasNot[selectorSymbol])),(s==null?void 0:s.visible)!==void 0&&(n+=` >> visible=${s.visible?"true":"false"}`),this[selectorSymbol]=n,n){const c=e.parseSelector(n);this.element=e.querySelector(c,e.document,!1),this.elements=e.querySelectorAll(c,e.document)}const o=n,a=this;a.locator=(c,u)=>new Ar(e,o?o+" >> "+c:c,u),a.getByTestId=c=>a.locator(getByTestIdSelector(e.testIdAttributeNameForStrictErrorAndConsoleCodegen(),c)),a.getByAltText=(c,u)=>a.locator(getByAltTextSelector(c,u)),a.getByLabel=(c,u)=>a.locator(getByLabelSelector(c,u)),a.getByPlaceholder=(c,u)=>a.locator(getByPlaceholderSelector(c,u)),a.getByText=(c,u)=>a.locator(getByTextSelector(c,u)),a.getByTitle=(c,u)=>a.locator(getByTitleSelector(c,u)),a.getByRole=(c,u={})=>a.locator(getByRoleSelector(c,u)),a.filter=c=>new Ar(e,n,c),a.first=()=>a.locator("nth=0"),a.last=()=>a.locator("nth=-1"),a.nth=c=>a.locator(`nth=${c}`),a.and=c=>new Ar(e,o+" >> internal:and="+JSON.stringify(c[selectorSymbol])),a.or=c=>new Ar(e,o+" >> internal:or="+JSON.stringify(c[selectorSymbol]))}};let Locator=_Locator;class ConsoleAPI{constructor(e){this._injectedScript=e}install(){this._injectedScript.window.playwright||(this._injectedScript.window.playwright={$:(e,n)=>this._querySelector(e,!!n),$$:e=>this._querySelectorAll(e),inspect:e=>this._inspect(e),selector:e=>this._selector(e),generateLocator:(e,n)=>this._generateLocator(e,n),ariaSnapshot:(e,n)=>this._injectedScript.ariaSnapshot(e||this._injectedScript.document.body,n),resume:()=>this._resume(),...new Locator(this._injectedScript,"")},delete this._injectedScript.window.playwright.filter,delete this._injectedScript.window.playwright.first,delete this._injectedScript.window.playwright.last,delete this._injectedScript.window.playwright.nth,delete this._injectedScript.window.playwright.and,delete this._injectedScript.window.playwright.or)}_querySelector(e,n){if(typeof e!="string")throw new Error("Usage: playwright.query('Playwright >> selector').");const s=this._injectedScript.parseSelector(e);return this._injectedScript.querySelector(s,this._injectedScript.document,n)}_querySelectorAll(e){if(typeof e!="string")throw new Error("Usage: playwright.$$('Playwright >> selector').");const n=this._injectedScript.parseSelector(e);return this._injectedScript.querySelectorAll(n,this._injectedScript.document)}_inspect(e){if(typeof e!="string")throw new Error("Usage: playwright.inspect('Playwright >> selector').");this._injectedScript.window.inspect(this._querySelector(e,!1))}_selector(e){if(!(e instanceof Element))throw new Error("Usage: playwright.selector(element).");return this._injectedScript.generateSelectorSimple(e)}_generateLocator(e,n){if(!(e instanceof Element))throw new Error("Usage: playwright.locator(element).");const s=this._injectedScript.generateSelectorSimple(e);return asLocator(n||"javascript",s)}_resume(){this._injectedScript.window.__pw_resume().catch(()=>{})}}function isRegExp(t){try{return t instanceof RegExp||Object.prototype.toString.call(t)==="[object RegExp]"}catch{return!1}}function isDate(t){try{return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}catch{return!1}}function isURL(t){try{return t instanceof URL||Object.prototype.toString.call(t)==="[object URL]"}catch{return!1}}function isError(t){var e;try{return t instanceof Error||t&&((e=Object.getPrototypeOf(t))==null?void 0:e.name)==="Error"}catch{return!1}}function isTypedArray(t,e){try{return t instanceof e||Object.prototype.toString.call(t)===`[object ${e.name}]`}catch{return!1}}const typedArrayConstructors={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,bi64:BigInt64Array,bui64:BigUint64Array};function typedArrayToBase64(t){if("toBase64"in t)return t.toBase64();const e=Array.from(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).map(n=>String.fromCharCode(n)).join("");return btoa(e)}function base64ToTypedArray(t,e){const n=atob(t),s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return new e(s.buffer)}function parseEvaluationResultValue(t,e=[],n=new Map){if(!Object.is(t,void 0)){if(typeof t=="object"&&t){if("ref"in t)return n.get(t.ref);if("v"in t)return t.v==="undefined"?void 0:t.v==="null"?null:t.v==="NaN"?NaN:t.v==="Infinity"?1/0:t.v==="-Infinity"?-1/0:t.v==="-0"?-0:void 0;if("d"in t)return new Date(t.d);if("u"in t)return new URL(t.u);if("bi"in t)return BigInt(t.bi);if("e"in t){const s=new Error(t.e.m);return s.name=t.e.n,s.stack=t.e.s,s}if("r"in t)return new RegExp(t.r.p,t.r.f);if("a"in t){const s=[];n.set(t.id,s);for(const o of t.a)s.push(parseEvaluationResultValue(o,e,n));return s}if("o"in t){const s={};n.set(t.id,s);for(const{k:o,v:a}of t.o)s[o]=parseEvaluationResultValue(a,e,n);return s}if("h"in t)return e[t.h];if("ta"in t)return base64ToTypedArray(t.ta.b,typedArrayConstructors[t.ta.k])}return t}}function serializeAsCallArgument(t,e){return serialize(t,e,{visited:new Map,lastId:0})}function serialize(t,e,n){if(t&&typeof t=="object"){if(typeof globalThis.Window=="function"&&t instanceof globalThis.Window)return"ref: <Window>";if(typeof globalThis.Document=="function"&&t instanceof globalThis.Document)return"ref: <Document>";if(typeof globalThis.Node=="function"&&t instanceof globalThis.Node)return"ref: <Node>"}return innerSerialize(t,e,n)}function innerSerialize(t,e,n){var a;const s=e(t);if("fallThrough"in s)t=s.fallThrough;else return s;if(typeof t=="symbol")return{v:"undefined"};if(Object.is(t,void 0))return{v:"undefined"};if(Object.is(t,null))return{v:"null"};if(Object.is(t,NaN))return{v:"NaN"};if(Object.is(t,1/0))return{v:"Infinity"};if(Object.is(t,-1/0))return{v:"-Infinity"};if(Object.is(t,-0))return{v:"-0"};if(typeof t=="boolean"||typeof t=="number"||typeof t=="string")return t;if(typeof t=="bigint")return{bi:t.toString()};if(isError(t)){let c;return(a=t.stack)!=null&&a.startsWith(t.name+": "+t.message)?c=t.stack:c=`${t.name}: ${t.message}
${t.stack}`,{e:{n:t.name,m:t.message,s:c}}}if(isDate(t))return{d:t.toJSON()};if(isURL(t))return{u:t.toJSON()};if(isRegExp(t))return{r:{p:t.source,f:t.flags}};for(const[c,u]of Object.entries(typedArrayConstructors))if(isTypedArray(t,u))return{ta:{b:typedArrayToBase64(t),k:c}};const o=n.visited.get(t);if(o)return{ref:o};if(Array.isArray(t)){const c=[],u=++n.lastId;n.visited.set(t,u);for(let d=0;d<t.length;++d)c.push(serialize(t[d],e,n));return{a:c,id:u}}if(typeof t=="object"){const c=[],u=++n.lastId;n.visited.set(t,u);for(const p of Object.keys(t)){let g;try{g=t[p]}catch{continue}p==="toJSON"&&typeof g=="function"?c.push({k:p,v:{o:[],id:0}}):c.push({k:p,v:serialize(g,e,n)})}let d;try{c.length===0&&t.toJSON&&typeof t.toJSON=="function"&&(d={value:t.toJSON()})}catch{}return d?innerSerialize(d.value,e,n):{o:c,id:u}}}const kRuntimeGuid="$runtime_guid$",kUtilityScriptIsUnderTest=!1,kPlaywrightBinding=`__playwright__binding__${kRuntimeGuid}`,kUtilityScriptGlobalProperty=`__playwright_utility_script__${kRuntimeGuid}`;class UtilityScript{constructor(t){var e,n,s,o,a,c,u,d,p;this._bindings=new Map,this.global=t,this.isUnderTest=kUtilityScriptIsUnderTest,this.builtins={setTimeout:(e=t.setTimeout)==null?void 0:e.bind(t),clearTimeout:(n=t.clearTimeout)==null?void 0:n.bind(t),setInterval:(s=t.setInterval)==null?void 0:s.bind(t),clearInterval:(o=t.clearInterval)==null?void 0:o.bind(t),requestAnimationFrame:(a=t.requestAnimationFrame)==null?void 0:a.bind(t),cancelAnimationFrame:(c=t.cancelAnimationFrame)==null?void 0:c.bind(t),requestIdleCallback:(u=t.requestIdleCallback)==null?void 0:u.bind(t),cancelIdleCallback:(d=t.cancelIdleCallback)==null?void 0:d.bind(t),performance:t.performance,eval:(p=t.eval)==null?void 0:p.bind(t),Intl:t.Intl,Date:t.Date,Map:t.Map,Set:t.Set},this.isUnderTest&&(t.builtins=this.builtins)}evaluate(isFunction,returnByValue,expression,argCount,...argsAndHandles){const args=argsAndHandles.slice(0,argCount),handles=argsAndHandles.slice(argCount),parameters=[];for(let t=0;t<args.length;t++)parameters[t]=parseEvaluationResultValue(args[t],handles);let result=eval(expression);return isFunction===!0?result=result(...parameters):isFunction===!1?result=result:typeof result=="function"&&(result=result(...parameters)),returnByValue?this._promiseAwareJsonValueNoThrow(result):result}jsonValue(t,e){if(e!==void 0)return serializeAsCallArgument(e,n=>({fallThrough:n}))}addBinding(t,e){const n={callbacks:new Map,lastSeq:0,handles:new Map};this._bindings.set(t,n),this.global[t]=(...s)=>{if(e&&s.slice(1).some(u=>u!==void 0))throw new Error(`exposeBindingHandle supports a single argument, ${s.length} received`);const o=++n.lastSeq,a=new Promise((u,d)=>n.callbacks.set(o,{resolve:u,reject:d}));let c;if(e)n.handles.set(o,s[0]),c={name:t,seq:o};else{const u=[];for(let d=0;d<s.length;d++)u[d]=serializeAsCallArgument(s[d],p=>({fallThrough:p}));c={name:t,seq:o,serializedArgs:u}}return this.global[kPlaywrightBinding](JSON.stringify(c)),a}}takeBindingHandle(t){const e=this._bindings.get(t.name).handles,n=e.get(t.seq);return e.delete(t.seq),n}deliverBindingResult(t){const e=this._bindings.get(t.name).callbacks;"error"in t?e.get(t.seq).reject(t.error):e.get(t.seq).resolve(t.result),e.delete(t.seq)}_promiseAwareJsonValueNoThrow(t){const e=n=>{try{return this.jsonValue(!0,n)}catch{return}};return t&&typeof t=="object"&&typeof t.then=="function"?(async()=>{const n=await t;return e(n)})():e(t)}}function ensureUtilityScript(t){t=t??globalThis;let e=t[kUtilityScriptGlobalProperty];return e||(e=new UtilityScript(t),Object.defineProperty(t,kUtilityScriptGlobalProperty,{value:e,configurable:!1,enumerable:!1,writable:!1}),e)}class InjectedScript{constructor(e,n){this._testIdAttributeNameForStrictErrorAndConsoleCodegen="data-testid",this.utils={asLocator,cacheNormalizedWhitespaces,elementText,getAriaRole,getElementAccessibleDescription,getElementAccessibleName,isElementVisible,isInsideScope,normalizeWhiteSpace,parseAriaSnapshot,builtins:null},this.window=e,this.document=e.document;const s=ensureUtilityScript(e);this.isUnderTest=n.isUnderTest??s.isUnderTest,this.utils.builtins=s.builtins,this._sdkLanguage=n.sdkLanguage,this._testIdAttributeNameForStrictErrorAndConsoleCodegen=n.testIdAttributeName,this._evaluator=new SelectorEvaluatorImpl,this.consoleApi=new ConsoleAPI(this),this.onGlobalListenersRemoved=new Set,this._autoClosingTags=new Set(["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","MENUITEM","META","PARAM","SOURCE","TRACK","WBR"]),this._booleanAttributes=new Set(["checked","selected","disabled","readonly","multiple"]),this._eventTypes=new Map([["auxclick","mouse"],["click","mouse"],["dblclick","mouse"],["mousedown","mouse"],["mouseeenter","mouse"],["mouseleave","mouse"],["mousemove","mouse"],["mouseout","mouse"],["mouseover","mouse"],["mouseup","mouse"],["mouseleave","mouse"],["mousewheel","mouse"],["keydown","keyboard"],["keyup","keyboard"],["keypress","keyboard"],["textInput","keyboard"],["touchstart","touch"],["touchmove","touch"],["touchend","touch"],["touchcancel","touch"],["pointerover","pointer"],["pointerout","pointer"],["pointerenter","pointer"],["pointerleave","pointer"],["pointerdown","pointer"],["pointerup","pointer"],["pointermove","pointer"],["pointercancel","pointer"],["gotpointercapture","pointer"],["lostpointercapture","pointer"],["focus","focus"],["blur","focus"],["drag","drag"],["dragstart","drag"],["dragend","drag"],["dragover","drag"],["dragenter","drag"],["dragleave","drag"],["dragexit","drag"],["drop","drag"],["wheel","wheel"],["deviceorientation","deviceorientation"],["deviceorientationabsolute","deviceorientation"],["devicemotion","devicemotion"]]),this._hoverHitTargetInterceptorEvents=new Set(["mousemove"]),this._tapHitTargetInterceptorEvents=new Set(["pointerdown","pointerup","touchstart","touchend","touchcancel"]),this._mouseHitTargetInterceptorEvents=new Set(["mousedown","mouseup","pointerdown","pointerup","click","auxclick","dblclick","contextmenu"]),this._allHitTargetInterceptorEvents=new Set([...this._hoverHitTargetInterceptorEvents,...this._tapHitTargetInterceptorEvents,...this._mouseHitTargetInterceptorEvents]),this._engines=new Map,this._engines.set("xpath",XPathEngine),this._engines.set("xpath:light",XPathEngine),this._engines.set("_react",createReactEngine()),this._engines.set("_vue",createVueEngine()),this._engines.set("role",createRoleEngine(!1)),this._engines.set("text",this._createTextEngine(!0,!1)),this._engines.set("text:light",this._createTextEngine(!1,!1)),this._engines.set("id",this._createAttributeEngine("id",!0)),this._engines.set("id:light",this._createAttributeEngine("id",!1)),this._engines.set("data-testid",this._createAttributeEngine("data-testid",!0)),this._engines.set("data-testid:light",this._createAttributeEngine("data-testid",!1)),this._engines.set("data-test-id",this._createAttributeEngine("data-test-id",!0)),this._engines.set("data-test-id:light",this._createAttributeEngine("data-test-id",!1)),this._engines.set("data-test",this._createAttributeEngine("data-test",!0)),this._engines.set("data-test:light",this._createAttributeEngine("data-test",!1)),this._engines.set("css",this._createCSSEngine()),this._engines.set("nth",{queryAll:()=>[]}),this._engines.set("visible",this._createVisibleEngine()),this._engines.set("internal:control",this._createControlEngine()),this._engines.set("internal:has",this._createHasEngine()),this._engines.set("internal:has-not",this._createHasNotEngine()),this._engines.set("internal:and",{queryAll:()=>[]}),this._engines.set("internal:or",{queryAll:()=>[]}),this._engines.set("internal:chain",this._createInternalChainEngine()),this._engines.set("internal:label",this._createInternalLabelEngine()),this._engines.set("internal:text",this._createTextEngine(!0,!0)),this._engines.set("internal:has-text",this._createInternalHasTextEngine()),this._engines.set("internal:has-not-text",this._createInternalHasNotTextEngine()),this._engines.set("internal:attr",this._createNamedAttributeEngine()),this._engines.set("internal:testid",this._createNamedAttributeEngine()),this._engines.set("internal:role",createRoleEngine(!0)),this._engines.set("aria-ref",this._createAriaRefEngine());for(const{name:o,source:a}of n.customEngines)this._engines.set(o,this.eval(a));this._stableRafCount=n.stableRafCount,this._browserName=n.browserName,setGlobalOptions({browserNameForWorkarounds:n.browserName,inputFileRoleTextbox:n.inputFileRoleTextbox}),this._setupGlobalListenersRemovalDetection(),this._setupHitTargetInterceptors(),this.isUnderTest&&(this.window.__injectedScript=this)}eval(e){return this.window.eval(e)}testIdAttributeNameForStrictErrorAndConsoleCodegen(){return this._testIdAttributeNameForStrictErrorAndConsoleCodegen}parseSelector(e){const n=parseSelector(e);return visitAllSelectorParts(n,s=>{if(!this._engines.has(s.name))throw this.createStacklessError(`Unknown engine "${s.name}" while parsing selector ${e}`)}),n}generateSelector(e,n){return generateSelector(this,e,n)}generateSelectorSimple(e,n){return generateSelector(this,e,{...n,testIdAttributeName:this._testIdAttributeNameForStrictErrorAndConsoleCodegen}).selector}querySelector(e,n,s){const o=this.querySelectorAll(e,n);if(s&&o.length>1)throw this.strictModeViolationError(e,o);return o[0]}_queryNth(e,n){const s=[...e];let o=+n.body;return o===-1&&(o=s.length-1),new Set(s.slice(o,o+1))}_queryLayoutSelector(e,n,s){const o=n.name,a=n.body,c=[],u=this.querySelectorAll(a.parsed,s);for(const d of e){const p=layoutSelectorScore(o,d,u,a.distance);p!==void 0&&c.push({element:d,score:p})}return c.sort((d,p)=>d.score-p.score),new Set(c.map(d=>d.element))}ariaSnapshot(e,n){if(e.nodeType!==Node.ELEMENT_NODE)throw this.createStacklessError("Can only capture aria snapshot of Element nodes.");return this._lastAriaSnapshot=generateAriaTree(e,n),renderAriaTree(this._lastAriaSnapshot,n)}getAllByAria(e,n){return getAllByAria(e.documentElement,n)}querySelectorAll(e,n){if(e.capture!==void 0){if(e.parts.some(o=>o.name==="nth"))throw this.createStacklessError("Can't query n-th element in a request with the capture.");const s={parts:e.parts.slice(0,e.capture+1)};if(e.capture<e.parts.length-1){const o={parts:e.parts.slice(e.capture+1)},a={name:"internal:has",body:{parsed:o},source:stringifySelector(o)};s.parts.push(a)}return this.querySelectorAll(s,n)}if(!n.querySelectorAll)throw this.createStacklessError("Node is not queryable.");if(e.capture!==void 0)throw this.createStacklessError("Internal error: there should not be a capture in the selector.");if(n.nodeType===11&&e.parts.length===1&&e.parts[0].name==="css"&&e.parts[0].source===":scope")return[n];this._evaluator.begin();try{let s=new Set([n]);for(const o of e.parts)if(o.name==="nth")s=this._queryNth(s,o);else if(o.name==="internal:and"){const a=this.querySelectorAll(o.body.parsed,n);s=new Set(a.filter(c=>s.has(c)))}else if(o.name==="internal:or"){const a=this.querySelectorAll(o.body.parsed,n);s=new Set(sortInDOMOrder(new Set([...s,...a])))}else if(kLayoutSelectorNames.includes(o.name))s=this._queryLayoutSelector(s,o,n);else{const a=new Set;for(const c of s){const u=this._queryEngineAll(o,c);for(const d of u)a.add(d)}s=a}return[...s]}finally{this._evaluator.end()}}_queryEngineAll(e,n){const s=this._engines.get(e.name).queryAll(n,e.body);for(const o of s)if(!("nodeName"in o))throw this.createStacklessError(`Expected a Node but got ${Object.prototype.toString.call(o)}`);return s}_createAttributeEngine(e,n){const s=o=>[{simples:[{selector:{css:`[${e}=${JSON.stringify(o)}]`,functions:[]},combinator:""}]}];return{queryAll:(o,a)=>this._evaluator.query({scope:o,pierceShadow:n},s(a))}}_createCSSEngine(){return{queryAll:(e,n)=>this._evaluator.query({scope:e,pierceShadow:!0},n)}}_createTextEngine(e,n){return{queryAll:(o,a)=>{const{matcher:c,kind:u}=createTextMatcher(a,n),d=[];let p=null;const g=x=>{if(u==="lax"&&p&&p.contains(x))return!1;const v=elementMatchesText(this._evaluator._cacheText,x,c);v==="none"&&(p=x),(v==="self"||v==="selfAndChildren"&&u==="strict"&&!n)&&d.push(x)};o.nodeType===Node.ELEMENT_NODE&&g(o);const y=this._evaluator._queryCSS({scope:o,pierceShadow:e},"*");for(const x of y)g(x);return d}}}_createInternalHasTextEngine(){return{queryAll:(e,n)=>{if(e.nodeType!==1)return[];const s=e,o=elementText(this._evaluator._cacheText,s),{matcher:a}=createTextMatcher(n,!0);return a(o)?[s]:[]}}}_createInternalHasNotTextEngine(){return{queryAll:(e,n)=>{if(e.nodeType!==1)return[];const s=e,o=elementText(this._evaluator._cacheText,s),{matcher:a}=createTextMatcher(n,!0);return a(o)?[]:[s]}}}_createInternalLabelEngine(){return{queryAll:(e,n)=>{const{matcher:s}=createTextMatcher(n,!0);return this._evaluator._queryCSS({scope:e,pierceShadow:!0},"*").filter(a=>getElementLabels(this._evaluator._cacheText,a).some(c=>s(c)))}}}_createNamedAttributeEngine(){return{queryAll:(n,s)=>{const o=parseAttributeSelector(s,!0);if(o.name||o.attributes.length!==1)throw new Error("Malformed attribute selector: "+s);const{name:a,value:c,caseSensitive:u}=o.attributes[0],d=u?null:c.toLowerCase();let p;return c instanceof RegExp?p=y=>!!y.match(c):u?p=y=>y===c:p=y=>y.toLowerCase().includes(d),this._evaluator._queryCSS({scope:n,pierceShadow:!0},`[${a}]`).filter(y=>p(y.getAttribute(a)))}}}_createControlEngine(){return{queryAll(e,n){if(n==="enter-frame")return[];if(n==="return-empty")return[];if(n==="component")return e.nodeType!==1?[]:[e.childElementCount===1?e.firstElementChild:e];throw new Error(`Internal error, unknown internal:control selector ${n}`)}}}_createHasEngine(){return{queryAll:(n,s)=>n.nodeType!==1?[]:!!this.querySelector(s.parsed,n,!1)?[n]:[]}}_createHasNotEngine(){return{queryAll:(n,s)=>n.nodeType!==1?[]:!!this.querySelector(s.parsed,n,!1)?[]:[n]}}_createVisibleEngine(){return{queryAll:(n,s)=>{if(n.nodeType!==1)return[];const o=s==="true";return isElementVisible(n)===o?[n]:[]}}}_createInternalChainEngine(){return{queryAll:(n,s)=>this.querySelectorAll(s.parsed,n)}}extend(e,n){const s=this.window.eval(`
    (() => {
      const module = {};
      ${e}
      return module.exports.default();
    })()`);return new s(this,n)}async viewportRatio(e){return await new Promise(n=>{const s=new IntersectionObserver(o=>{n(o[0].intersectionRatio),s.disconnect()});s.observe(e),requestAnimationFrame(()=>{})})}getElementBorderWidth(e){if(e.nodeType!==Node.ELEMENT_NODE||!e.ownerDocument||!e.ownerDocument.defaultView)return{left:0,top:0};const n=e.ownerDocument.defaultView.getComputedStyle(e);return{left:parseInt(n.borderLeftWidth||"",10),top:parseInt(n.borderTopWidth||"",10)}}describeIFrameStyle(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return"error:notconnected";const n=e.ownerDocument.defaultView;for(let o=e;o;o=parentElementOrShadowHost(o))if(n.getComputedStyle(o).transform!=="none")return"transformed";const s=n.getComputedStyle(e);return{left:parseInt(s.borderLeftWidth||"",10)+parseInt(s.paddingLeft||"",10),top:parseInt(s.borderTopWidth||"",10)+parseInt(s.paddingTop||"",10)}}retarget(e,n){let s=e.nodeType===Node.ELEMENT_NODE?e:e.parentElement;if(!s)return null;if(n==="none")return s;if(!s.matches("input, textarea, select")&&!s.isContentEditable&&(n==="button-link"?s=s.closest("button, [role=button], a, [role=link]")||s:s=s.closest("button, [role=button], [role=checkbox], [role=radio]")||s),n==="follow-label"&&!s.matches("a, input, textarea, button, select, [role=link], [role=button], [role=checkbox], [role=radio]")&&!s.isContentEditable){const o=s.closest("label");o&&o.control&&(s=o.control)}return s}async checkElementStates(e,n){if(n.includes("stable")){const s=await this._checkElementIsStable(e);if(s===!1)return{missingState:"stable"};if(s==="error:notconnected")return"error:notconnected"}for(const s of n)if(s!=="stable"){const o=this.elementState(e,s);if(o.received==="error:notconnected")return"error:notconnected";if(!o.matches)return{missingState:s}}}async _checkElementIsStable(e){const n=Symbol("continuePolling");let s,o=0,a=0;const c=()=>{const y=this.retarget(e,"no-follow-label");if(!y)return"error:notconnected";const x=performance.now();if(this._stableRafCount>1&&x-a<15)return n;a=x;const v=y.getBoundingClientRect(),T={x:v.top,y:v.left,width:v.width,height:v.height};if(s){if(!(T.x===s.x&&T.y===s.y&&T.width===s.width&&T.height===s.height))return!1;if(++o>=this._stableRafCount)return!0}return s=T,n};let u,d;const p=new Promise((y,x)=>{u=y,d=x}),g=()=>{try{const y=c();y!==n?u(y):requestAnimationFrame(g)}catch(y){d(y)}};return requestAnimationFrame(g),p}_createAriaRefEngine(){return{queryAll:(n,s)=>{var a,c;const o=(c=(a=this._lastAriaSnapshot)==null?void 0:a.elements)==null?void 0:c.get(s);return o&&o.isConnected?[o]:[]}}}elementState(e,n){const s=this.retarget(e,["visible","hidden"].includes(n)?"none":"follow-label");if(!s||!s.isConnected)return n==="hidden"?{matches:!0,received:"hidden"}:{matches:!1,received:"error:notconnected"};if(n==="visible"||n==="hidden"){const o=isElementVisible(s);return{matches:n==="visible"?o:!o,received:o?"visible":"hidden"}}if(n==="disabled"||n==="enabled"){const o=getAriaDisabled(s);return{matches:n==="disabled"?o:!o,received:o?"disabled":"enabled"}}if(n==="editable"){const o=getAriaDisabled(s),a=getReadonly(s);if(a==="error")throw this.createStacklessError("Element is not an <input>, <textarea>, <select> or [contenteditable] and does not have a role allowing [aria-readonly]");return{matches:!o&&!a,received:o?"disabled":a?"readOnly":"editable"}}if(n==="checked"||n==="unchecked"){const o=n==="checked",a=getCheckedWithoutMixed(s);if(a==="error")throw this.createStacklessError("Not a checkbox or radio button");return{matches:o===a,received:a?"checked":"unchecked"}}if(n==="indeterminate"){const o=getCheckedAllowMixed(s);if(o==="error")throw this.createStacklessError("Not a checkbox or radio button");return{matches:o==="mixed",received:o===!0?"checked":o===!1?"unchecked":"mixed"}}throw this.createStacklessError(`Unexpected element state "${n}"`)}selectOptions(e,n){const s=this.retarget(e,"follow-label");if(!s)return"error:notconnected";if(s.nodeName.toLowerCase()!=="select")throw this.createStacklessError("Element is not a <select> element");const o=s,a=[...o.options],c=[];let u=n.slice();for(let d=0;d<a.length;d++){const p=a[d],g=y=>{if(y instanceof Node)return p===y;let x=!0;return y.valueOrLabel!==void 0&&(x=x&&(y.valueOrLabel===p.value||y.valueOrLabel===p.label)),y.value!==void 0&&(x=x&&y.value===p.value),y.label!==void 0&&(x=x&&y.label===p.label),y.index!==void 0&&(x=x&&y.index===d),x};if(u.some(g))if(c.push(p),o.multiple)u=u.filter(y=>!g(y));else{u=[];break}}return u.length?"error:optionsnotfound":(o.value=void 0,c.forEach(d=>d.selected=!0),o.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})),c.map(d=>d.value))}fill(e,n){const s=this.retarget(e,"follow-label");if(!s)return"error:notconnected";if(s.nodeName.toLowerCase()==="input"){const o=s,a=o.type.toLowerCase(),c=new Set(["color","date","time","datetime-local","month","range","week"]);if(!new Set(["","email","number","password","search","tel","text","url"]).has(a)&&!c.has(a))throw this.createStacklessError(`Input of type "${a}" cannot be filled`);if(a==="number"&&(n=n.trim(),isNaN(Number(n))))throw this.createStacklessError("Cannot type text into input[type=number]");if(c.has(a)){if(n=n.trim(),o.focus(),o.value=n,o.value!==n)throw this.createStacklessError("Malformed value");return s.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),s.dispatchEvent(new Event("change",{bubbles:!0})),"done"}}else if(s.nodeName.toLowerCase()!=="textarea"){if(!s.isContentEditable)throw this.createStacklessError("Element is not an <input>, <textarea> or [contenteditable] element")}return this.selectText(s),"needsinput"}selectText(e){const n=this.retarget(e,"follow-label");if(!n)return"error:notconnected";if(n.nodeName.toLowerCase()==="input"){const a=n;return a.select(),a.focus(),"done"}if(n.nodeName.toLowerCase()==="textarea"){const a=n;return a.selectionStart=0,a.selectionEnd=a.value.length,a.focus(),"done"}const s=n.ownerDocument.createRange();s.selectNodeContents(n);const o=n.ownerDocument.defaultView.getSelection();return o&&(o.removeAllRanges(),o.addRange(s)),n.focus(),"done"}_activelyFocused(e){const n=e.getRootNode().activeElement,s=n===e&&!!e.ownerDocument&&e.ownerDocument.hasFocus();return{activeElement:n,isFocused:s}}focusNode(e,n){if(!e.isConnected)return"error:notconnected";if(e.nodeType!==Node.ELEMENT_NODE)throw this.createStacklessError("Node is not an element");const{activeElement:s,isFocused:o}=this._activelyFocused(e);if(e.isContentEditable&&!o&&s&&s.blur&&s.blur(),e.focus(),e.focus(),n&&!o&&e.nodeName.toLowerCase()==="input")try{e.setSelectionRange(0,0)}catch{}return"done"}blurNode(e){if(!e.isConnected)return"error:notconnected";if(e.nodeType!==Node.ELEMENT_NODE)throw this.createStacklessError("Node is not an element");return e.blur(),"done"}setInputFiles(e,n){if(e.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement";const s=e;if(s.nodeName!=="INPUT")return"Not an <input> element";const o=s;if((o.getAttribute("type")||"").toLowerCase()!=="file")return"Not an input[type=file] element";const c=n.map(d=>{const p=Uint8Array.from(atob(d.buffer),g=>g.charCodeAt(0));return new File([p],d.name,{type:d.mimeType,lastModified:d.lastModifiedMs})}),u=new DataTransfer;for(const d of c)u.items.add(d);o.files=u.files,o.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),o.dispatchEvent(new Event("change",{bubbles:!0}))}expectHitTarget(e,n){const s=[];let o=n;for(;o;){const g=enclosingShadowRootOrDocument(o);if(!g||(s.push(g),g.nodeType===9))break;o=g.host}let a;for(let g=s.length-1;g>=0;g--){const y=s[g],x=y.elementsFromPoint(e.x,e.y),v=y.elementFromPoint(e.x,e.y);if(v&&x[0]&&parentElementOrShadowHost(v)===x[0]){const S=this.window.getComputedStyle(v);(S==null?void 0:S.display)==="contents"&&x.unshift(v)}x[0]&&x[0].shadowRoot===y&&x[1]===v&&x.shift();const T=x[0];if(!T||(a=T,g&&T!==s[g-1].host))break}const c=[];for(;a&&a!==n;)c.push(a),a=parentElementOrShadowHost(a);if(a===n)return"done";const u=this.previewNode(c[0]||this.document.documentElement);let d,p=n;for(;p;){const g=c.indexOf(p);if(g!==-1){g>1&&(d=this.previewNode(c[g-1]));break}p=parentElementOrShadowHost(p)}return d?{hitTargetDescription:`${u} from ${d} subtree`}:{hitTargetDescription:u}}setupHitTargetInterceptor(e,n,s,o){const a=this.retarget(e,"button-link");if(!a||!a.isConnected)return"error:notconnected";if(s){const g=this.expectHitTarget(s,a);if(g!=="done")return g.hitTargetDescription}if(n==="drag")return{stop:()=>"done"};const c={hover:this._hoverHitTargetInterceptorEvents,tap:this._tapHitTargetInterceptorEvents,mouse:this._mouseHitTargetInterceptorEvents}[n];let u;const d=g=>{if(!c.has(g.type)||!g.isTrusted)return;const y=this.window.TouchEvent&&g instanceof this.window.TouchEvent?g.touches[0]:g;u===void 0&&y&&(u=this.expectHitTarget({x:y.clientX,y:y.clientY},a)),(o||u!=="done"&&u!==void 0)&&(g.preventDefault(),g.stopPropagation(),g.stopImmediatePropagation())},p=()=>(this._hitTargetInterceptor===d&&(this._hitTargetInterceptor=void 0),u||"done");return this._hitTargetInterceptor=d,{stop:p}}dispatchEvent(e,n,s){var c,u,d;let o;const a={bubbles:!0,cancelable:!0,composed:!0,...s};switch(this._eventTypes.get(n)){case"mouse":o=new MouseEvent(n,a);break;case"keyboard":o=new KeyboardEvent(n,a);break;case"touch":{if(this._browserName==="webkit"){const p=y=>{var T,S;if(y instanceof Touch)return y;let x=y.pageX;x===void 0&&y.clientX!==void 0&&(x=y.clientX+(((T=this.document.scrollingElement)==null?void 0:T.scrollLeft)||0));let v=y.pageY;return v===void 0&&y.clientY!==void 0&&(v=y.clientY+(((S=this.document.scrollingElement)==null?void 0:S.scrollTop)||0)),this.document.createTouch(this.window,y.target??e,y.identifier,x,v,y.screenX,y.screenY,y.radiusX,y.radiusY,y.rotationAngle,y.force)},g=y=>y instanceof TouchList||!y?y:this.document.createTouchList(...y.map(p));a.target??(a.target=e),a.touches=g(a.touches),a.targetTouches=g(a.targetTouches),a.changedTouches=g(a.changedTouches),o=new TouchEvent(n,a)}else a.target??(a.target=e),a.touches=(c=a.touches)==null?void 0:c.map(p=>p instanceof Touch?p:new Touch({...p,target:p.target??e})),a.targetTouches=(u=a.targetTouches)==null?void 0:u.map(p=>p instanceof Touch?p:new Touch({...p,target:p.target??e})),a.changedTouches=(d=a.changedTouches)==null?void 0:d.map(p=>p instanceof Touch?p:new Touch({...p,target:p.target??e})),o=new TouchEvent(n,a);break}case"pointer":o=new PointerEvent(n,a);break;case"focus":o=new FocusEvent(n,a);break;case"drag":o=new DragEvent(n,a);break;case"wheel":o=new WheelEvent(n,a);break;case"deviceorientation":try{o=new DeviceOrientationEvent(n,a)}catch{const{bubbles:p,cancelable:g,alpha:y,beta:x,gamma:v,absolute:T}=a;o=this.document.createEvent("DeviceOrientationEvent"),o.initDeviceOrientationEvent(n,p,g,y,x,v,T)}break;case"devicemotion":try{o=new DeviceMotionEvent(n,a)}catch{const{bubbles:p,cancelable:g,acceleration:y,accelerationIncludingGravity:x,rotationRate:v,interval:T}=a;o=this.document.createEvent("DeviceMotionEvent"),o.initDeviceMotionEvent(n,p,g,y,x,v,T)}break;default:o=new Event(n,a);break}e.dispatchEvent(o)}previewNode(e){if(e.nodeType===Node.TEXT_NODE)return oneLine(`#text=${e.nodeValue||""}`);if(e.nodeType!==Node.ELEMENT_NODE)return oneLine(`<${e.nodeName.toLowerCase()} />`);const n=e,s=[];for(let d=0;d<n.attributes.length;d++){const{name:p,value:g}=n.attributes[d];p!=="style"&&(!g&&this._booleanAttributes.has(p)?s.push(` ${p}`):s.push(` ${p}="${g}"`))}s.sort((d,p)=>d.length-p.length);const o=trimStringWithEllipsis(s.join(""),500);if(this._autoClosingTags.has(n.nodeName))return oneLine(`<${n.nodeName.toLowerCase()}${o}/>`);const a=n.childNodes;let c=!1;if(a.length<=5){c=!0;for(let d=0;d<a.length;d++)c=c&&a[d].nodeType===Node.TEXT_NODE}const u=c?n.textContent||"":a.length?"…":"";return oneLine(`<${n.nodeName.toLowerCase()}${o}>${trimStringWithEllipsis(u,50)}</${n.nodeName.toLowerCase()}>`)}strictModeViolationError(e,n){const s=n.slice(0,10).map(a=>({preview:this.previewNode(a),selector:this.generateSelectorSimple(a)})),o=s.map((a,c)=>`
    ${c+1}) ${a.preview} aka ${asLocator(this._sdkLanguage,a.selector)}`);return s.length<n.length&&o.push(`
    ...`),this.createStacklessError(`strict mode violation: ${asLocator(this._sdkLanguage,stringifySelector(e))} resolved to ${n.length} elements:${o.join("")}
`)}createStacklessError(e){if(this._browserName==="firefox"){const s=new Error("Error: "+e);return s.stack="",s}const n=new Error(e);return delete n.stack,n}createHighlight(){return new Highlight(this)}maskSelectors(e,n){this._highlight&&this.hideHighlight(),this._highlight=new Highlight(this),this._highlight.install();const s=[];for(const o of e)s.push(this.querySelectorAll(o,this.document.documentElement));this._highlight.maskElements(s.flat(),n)}highlight(e){this._highlight||(this._highlight=new Highlight(this),this._highlight.install()),this._highlight.runHighlightOnRaf(e)}hideHighlight(){this._highlight&&(this._highlight.uninstall(),delete this._highlight)}markTargetElements(e,n){var c,u;((c=this._markedElements)==null?void 0:c.callId)!==n&&(this._markedElements=void 0);const s=((u=this._markedElements)==null?void 0:u.elements)||new Set,o=new CustomEvent("__playwright_unmark_target__",{bubbles:!0,cancelable:!0,detail:n,composed:!0});for(const d of s)e.has(d)||d.dispatchEvent(o);const a=new CustomEvent("__playwright_mark_target__",{bubbles:!0,cancelable:!0,detail:n,composed:!0});for(const d of e)s.has(d)||d.dispatchEvent(a);this._markedElements={callId:n,elements:e}}_setupGlobalListenersRemovalDetection(){const e="__playwright_global_listeners_check__";let n=!1;const s=()=>n=!0;this.window.addEventListener(e,s),new MutationObserver(o=>{if(o.some(c=>Array.from(c.addedNodes).includes(this.document.documentElement))&&(n=!1,this.window.dispatchEvent(new CustomEvent(e)),!n)){this.window.addEventListener(e,s);for(const c of this.onGlobalListenersRemoved)c()}}).observe(this.document,{childList:!0})}_setupHitTargetInterceptors(){const e=s=>{var o;return(o=this._hitTargetInterceptor)==null?void 0:o.call(this,s)},n=()=>{for(const s of this._allHitTargetInterceptorEvents)this.window.addEventListener(s,e,{capture:!0,passive:!1})};n(),this.onGlobalListenersRemoved.add(n)}async expect(e,n,s){return n.expression==="to.have.count"||n.expression.endsWith(".array")?this.expectArray(s,n):e?await this.expectSingleElement(e,n):!n.isNot&&n.expression==="to.be.hidden"?{matches:!0}:n.isNot&&n.expression==="to.be.visible"?{matches:!1}:!n.isNot&&n.expression==="to.be.detached"?{matches:!0}:n.isNot&&n.expression==="to.be.attached"?{matches:!1}:n.isNot&&n.expression==="to.be.in.viewport"?{matches:!1}:{matches:n.isNot,missingReceived:!0}}async expectSingleElement(e,n){var o;const s=n.expression;{let a;if(s==="to.have.attribute"){const c=e.hasAttribute(n.expressionArg);a={matches:c,received:c?"attribute present":"attribute not present"}}else if(s==="to.be.checked"){const{checked:c,indeterminate:u}=n.expectedValue;if(u){if(c!==void 0)throw this.createStacklessError("Can't assert indeterminate and checked at the same time");a=this.elementState(e,"indeterminate")}else a=this.elementState(e,c===!1?"unchecked":"checked")}else if(s==="to.be.disabled")a=this.elementState(e,"disabled");else if(s==="to.be.editable")a=this.elementState(e,"editable");else if(s==="to.be.readonly")a=this.elementState(e,"editable"),a.matches=!a.matches;else if(s==="to.be.empty")if(e.nodeName==="INPUT"||e.nodeName==="TEXTAREA"){const c=e.value;a={matches:!c,received:c?"notEmpty":"empty"}}else{const c=(o=e.textContent)==null?void 0:o.trim();a={matches:!c,received:c?"notEmpty":"empty"}}else if(s==="to.be.enabled")a=this.elementState(e,"enabled");else if(s==="to.be.focused"){const c=this._activelyFocused(e).isFocused;a={matches:c,received:c?"focused":"inactive"}}else s==="to.be.hidden"?a=this.elementState(e,"hidden"):s==="to.be.visible"?a=this.elementState(e,"visible"):s==="to.be.attached"?a={matches:!0,received:"attached"}:s==="to.be.detached"&&(a={matches:!1,received:"attached"});if(a){if(a.received==="error:notconnected")throw this.createStacklessError("Element is not connected");return a}}if(s==="to.have.property"){let a=e;const c=n.expressionArg.split(".");for(let p=0;p<c.length-1;p++){if(typeof a!="object"||!(c[p]in a))return{received:void 0,matches:!1};a=a[c[p]]}const u=a[c[c.length-1]],d=deepEquals(u,n.expectedValue);return{received:u,matches:d}}if(s==="to.be.in.viewport"){const a=await this.viewportRatio(e);return{received:`viewport ratio ${a}`,matches:a>0&&a>(n.expectedNumber??0)-1e-9}}if(s==="to.have.values"){if(e=this.retarget(e,"follow-label"),e.nodeName!=="SELECT"||!e.multiple)throw this.createStacklessError("Not a select element with a multiple attribute");const a=[...e.selectedOptions].map(c=>c.value);return a.length!==n.expectedText.length?{received:a,matches:!1}:{received:a,matches:a.map((c,u)=>new ExpectedTextMatcher(n.expectedText[u]).matches(c)).every(Boolean)}}if(s==="to.match.aria"){const a=matchesAriaTree(e,n.expectedValue);return{received:a.received,matches:!!a.matches.length}}{let a;if(s==="to.have.attribute.value"){const c=e.getAttribute(n.expressionArg);if(c===null)return{received:null,matches:!1};a=c}else if(["to.have.class","to.contain.class"].includes(s)){if(!n.expectedText)throw this.createStacklessError("Expected text is not provided for "+s);return{received:e.classList.toString(),matches:new ExpectedTextMatcher(n.expectedText[0]).matchesClassList(this,e.classList,s==="to.contain.class")}}else if(s==="to.have.css")a=this.window.getComputedStyle(e).getPropertyValue(n.expressionArg);else if(s==="to.have.id")a=e.id;else if(s==="to.have.text")a=n.useInnerText?e.innerText:elementText(new Map,e).full;else if(s==="to.have.accessible.name")a=getElementAccessibleName(e,!1);else if(s==="to.have.accessible.description")a=getElementAccessibleDescription(e,!1);else if(s==="to.have.accessible.error.message")a=getElementAccessibleErrorMessage(e);else if(s==="to.have.role")a=getAriaRole(e)||"";else if(s==="to.have.title")a=this.document.title;else if(s==="to.have.url")a=this.document.location.href;else if(s==="to.have.value"){if(e=this.retarget(e,"follow-label"),e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"&&e.nodeName!=="SELECT")throw this.createStacklessError("Not an input element");a=e.value}if(a!==void 0&&n.expectedText){const c=new ExpectedTextMatcher(n.expectedText[0]);return{received:a,matches:c.matches(a)}}}throw this.createStacklessError("Unknown expect matcher: "+s)}expectArray(e,n){const s=n.expression;if(s==="to.have.count"){const d=e.length,p=d===n.expectedNumber;return{received:d,matches:p}}if(!n.expectedText)throw this.createStacklessError("Expected text is not provided for "+s);if(["to.have.class.array","to.contain.class.array"].includes(s)){const d=e.map(y=>y.classList),p=d.map(String);if(d.length!==n.expectedText.length)return{received:p,matches:!1};const g=this._matchSequentially(n.expectedText,d,(y,x)=>y.matchesClassList(this,x,s==="to.contain.class.array"));return{received:p,matches:g}}if(!["to.contain.text.array","to.have.text.array"].includes(s))throw this.createStacklessError("Unknown expect matcher: "+s);const o=e.map(d=>n.useInnerText?d.innerText:elementText(new Map,d).full),a=s!=="to.contain.text.array";if(!(o.length===n.expectedText.length||!a))return{received:o,matches:!1};const u=this._matchSequentially(n.expectedText,o,(d,p)=>d.matches(p));return{received:o,matches:u}}_matchSequentially(e,n,s){const o=e.map(u=>new ExpectedTextMatcher(u));let a=0,c=0;for(;a<o.length&&c<n.length;)s(o[a],n[c])&&++a,++c;return a===o.length}}function oneLine(t){return t.replace(/\n/g,"↵").replace(/\t/g,"⇆")}function cssUnquote(t){if(t=t.substring(1,t.length-1),!t.includes("\\"))return t;const e=[];let n=0;for(;n<t.length;)t[n]==="\\"&&n+1<t.length&&n++,e.push(t[n++]);return e.join("")}function createTextMatcher(t,e){if(t[0]==="/"&&t.lastIndexOf("/")>0){const o=t.lastIndexOf("/"),a=new RegExp(t.substring(1,o),t.substring(o+1));return{matcher:c=>a.test(c.full),kind:"regex"}}const n=e?JSON.parse.bind(JSON):cssUnquote;let s=!1;return t.length>1&&t[0]==='"'&&t[t.length-1]==='"'?(t=n(t),s=!0):e&&t.length>1&&t[0]==='"'&&t[t.length-2]==='"'&&t[t.length-1]==="i"?(t=n(t.substring(0,t.length-1)),s=!1):e&&t.length>1&&t[0]==='"'&&t[t.length-2]==='"'&&t[t.length-1]==="s"?(t=n(t.substring(0,t.length-1)),s=!0):t.length>1&&t[0]==="'"&&t[t.length-1]==="'"&&(t=n(t),s=!0),t=normalizeWhiteSpace(t),s?e?{kind:"strict",matcher:a=>a.normalized===t}:{matcher:a=>!t&&!a.immediate.length?!0:a.immediate.some(c=>normalizeWhiteSpace(c)===t),kind:"strict"}:(t=t.toLowerCase(),{kind:"lax",matcher:o=>o.normalized.toLowerCase().includes(t)})}class ExpectedTextMatcher{constructor(e){if(this._normalizeWhiteSpace=e.normalizeWhiteSpace,this._ignoreCase=e.ignoreCase,this._string=e.matchSubstring?void 0:this.normalize(e.string),this._substring=e.matchSubstring?this.normalize(e.string):void 0,e.regexSource){const n=new Set((e.regexFlags||"").split(""));e.ignoreCase===!1&&n.delete("i"),e.ignoreCase===!0&&n.add("i"),this._regex=new RegExp(e.regexSource,[...n].join(""))}}matches(e){return this._regex||(e=this.normalize(e)),this._string!==void 0?e===this._string:this._substring!==void 0?e.includes(this._substring):this._regex?!!this._regex.test(e):!1}matchesClassList(e,n,s){if(s){if(this._regex)throw e.createStacklessError("Partial matching does not support regular expressions. Please provide a string value.");return this._string.split(/\s+/g).filter(Boolean).every(o=>n.contains(o))}return this.matches(n.toString())}normalize(e){return e&&(this._normalizeWhiteSpace&&(e=normalizeWhiteSpace(e)),this._ignoreCase&&(e=e.toLocaleLowerCase()),e)}}function deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(let s=0;s<t.length;++s)if(!deepEquals(t[s],e[s]))return!1;return!0}if(t instanceof RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let s=0;s<n.length;++s)if(!e.hasOwnProperty(n[s]))return!1;for(const s of n)if(!deepEquals(t[s],e[s]))return!1;return!0}return typeof t=="number"&&typeof e=="number"?isNaN(t)&&isNaN(e):!1}const svgJson={tagName:"svg",children:[{tagName:"defs",children:[{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-gripper"},children:[{tagName:"path",attrs:{d:"M5 3h2v2H5zm0 4h2v2H5zm0 4h2v2H5zm4-8h2v2H9zm0 4h2v2H9zm0 4h2v2H9z"}}]},{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-circle-large-filled"},children:[{tagName:"path",attrs:{d:"M8 1a6.8 6.8 0 0 1 1.86.253 6.899 6.899 0 0 1 3.083 1.805 6.903 6.903 0 0 1 1.804 3.083C14.916 6.738 15 7.357 15 8s-.084 1.262-.253 1.86a6.9 6.9 0 0 1-.704 1.674 7.157 7.157 0 0 1-2.516 2.509 6.966 6.966 0 0 1-1.668.71A6.984 6.984 0 0 1 8 15a6.984 6.984 0 0 1-1.86-.246 7.098 7.098 0 0 1-1.674-.711 7.3 7.3 0 0 1-1.415-1.094 7.295 7.295 0 0 1-1.094-1.415 7.098 7.098 0 0 1-.71-1.675A6.985 6.985 0 0 1 1 8c0-.643.082-1.262.246-1.86a6.968 6.968 0 0 1 .711-1.667 7.156 7.156 0 0 1 2.509-2.516 6.895 6.895 0 0 1 1.675-.704A6.808 6.808 0 0 1 8 1z"}}]},{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-inspect"},children:[{tagName:"path",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1 3l1-1h12l1 1v6h-1V3H2v8h5v1H2l-1-1V3zm14.707 9.707L9 6v9.414l2.707-2.707h4zM10 13V8.414l3.293 3.293h-2L10 13z"}}]},{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-whole-word"},children:[{tagName:"path",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 11H1V13H15V11H16V14H15H1H0V11Z"}},{tagName:"path",attrs:{d:"M6.84048 11H5.95963V10.1406H5.93814C5.555 10.7995 4.99104 11.1289 4.24625 11.1289C3.69839 11.1289 3.26871 10.9839 2.95718 10.6938C2.64924 10.4038 2.49527 10.0189 2.49527 9.53906C2.49527 8.51139 3.10041 7.91341 4.3107 7.74512L5.95963 7.51416C5.95963 6.57959 5.58186 6.1123 4.82632 6.1123C4.16389 6.1123 3.56591 6.33789 3.03238 6.78906V5.88672C3.57307 5.54297 4.19612 5.37109 4.90152 5.37109C6.19416 5.37109 6.84048 6.05501 6.84048 7.42285V11ZM5.95963 8.21777L4.63297 8.40039C4.22476 8.45768 3.91682 8.55973 3.70914 8.70654C3.50145 8.84977 3.39761 9.10579 3.39761 9.47461C3.39761 9.74316 3.4925 9.96338 3.68228 10.1353C3.87564 10.3035 4.13166 10.3877 4.45035 10.3877C4.8872 10.3877 5.24706 10.2355 5.52994 9.93115C5.8164 9.62321 5.95963 9.2347 5.95963 8.76562V8.21777Z"}},{tagName:"path",attrs:{d:"M9.3475 10.2051H9.32601V11H8.44515V2.85742H9.32601V6.4668H9.3475C9.78076 5.73633 10.4146 5.37109 11.2489 5.37109C11.9543 5.37109 12.5057 5.61816 12.9032 6.1123C13.3042 6.60286 13.5047 7.26172 13.5047 8.08887C13.5047 9.00911 13.2809 9.74674 12.8333 10.3018C12.3857 10.8532 11.7734 11.1289 10.9964 11.1289C10.2695 11.1289 9.71989 10.821 9.3475 10.2051ZM9.32601 7.98682V8.75488C9.32601 9.20964 9.47282 9.59635 9.76644 9.91504C10.0636 10.2301 10.4396 10.3877 10.8944 10.3877C11.4279 10.3877 11.8451 10.1836 12.1458 9.77539C12.4502 9.36719 12.6024 8.79964 12.6024 8.07275C12.6024 7.46045 12.4609 6.98063 12.1781 6.6333C11.8952 6.28597 11.512 6.1123 11.0286 6.1123C10.5166 6.1123 10.1048 6.29134 9.7933 6.64941C9.48177 7.00391 9.32601 7.44971 9.32601 7.98682Z"}}]},{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-eye"},children:[{tagName:"path",attrs:{d:"M7.99993 6.00316C9.47266 6.00316 10.6666 7.19708 10.6666 8.66981C10.6666 10.1426 9.47266 11.3365 7.99993 11.3365C6.52715 11.3365 5.33324 10.1426 5.33324 8.66981C5.33324 7.19708 6.52715 6.00316 7.99993 6.00316ZM7.99993 7.00315C7.07946 7.00315 6.33324 7.74935 6.33324 8.66981C6.33324 9.59028 7.07946 10.3365 7.99993 10.3365C8.9204 10.3365 9.6666 9.59028 9.6666 8.66981C9.6666 7.74935 8.9204 7.00315 7.99993 7.00315ZM7.99993 3.66675C11.0756 3.66675 13.7307 5.76675 14.4673 8.70968C14.5344 8.97755 14.3716 9.24908 14.1037 9.31615C13.8358 9.38315 13.5643 9.22041 13.4973 8.95248C12.8713 6.45205 10.6141 4.66675 7.99993 4.66675C5.38454 4.66675 3.12664 6.45359 2.50182 8.95555C2.43491 9.22341 2.16348 9.38635 1.89557 9.31948C1.62766 9.25255 1.46471 8.98115 1.53162 8.71321C2.26701 5.76856 4.9229 3.66675 7.99993 3.66675Z"}}]},{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-symbol-constant"},children:[{tagName:"path",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 6h8v1H4V6zm8 3H4v1h8V9z"}},{tagName:"path",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1 4l1-1h12l1 1v8l-1 1H2l-1-1V4zm1 0v8h12V4H2z"}}]},{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-check"},children:[{tagName:"path",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z"}}]},{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-close"},children:[{tagName:"path",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"}}]},{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-pass"},children:[{tagName:"path",attrs:{d:"M6.27 10.87h.71l4.56-4.56-.71-.71-4.2 4.21-1.92-1.92L4 8.6l2.27 2.27z"}},{tagName:"path",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z"}}]},{tagName:"clipPath",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",id:"icon-gist"},children:[{tagName:"path",attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.57 1.14l3.28 3.3.15.36v9.7l-.5.5h-11l-.5-.5v-13l.5-.5h7.72l.35.14zM10 5h3l-3-3v3zM3 2v12h10V6H9.5L9 5.5V2H3zm2.062 7.533l1.817-1.828L6.17 7 4 9.179v.707l2.171 2.174.707-.707-1.816-1.82zM8.8 7.714l.7-.709 2.189 2.175v.709L9.5 12.062l-.705-.709 1.831-1.82L8.8 7.714z"}}]}]}]},HighlightColors={multiple:"#f6b26b7f",single:"#6fa8dc7f",assert:"#8acae480",action:"#dc6f6f7f"};class NoneTool{cursor(){return"default"}}class InspectTool{constructor(e,n){this._hoveredModel=null,this._hoveredElement=null,this._recorder=e,this._assertVisibility=n}cursor(){return"pointer"}cleanup(){this._hoveredModel=null,this._hoveredElement=null}onClick(e){var n;consumeEvent(e),e.button===0&&(n=this._hoveredModel)!=null&&n.selector&&this._commit(this._hoveredModel.selector,this._hoveredModel)}onPointerDown(e){consumeEvent(e)}onPointerUp(e){consumeEvent(e)}onMouseDown(e){consumeEvent(e)}onMouseUp(e){consumeEvent(e)}onMouseMove(e){var o;consumeEvent(e);let n=this._recorder.deepEventTarget(e);if(n.isConnected||(n=null),this._hoveredElement===n)return;this._hoveredElement=n;let s=null;if(this._hoveredElement){const a=this._recorder.injectedScript.generateSelector(this._hoveredElement,{testIdAttributeName:this._recorder.state.testIdAttributeName,multiple:!1});s={selector:a.selector,elements:a.elements,tooltipText:this._recorder.injectedScript.utils.asLocator(this._recorder.state.language,a.selector),color:this._assertVisibility?HighlightColors.assert:HighlightColors.single}}((o=this._hoveredModel)==null?void 0:o.selector)!==(s==null?void 0:s.selector)&&(this._hoveredModel=s,this._recorder.updateHighlight(s,!0))}onMouseEnter(e){consumeEvent(e)}onMouseLeave(e){consumeEvent(e);const n=this._recorder.injectedScript.window;n.top!==n&&this._recorder.deepEventTarget(e).nodeType===Node.DOCUMENT_NODE&&this._reset(!0)}onKeyDown(e){consumeEvent(e),e.key==="Escape"&&this._assertVisibility&&this._recorder.setMode("recording")}onKeyUp(e){consumeEvent(e)}onScroll(e){this._reset(!1)}_commit(e,n){var s;this._assertVisibility?(this._recorder.recordAction({name:"assertVisible",selector:e,signals:[]}),this._recorder.setMode("recording"),(s=this._recorder.overlay)==null||s.flashToolSucceeded("assertingVisibility")):this._recorder.elementPicked(e,n)}_reset(e){this._hoveredElement=null,this._hoveredModel=null,this._recorder.updateHighlight(null,e)}}class RecordActionTool{constructor(e){this._hoveredModel=null,this._hoveredElement=null,this._activeModel=null,this._expectProgrammaticKeyUp=!1,this._recorder=e,this._performingActions=new e.injectedScript.utils.builtins.Set}cursor(){return"pointer"}cleanup(){this._hoveredModel=null,this._hoveredElement=null,this._activeModel=null,this._expectProgrammaticKeyUp=!1}onClick(e){if(isRangeInput(this._hoveredElement)||e.button===2&&e.type==="auxclick"||this._shouldIgnoreMouseEvent(e)||this._actionInProgress(e)||this._consumedDueToNoModel(e,this._hoveredModel))return;const n=asCheckbox(this._recorder.deepEventTarget(e));if(n){this._performAction({name:n.checked?"check":"uncheck",selector:this._hoveredModel.selector,signals:[]});return}this._cancelPendingClickAction(),e.detail===1&&(this._pendingClickAction={action:{name:"click",selector:this._hoveredModel.selector,position:positionForEvent(e),signals:[],button:buttonForEvent(e),modifiers:modifiersForEvent(e),clickCount:e.detail},timeout:this._recorder.injectedScript.utils.builtins.setTimeout(()=>this._commitPendingClickAction(),200)})}onDblClick(e){isRangeInput(this._hoveredElement)||this._shouldIgnoreMouseEvent(e)||this._actionInProgress(e)||this._consumedDueToNoModel(e,this._hoveredModel)||(this._cancelPendingClickAction(),this._performAction({name:"click",selector:this._hoveredModel.selector,position:positionForEvent(e),signals:[],button:buttonForEvent(e),modifiers:modifiersForEvent(e),clickCount:e.detail}))}_commitPendingClickAction(){this._pendingClickAction&&this._performAction(this._pendingClickAction.action),this._cancelPendingClickAction()}_cancelPendingClickAction(){this._pendingClickAction&&this._recorder.injectedScript.utils.builtins.clearTimeout(this._pendingClickAction.timeout),this._pendingClickAction=void 0}onContextMenu(e){this._shouldIgnoreMouseEvent(e)||this._actionInProgress(e)||this._consumedDueToNoModel(e,this._hoveredModel)||this._performAction({name:"click",selector:this._hoveredModel.selector,position:positionForEvent(e),signals:[],button:"right",modifiers:0,clickCount:0})}onPointerDown(e){this._shouldIgnoreMouseEvent(e)||this._performingActions.size||consumeEvent(e)}onPointerUp(e){this._shouldIgnoreMouseEvent(e)||this._performingActions.size||consumeEvent(e)}onMouseDown(e){this._shouldIgnoreMouseEvent(e)||(this._performingActions.size||consumeEvent(e),this._activeModel=this._hoveredModel)}onMouseUp(e){this._shouldIgnoreMouseEvent(e)||this._performingActions.size||consumeEvent(e)}onMouseMove(e){const n=this._recorder.deepEventTarget(e);this._hoveredElement!==n&&(this._hoveredElement=n,this._updateModelForHoveredElement())}onMouseLeave(e){const n=this._recorder.injectedScript.window;n.top!==n&&this._recorder.deepEventTarget(e).nodeType===Node.DOCUMENT_NODE&&(this._hoveredElement=null,this._updateModelForHoveredElement())}onFocus(e){this._onFocus(!0)}onInput(e){const n=this._recorder.deepEventTarget(e);if(n.nodeName==="INPUT"&&n.type.toLowerCase()==="file"){this._recorder.recordAction({name:"setInputFiles",selector:this._activeModel.selector,signals:[],files:[...n.files||[]].map(s=>s.name)});return}if(isRangeInput(n)){this._recorder.recordAction({name:"fill",selector:this._hoveredModel.selector,signals:[],text:n.value});return}if(["INPUT","TEXTAREA"].includes(n.nodeName)||n.isContentEditable){if(n.nodeName==="INPUT"&&["checkbox","radio"].includes(n.type.toLowerCase())||this._consumedDueWrongTarget(e))return;this._recorder.recordAction({name:"fill",selector:this._activeModel.selector,signals:[],text:n.isContentEditable?n.innerText:n.value})}if(n.nodeName==="SELECT"){const s=n;if(this._actionInProgress(e))return;this._performAction({name:"select",selector:this._activeModel.selector,options:[...s.selectedOptions].map(o=>o.value),signals:[]})}}onKeyDown(e){if(this._shouldGenerateKeyPressFor(e)){if(this._actionInProgress(e)){this._expectProgrammaticKeyUp=!0;return}if(!this._consumedDueWrongTarget(e)){if(e.key===" "){const n=asCheckbox(this._recorder.deepEventTarget(e));if(n){this._performAction({name:n.checked?"uncheck":"check",selector:this._activeModel.selector,signals:[]});return}}this._performAction({name:"press",selector:this._activeModel.selector,signals:[],key:e.key,modifiers:modifiersForEvent(e)})}}}onKeyUp(e){if(this._shouldGenerateKeyPressFor(e)){if(!this._expectProgrammaticKeyUp){consumeEvent(e);return}this._expectProgrammaticKeyUp=!1}}onScroll(e){this._hoveredModel=null,this._hoveredElement=null,this._recorder.updateHighlight(null,!1)}_onFocus(e){const n=deepActiveElement(this._recorder.document);if(e&&n===this._recorder.document.body)return;const s=n?this._recorder.injectedScript.generateSelector(n,{testIdAttributeName:this._recorder.state.testIdAttributeName}):null;this._activeModel=s&&s.selector?{...s,color:HighlightColors.action}:null,e&&(this._hoveredElement=n,this._updateModelForHoveredElement())}_shouldIgnoreMouseEvent(e){const n=this._recorder.deepEventTarget(e),s=n.nodeName;return!!(s==="SELECT"||s==="OPTION"||s==="INPUT"&&["date","range"].includes(n.type))}_actionInProgress(e){const n=e instanceof KeyboardEvent,s=e instanceof MouseEvent||e instanceof PointerEvent;for(const o of this._performingActions)if(n&&o.name==="press"&&e.key===o.key||s&&(o.name==="click"||o.name==="check"||o.name==="uncheck"))return!0;return consumeEvent(e),!1}_consumedDueToNoModel(e,n){return n?!1:(consumeEvent(e),!0)}_consumedDueWrongTarget(e){return this._activeModel&&this._activeModel.elements[0]===this._recorder.deepEventTarget(e)?!1:(consumeEvent(e),!0)}_performAction(e){this._hoveredElement=null,this._hoveredModel=null,this._activeModel=null,this._recorder.updateHighlight(null,!1),this._performingActions.add(e),this._recorder.performAction(e).then(()=>{this._performingActions.delete(e),this._onFocus(!1),this._recorder.injectedScript.isUnderTest&&console.error("Action performed for test: "+JSON.stringify({hovered:this._hoveredModel?this._hoveredModel.selector:null,active:this._activeModel?this._activeModel.selector:null}))})}_shouldGenerateKeyPressFor(e){if(e.key==="Enter"&&(this._recorder.deepEventTarget(e).nodeName==="TEXTAREA"||this._recorder.deepEventTarget(e).isContentEditable)||["Backspace","Delete","AltGraph"].includes(e.key)||e.key==="@"&&e.code==="KeyL")return!1;if(navigator.platform.includes("Mac")){if(e.key==="v"&&e.metaKey)return!1}else if(e.key==="v"&&e.ctrlKey||e.key==="Insert"&&e.shiftKey)return!1;if(["Shift","Control","Meta","Alt","Process"].includes(e.key))return!1;const n=e.ctrlKey||e.altKey||e.metaKey;return e.key.length===1&&!n?!!asCheckbox(this._recorder.deepEventTarget(e)):!0}_updateModelForHoveredElement(){if(this._performingActions.size)return;if(!this._hoveredElement||!this._hoveredElement.isConnected){this._hoveredModel=null,this._hoveredElement=null,this._recorder.updateHighlight(null,!0);return}const{selector:e,elements:n}=this._recorder.injectedScript.generateSelector(this._hoveredElement,{testIdAttributeName:this._recorder.state.testIdAttributeName});this._hoveredModel&&this._hoveredModel.selector===e||(this._hoveredModel=e?{selector:e,elements:n,color:HighlightColors.action}:null,this._recorder.updateHighlight(this._hoveredModel,!0))}}class TextAssertionTool{constructor(e,n){this._hoverHighlight=null,this._action=null,this._recorder=e,this._textCache=new e.injectedScript.utils.builtins.Map,this._kind=n,this._dialog=new Dialog(e)}cursor(){return"pointer"}cleanup(){this._dialog.close(),this._hoverHighlight=null}onClick(e){consumeEvent(e),this._kind==="value"?this._commitAssertValue():this._dialog.isShowing()||this._showDialog()}onMouseDown(e){const n=this._recorder.deepEventTarget(e);this._elementHasValue(n)&&e.preventDefault()}onPointerUp(e){var s;const n=(s=this._hoverHighlight)==null?void 0:s.elements[0];this._kind==="value"&&n&&(n.nodeName==="INPUT"||n.nodeName==="SELECT")&&n.disabled&&this._commitAssertValue()}onMouseMove(e){var s;if(this._dialog.isShowing())return;const n=this._recorder.deepEventTarget(e);if(((s=this._hoverHighlight)==null?void 0:s.elements[0])!==n){if(this._kind==="text"||this._kind==="snapshot")this._hoverHighlight=this._recorder.injectedScript.utils.elementText(this._textCache,n).full?{elements:[n],selector:"",color:HighlightColors.assert}:null;else if(this._elementHasValue(n)){const o=this._recorder.injectedScript.generateSelector(n,{testIdAttributeName:this._recorder.state.testIdAttributeName});this._hoverHighlight={selector:o.selector,elements:o.elements,color:HighlightColors.assert}}else this._hoverHighlight=null;this._recorder.updateHighlight(this._hoverHighlight,!0)}}onKeyDown(e){e.key==="Escape"&&this._recorder.setMode("recording"),consumeEvent(e)}onScroll(e){this._recorder.updateHighlight(this._hoverHighlight,!1)}_elementHasValue(e){return e.nodeName==="TEXTAREA"||e.nodeName==="SELECT"||e.nodeName==="INPUT"&&!["button","image","reset","submit"].includes(e.type)}_generateAction(){var n;this._textCache.clear();const e=(n=this._hoverHighlight)==null?void 0:n.elements[0];if(!e)return null;if(this._kind==="value"){if(!this._elementHasValue(e))return null;const{selector:s}=this._recorder.injectedScript.generateSelector(e,{testIdAttributeName:this._recorder.state.testIdAttributeName});return e.nodeName==="INPUT"&&["checkbox","radio"].includes(e.type.toLowerCase())?{name:"assertChecked",selector:s,signals:[],checked:!e.checked}:{name:"assertValue",selector:s,signals:[],value:e.value}}else if(this._kind==="snapshot"){const s=this._recorder.injectedScript.generateSelector(e,{testIdAttributeName:this._recorder.state.testIdAttributeName,forTextExpect:!0});return this._hoverHighlight={selector:s.selector,elements:s.elements,color:HighlightColors.assert},this._recorder.updateHighlight(this._hoverHighlight,!0),{name:"assertSnapshot",selector:this._hoverHighlight.selector,signals:[],snapshot:this._recorder.injectedScript.ariaSnapshot(e,{mode:"regex"})}}else{const s=this._recorder.injectedScript.generateSelector(e,{testIdAttributeName:this._recorder.state.testIdAttributeName,forTextExpect:!0});return this._hoverHighlight={selector:s.selector,elements:s.elements,color:HighlightColors.assert},this._recorder.updateHighlight(this._hoverHighlight,!0),{name:"assertText",selector:this._hoverHighlight.selector,signals:[],text:this._recorder.injectedScript.utils.elementText(this._textCache,e).normalized,substring:!0}}}_renderValue(e){return(e==null?void 0:e.name)==="assertText"?this._recorder.injectedScript.utils.normalizeWhiteSpace(e.text):(e==null?void 0:e.name)==="assertChecked"?String(e.checked):(e==null?void 0:e.name)==="assertValue"?e.value:(e==null?void 0:e.name)==="assertSnapshot"?e.snapshot:""}_commit(){!this._action||!this._dialog.isShowing()||(this._dialog.close(),this._recorder.recordAction(this._action),this._recorder.setMode("recording"))}_showDialog(){var e,n,s,o;(e=this._hoverHighlight)!=null&&e.elements[0]&&(this._action=this._generateAction(),((n=this._action)==null?void 0:n.name)==="assertText"?this._showTextDialog(this._action):((s=this._action)==null?void 0:s.name)==="assertSnapshot"&&(this._recorder.recordAction(this._action),this._recorder.setMode("recording"),(o=this._recorder.overlay)==null||o.flashToolSucceeded("assertingSnapshot")))}_showTextDialog(e){const n=this._recorder.document.createElement("textarea");n.setAttribute("spellcheck","false"),n.value=this._renderValue(e),n.classList.add("text-editor");const s=()=>{var y;const u=this._recorder.injectedScript.utils.normalizeWhiteSpace(n.value),d=(y=this._hoverHighlight)==null?void 0:y.elements[0];if(!d)return;e.text=u;const p=this._recorder.injectedScript.utils.elementText(this._textCache,d).normalized,g=u&&p.includes(u);n.classList.toggle("does-not-match",!g)};n.addEventListener("input",s);const a=this._dialog.show({label:"Assert that element contains text",body:n,onCommit:()=>this._commit()}),c=this._recorder.highlight.tooltipPosition(this._recorder.highlight.firstBox(),a);this._dialog.moveTo(c.anchorTop,c.anchorLeft),n.focus()}_commitAssertValue(){var n;if(this._kind!=="value")return;const e=this._generateAction();e&&(this._recorder.recordAction(e),this._recorder.setMode("recording"),(n=this._recorder.overlay)==null||n.flashToolSucceeded("assertingValue"))}}class Overlay{constructor(e){this._listeners=[],this._offsetX=0,this._measure={width:0,height:0},this._recorder=e;const n=this._recorder.document;this._overlayElement=n.createElement("x-pw-overlay");const s=n.createElement("x-pw-tools-list");this._overlayElement.appendChild(s),this._dragHandle=n.createElement("x-pw-tool-gripper"),this._dragHandle.appendChild(n.createElement("x-div")),s.appendChild(this._dragHandle),this._recordToggle=this._recorder.document.createElement("x-pw-tool-item"),this._recordToggle.title="Record",this._recordToggle.classList.add("record"),this._recordToggle.appendChild(this._recorder.document.createElement("x-div")),s.appendChild(this._recordToggle),this._pickLocatorToggle=this._recorder.document.createElement("x-pw-tool-item"),this._pickLocatorToggle.title="Pick locator",this._pickLocatorToggle.classList.add("pick-locator"),this._pickLocatorToggle.appendChild(this._recorder.document.createElement("x-div")),s.appendChild(this._pickLocatorToggle),this._assertVisibilityToggle=this._recorder.document.createElement("x-pw-tool-item"),this._assertVisibilityToggle.title="Assert visibility",this._assertVisibilityToggle.classList.add("visibility"),this._assertVisibilityToggle.appendChild(this._recorder.document.createElement("x-div")),s.appendChild(this._assertVisibilityToggle),this._assertTextToggle=this._recorder.document.createElement("x-pw-tool-item"),this._assertTextToggle.title="Assert text",this._assertTextToggle.classList.add("text"),this._assertTextToggle.appendChild(this._recorder.document.createElement("x-div")),s.appendChild(this._assertTextToggle),this._assertValuesToggle=this._recorder.document.createElement("x-pw-tool-item"),this._assertValuesToggle.title="Assert value",this._assertValuesToggle.classList.add("value"),this._assertValuesToggle.appendChild(this._recorder.document.createElement("x-div")),s.appendChild(this._assertValuesToggle),this._assertSnapshotToggle=this._recorder.document.createElement("x-pw-tool-item"),this._assertSnapshotToggle.title="Assert snapshot",this._assertSnapshotToggle.classList.add("snapshot"),this._assertSnapshotToggle.appendChild(this._recorder.document.createElement("x-div")),s.appendChild(this._assertSnapshotToggle),this._updateVisualPosition(),this._refreshListeners()}_refreshListeners(){removeEventListeners(this._listeners),this._listeners=[addEventListener(this._dragHandle,"mousedown",e=>{this._dragState={offsetX:this._offsetX,dragStart:{x:e.clientX,y:0}}}),addEventListener(this._recordToggle,"click",()=>{this._recordToggle.classList.contains("disabled")||this._recorder.setMode(this._recorder.state.mode==="none"||this._recorder.state.mode==="standby"||this._recorder.state.mode==="inspecting"?"recording":"standby")}),addEventListener(this._pickLocatorToggle,"click",()=>{if(this._pickLocatorToggle.classList.contains("disabled"))return;const e={inspecting:"standby",none:"inspecting",standby:"inspecting",recording:"recording-inspecting","recording-inspecting":"recording",assertingText:"recording-inspecting",assertingVisibility:"recording-inspecting",assertingValue:"recording-inspecting",assertingSnapshot:"recording-inspecting"};this._recorder.setMode(e[this._recorder.state.mode])}),addEventListener(this._assertVisibilityToggle,"click",()=>{this._assertVisibilityToggle.classList.contains("disabled")||this._recorder.setMode(this._recorder.state.mode==="assertingVisibility"?"recording":"assertingVisibility")}),addEventListener(this._assertTextToggle,"click",()=>{this._assertTextToggle.classList.contains("disabled")||this._recorder.setMode(this._recorder.state.mode==="assertingText"?"recording":"assertingText")}),addEventListener(this._assertValuesToggle,"click",()=>{this._assertValuesToggle.classList.contains("disabled")||this._recorder.setMode(this._recorder.state.mode==="assertingValue"?"recording":"assertingValue")}),addEventListener(this._assertSnapshotToggle,"click",()=>{this._assertSnapshotToggle.classList.contains("disabled")||this._recorder.setMode(this._recorder.state.mode==="assertingSnapshot"?"recording":"assertingSnapshot")})]}install(){this._recorder.highlight.appendChild(this._overlayElement),this._refreshListeners(),this._updateVisualPosition()}contains(e){return this._recorder.injectedScript.utils.isInsideScope(this._overlayElement,e)}setUIState(e){this._recordToggle.classList.toggle("toggled",e.mode==="recording"||e.mode==="assertingText"||e.mode==="assertingVisibility"||e.mode==="assertingValue"||e.mode==="assertingSnapshot"||e.mode==="recording-inspecting"),this._pickLocatorToggle.classList.toggle("toggled",e.mode==="inspecting"||e.mode==="recording-inspecting"),this._assertVisibilityToggle.classList.toggle("toggled",e.mode==="assertingVisibility"),this._assertVisibilityToggle.classList.toggle("disabled",e.mode==="none"||e.mode==="standby"||e.mode==="inspecting"),this._assertTextToggle.classList.toggle("toggled",e.mode==="assertingText"),this._assertTextToggle.classList.toggle("disabled",e.mode==="none"||e.mode==="standby"||e.mode==="inspecting"),this._assertValuesToggle.classList.toggle("toggled",e.mode==="assertingValue"),this._assertValuesToggle.classList.toggle("disabled",e.mode==="none"||e.mode==="standby"||e.mode==="inspecting"),this._assertSnapshotToggle.classList.toggle("toggled",e.mode==="assertingSnapshot"),this._assertSnapshotToggle.classList.toggle("disabled",e.mode==="none"||e.mode==="standby"||e.mode==="inspecting"),this._offsetX!==e.overlay.offsetX&&(this._offsetX=e.overlay.offsetX,this._updateVisualPosition()),e.mode==="none"?this._hideOverlay():this._showOverlay()}flashToolSucceeded(e){let n;e==="assertingVisibility"?n=this._assertVisibilityToggle:e==="assertingSnapshot"?n=this._assertSnapshotToggle:n=this._assertValuesToggle,n.classList.add("succeeded"),this._recorder.injectedScript.utils.builtins.setTimeout(()=>n.classList.remove("succeeded"),2e3)}_hideOverlay(){this._overlayElement.setAttribute("hidden","true")}_showOverlay(){this._overlayElement.hasAttribute("hidden")&&(this._overlayElement.removeAttribute("hidden"),this._updateVisualPosition())}_updateVisualPosition(){this._measure=this._overlayElement.getBoundingClientRect(),this._overlayElement.style.left=(this._recorder.injectedScript.window.innerWidth-this._measure.width)/2+this._offsetX+"px"}onMouseMove(e){if(!e.buttons)return this._dragState=void 0,!1;if(this._dragState){this._offsetX=this._dragState.offsetX+e.clientX-this._dragState.dragStart.x;const n=(this._recorder.injectedScript.window.innerWidth-this._measure.width)/2-10;return this._offsetX=Math.max(-n,Math.min(n,this._offsetX)),this._updateVisualPosition(),this._recorder.setOverlayState({offsetX:this._offsetX}),consumeEvent(e),!0}return!1}onMouseUp(e){return this._dragState?(consumeEvent(e),!0):!1}onClick(e){return this._dragState?(this._dragState=void 0,consumeEvent(e),!0):!1}onDblClick(e){return!1}}class Recorder{constructor(e){this._listeners=[],this._lastHighlightedSelector=void 0,this._lastHighlightedAriaTemplateJSON="undefined",this.state={mode:"none",testIdAttributeName:"data-testid",language:"javascript",overlay:{offsetX:0}},this._delegate={},this.document=e.document,this.injectedScript=e,this.highlight=e.createHighlight(),this._tools={none:new NoneTool,standby:new NoneTool,inspecting:new InspectTool(this,!1),recording:new RecordActionTool(this),"recording-inspecting":new InspectTool(this,!1),assertingText:new TextAssertionTool(this,"text"),assertingVisibility:new InspectTool(this,!0),assertingValue:new TextAssertionTool(this,"value"),assertingSnapshot:new TextAssertionTool(this,"snapshot")},this._currentTool=this._tools.none,e.window.top===e.window&&(this.overlay=new Overlay(this),this.overlay.setUIState(this.state)),this._stylesheet=new e.window.CSSStyleSheet,this._stylesheet.replaceSync(`
      body[data-pw-cursor=pointer] *, body[data-pw-cursor=pointer] *::after { cursor: pointer !important; }
      body[data-pw-cursor=text] *, body[data-pw-cursor=text] *::after { cursor: text !important; }
    `),this.installListeners(),e.utils.cacheNormalizedWhitespaces(),e.isUnderTest&&console.error("Recorder script ready for test"),e.consoleApi.install()}installListeners(){var s;removeEventListeners(this._listeners),this._listeners=[addEventListener(this.document,"click",o=>this._onClick(o),!0),addEventListener(this.document,"auxclick",o=>this._onClick(o),!0),addEventListener(this.document,"dblclick",o=>this._onDblClick(o),!0),addEventListener(this.document,"contextmenu",o=>this._onContextMenu(o),!0),addEventListener(this.document,"dragstart",o=>this._onDragStart(o),!0),addEventListener(this.document,"input",o=>this._onInput(o),!0),addEventListener(this.document,"keydown",o=>this._onKeyDown(o),!0),addEventListener(this.document,"keyup",o=>this._onKeyUp(o),!0),addEventListener(this.document,"pointerdown",o=>this._onPointerDown(o),!0),addEventListener(this.document,"pointerup",o=>this._onPointerUp(o),!0),addEventListener(this.document,"mousedown",o=>this._onMouseDown(o),!0),addEventListener(this.document,"mouseup",o=>this._onMouseUp(o),!0),addEventListener(this.document,"mousemove",o=>this._onMouseMove(o),!0),addEventListener(this.document,"mouseleave",o=>this._onMouseLeave(o),!0),addEventListener(this.document,"mouseenter",o=>this._onMouseEnter(o),!0),addEventListener(this.document,"focus",o=>this._onFocus(o),!0),addEventListener(this.document,"scroll",o=>this._onScroll(o),!0)],this.highlight.install();let e;const n=()=>{this.highlight.install(),e=this.injectedScript.utils.builtins.setTimeout(n,500)};e=this.injectedScript.utils.builtins.setTimeout(n,500),this._listeners.push(()=>this.injectedScript.utils.builtins.clearTimeout(e)),this.highlight.appendChild(createSvgElement(this.document,svgJson)),(s=this.overlay)==null||s.install(),this.document.adoptedStyleSheets.push(this._stylesheet)}_switchCurrentTool(){var n,s,o;const e=this._tools[this.state.mode];e!==this._currentTool&&((s=(n=this._currentTool).cleanup)==null||s.call(n),this.clearHighlight(),this._currentTool=e,(o=this.injectedScript.document.body)==null||o.setAttribute("data-pw-cursor",e.cursor()))}setUIState(e,n){var a;this._delegate=n,e.actionPoint&&this.state.actionPoint&&e.actionPoint.x===this.state.actionPoint.x&&e.actionPoint.y===this.state.actionPoint.y||!e.actionPoint&&!this.state.actionPoint||(e.actionPoint?this.highlight.showActionPoint(e.actionPoint.x,e.actionPoint.y):this.highlight.hideActionPoint()),this.state=e,this.highlight.setLanguage(e.language),this._switchCurrentTool(),(a=this.overlay)==null||a.setUIState(e);let s="noop";if(e.actionSelector!==this._lastHighlightedSelector){const c=e.actionSelector?entriesForSelectorHighlight(this.injectedScript,e.language,e.actionSelector,this.document):null;s=c!=null&&c.length?c:"clear",this._lastHighlightedSelector=c!=null&&c.length?e.actionSelector:void 0}const o=JSON.stringify(e.ariaTemplate);if(this._lastHighlightedAriaTemplateJSON!==o){const c=e.ariaTemplate?this.injectedScript.getAllByAria(this.document,e.ariaTemplate):[];if(c.length){const u=c.length>1?HighlightColors.multiple:HighlightColors.single;s=c.map(d=>({element:d,color:u})),this._lastHighlightedAriaTemplateJSON=o}else this._lastHighlightedSelector||(s="clear"),this._lastHighlightedAriaTemplateJSON="undefined"}s==="clear"?this.highlight.clearHighlight():s!=="noop"&&this.highlight.updateHighlight(s)}clearHighlight(){this.updateHighlight(null,!1)}_onClick(e){var n,s,o;e.isTrusted&&((n=this.overlay)!=null&&n.onClick(e)||this._ignoreOverlayEvent(e)||(o=(s=this._currentTool).onClick)==null||o.call(s,e))}_onDblClick(e){var n,s,o;e.isTrusted&&((n=this.overlay)!=null&&n.onDblClick(e)||this._ignoreOverlayEvent(e)||(o=(s=this._currentTool).onDblClick)==null||o.call(s,e))}_onContextMenu(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onContextMenu)==null||s.call(n,e))}_onDragStart(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onDragStart)==null||s.call(n,e))}_onPointerDown(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onPointerDown)==null||s.call(n,e))}_onPointerUp(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onPointerUp)==null||s.call(n,e))}_onMouseDown(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onMouseDown)==null||s.call(n,e))}_onMouseUp(e){var n,s,o;e.isTrusted&&((n=this.overlay)!=null&&n.onMouseUp(e)||this._ignoreOverlayEvent(e)||(o=(s=this._currentTool).onMouseUp)==null||o.call(s,e))}_onMouseMove(e){var n,s,o;e.isTrusted&&((n=this.overlay)!=null&&n.onMouseMove(e)||this._ignoreOverlayEvent(e)||(o=(s=this._currentTool).onMouseMove)==null||o.call(s,e))}_onMouseEnter(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onMouseEnter)==null||s.call(n,e))}_onMouseLeave(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onMouseLeave)==null||s.call(n,e))}_onFocus(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onFocus)==null||s.call(n,e))}_onScroll(e){var n,s;e.isTrusted&&(this._lastHighlightedSelector=void 0,this._lastHighlightedAriaTemplateJSON="undefined",this.highlight.hideActionPoint(),(s=(n=this._currentTool).onScroll)==null||s.call(n,e))}_onInput(e){var n,s;this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onInput)==null||s.call(n,e)}_onKeyDown(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onKeyDown)==null||s.call(n,e))}_onKeyUp(e){var n,s;e.isTrusted&&(this._ignoreOverlayEvent(e)||(s=(n=this._currentTool).onKeyUp)==null||s.call(n,e))}updateHighlight(e,n){this._lastHighlightedSelector=void 0,this._lastHighlightedAriaTemplateJSON="undefined",this._updateHighlight(e,n)}_updateHighlight(e,n){var o,a;let s=e==null?void 0:e.tooltipText;s===void 0&&(e!=null&&e.selector)&&(s=this.injectedScript.utils.asLocator(this.state.language,e.selector)),e?this.highlight.updateHighlight(e.elements.map(c=>({element:c,color:e.color,tooltipText:s}))):this.highlight.clearHighlight(),n&&((a=(o=this._delegate).highlightUpdated)==null||a.call(o))}_ignoreOverlayEvent(e){return e.composedPath().some(n=>(n.nodeName||"").toLowerCase()==="x-pw-glass")}deepEventTarget(e){var n;for(const s of e.composedPath())if(!((n=this.overlay)!=null&&n.contains(s)))return s;return e.composedPath()[0]}setMode(e){var n,s;(s=(n=this._delegate).setMode)==null||s.call(n,e)}async performAction(e){var n,s;await((s=(n=this._delegate).performAction)==null?void 0:s.call(n,e).catch(()=>{}))}recordAction(e){var n,s;(s=(n=this._delegate).recordAction)==null||s.call(n,e)}setOverlayState(e){var n,s;(s=(n=this._delegate).setOverlayState)==null||s.call(n,e)}elementPicked(e,n){var o,a;const s=this.injectedScript.ariaSnapshot(n.elements[0]);(a=(o=this._delegate).elementPicked)==null||a.call(o,{selector:e,ariaSnapshot:s})}}class Dialog{constructor(e){this._dialogElement=null,this._recorder=e}isShowing(){return!!this._dialogElement}show(e){const n=this._recorder.document.createElement("x-pw-tool-item");n.title="Accept",n.classList.add("accept"),n.appendChild(this._recorder.document.createElement("x-div")),n.addEventListener("click",()=>e.onCommit());const s=this._recorder.document.createElement("x-pw-tool-item");s.title="Close",s.classList.add("cancel"),s.appendChild(this._recorder.document.createElement("x-div")),s.addEventListener("click",()=>{var u;this.close(),(u=e.onCancel)==null||u.call(e)}),this._dialogElement=this._recorder.document.createElement("x-pw-dialog"),this._keyboardListener=u=>{var d;if(u.key==="Escape"){this.close(),(d=e.onCancel)==null||d.call(e);return}if(u.key==="Enter"&&(u.ctrlKey||u.metaKey)){this._dialogElement&&e.onCommit();return}},this._recorder.document.addEventListener("keydown",this._keyboardListener,!0);const o=this._recorder.document.createElement("x-pw-tools-list"),a=this._recorder.document.createElement("label");a.textContent=e.label,o.appendChild(a),o.appendChild(this._recorder.document.createElement("x-spacer")),o.appendChild(n),o.appendChild(s),this._dialogElement.appendChild(o);const c=this._recorder.document.createElement("x-pw-dialog-body");return c.appendChild(e.body),this._dialogElement.appendChild(c),this._recorder.highlight.appendChild(this._dialogElement),this._dialogElement}moveTo(e,n){this._dialogElement&&(this._dialogElement.style.top=e+"px",this._dialogElement.style.left=n+"px")}close(){this._dialogElement&&(this._dialogElement.remove(),this._recorder.document.removeEventListener("keydown",this._keyboardListener),this._dialogElement=null)}}function deepActiveElement(t){let e=t.activeElement;for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function modifiersForEvent(t){return(t.altKey?1:0)|(t.ctrlKey?2:0)|(t.metaKey?4:0)|(t.shiftKey?8:0)}function buttonForEvent(t){switch(t.which){case 1:return"left";case 2:return"middle";case 3:return"right"}return"left"}function positionForEvent(t){if(t.target.nodeName==="CANVAS")return{x:t.offsetX,y:t.offsetY}}function consumeEvent(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}function asCheckbox(t){if(!t||t.nodeName!=="INPUT")return null;const e=t;return["checkbox","radio"].includes(e.type)?e:null}function isRangeInput(t){return!t||t.nodeName!=="INPUT"?!1:t.type.toLowerCase()==="range"}function addEventListener(t,e,n,s){return t.addEventListener(e,n,s),()=>{t.removeEventListener(e,n,s)}}function removeEventListeners(t){for(const e of t)e();t.splice(0,t.length)}function entriesForSelectorHighlight(t,e,n,s){try{const o=t.parseSelector(n),a=t.querySelectorAll(o,s),c=a.length>1?HighlightColors.multiple:HighlightColors.single,u=t.utils.asLocator(e,n);return a.map((d,p)=>{const g=a.length>1?` [${p+1} of ${a.length}]`:"";return{element:d,color:c,tooltipText:u+g}})}catch{return[]}}function createSvgElement(t,{tagName:e,attrs:n,children:s}){const o=t.createElementNS("http://www.w3.org/2000/svg",e);if(n)for(const[a,c]of Object.entries(n))o.setAttribute(a,c);if(s)for(const a of s)o.appendChild(createSvgElement(t,a));return o}function parseLocator(t,e){t=t.replace(/AriaRole\s*\.\s*([\w]+)/g,(a,c)=>c.toLowerCase()).replace(/(get_by_role|getByRole)\s*\(\s*(?:["'`])([^'"`]+)['"`]/g,(a,c,u)=>`${c}(${u.toLowerCase()}`);const n=[];let s="";for(let a=0;a<t.length;++a){const c=t[a];if(c!=='"'&&c!=="'"&&c!=="`"&&c!=="/"){s+=c;continue}const u=t[a-1]==="r"||t[a]==="/";++a;let d="";for(;a<t.length;){if(t[a]==="\\"){u?(t[a+1]!==c&&(d+=t[a]),++a,d+=t[a]):(++a,t[a]==="n"?d+=`
`:t[a]==="r"?d+="\r":t[a]==="t"?d+="	":d+=t[a]),++a;continue}if(t[a]!==c){d+=t[a++];continue}break}n.push({quote:c,text:d}),s+=(c==="/"?"r":"")+"$"+n.length}s=s.toLowerCase().replace(/get_by_alt_text/g,"getbyalttext").replace(/get_by_test_id/g,"getbytestid").replace(/get_by_([\w]+)/g,"getby$1").replace(/has_not_text/g,"hasnottext").replace(/has_text/g,"hastext").replace(/has_not/g,"hasnot").replace(/frame_locator/g,"framelocator").replace(/content_frame/g,"contentframe").replace(/[{}\s]/g,"").replace(/new\(\)/g,"").replace(/new[\w]+\.[\w]+options\(\)/g,"").replace(/\.set/g,",set").replace(/\.or_\(/g,"or(").replace(/\.and_\(/g,"and(").replace(/:/g,"=").replace(/,re\.ignorecase/g,"i").replace(/,pattern.case_insensitive/g,"i").replace(/,regexoptions.ignorecase/g,"i").replace(/re.compile\(([^)]+)\)/g,"$1").replace(/pattern.compile\(([^)]+)\)/g,"r$1").replace(/newregex\(([^)]+)\)/g,"r$1").replace(/string=/g,"=").replace(/regex=/g,"=").replace(/,,/g,",").replace(/,\)/g,")");const o=n.map(a=>a.quote).filter(a=>"'\"`".includes(a))[0];return{selector:transform(s,n,e),preferredQuote:o}}function countParams(t){return[...t.matchAll(/\$\d+/g)].length}function shiftParams(t,e){return t.replace(/\$(\d+)/g,(n,s)=>`$${s-e}`)}function transform(t,e,n){for(;;){const o=t.match(/filter\(,?(has=|hasnot=|sethas\(|sethasnot\()/);if(!o)break;const a=o.index+o[0].length;let c=0,u=a;for(;u<t.length&&(t[u]==="("?c++:t[u]===")"&&c--,!(c<0));u++);let d=t.substring(0,a),p=0;["sethas(","sethasnot("].includes(o[1])&&(p=1,d=d.replace(/sethas\($/,"has=").replace(/sethasnot\($/,"hasnot="));const g=countParams(t.substring(0,a)),y=shiftParams(t.substring(a,u),g),x=countParams(y),v=e.slice(g,g+x),T=JSON.stringify(transform(y,v,n));t=d.replace(/=$/,"2=")+`$${g+1}`+shiftParams(t.substring(u+p),x-1);const S=e.slice(0,g),E=e.slice(g+x);e=S.concat([{quote:'"',text:T}]).concat(E)}t=t.replace(/\,set([\w]+)\(([^)]+)\)/g,(o,a,c)=>","+a.toLowerCase()+"="+c.toLowerCase()).replace(/framelocator\(([^)]+)\)/g,"$1.internal:control=enter-frame").replace(/contentframe(\(\))?/g,"internal:control=enter-frame").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+),hasnottext=([^),]+)\)/g,"locator($1).internal:has-not-text=$2").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+)\)/g,"$1").replace(/getbyrole\(([^)]+)\)/g,"internal:role=$1").replace(/getbytext\(([^)]+)\)/g,"internal:text=$1").replace(/getbylabel\(([^)]+)\)/g,"internal:label=$1").replace(/getbytestid\(([^)]+)\)/g,`internal:testid=[${n}=$1]`).replace(/getby(placeholder|alt|title)(?:text)?\(([^)]+)\)/g,"internal:attr=[$1=$2]").replace(/first(\(\))?/g,"nth=0").replace(/last(\(\))?/g,"nth=-1").replace(/nth\(([^)]+)\)/g,"nth=$1").replace(/filter\(,?visible=true\)/g,"visible=true").replace(/filter\(,?visible=false\)/g,"visible=false").replace(/filter\(,?hastext=([^)]+)\)/g,"internal:has-text=$1").replace(/filter\(,?hasnottext=([^)]+)\)/g,"internal:has-not-text=$1").replace(/filter\(,?has2=([^)]+)\)/g,"internal:has=$1").replace(/filter\(,?hasnot2=([^)]+)\)/g,"internal:has-not=$1").replace(/,exact=false/g,"").replace(/,exact=true/g,"s").replace(/,includehidden=/g,",include-hidden=").replace(/\,/g,"][");const s=t.split(".");for(let o=0;o<s.length-1;o++)if(s[o]==="internal:control=enter-frame"&&s[o+1].startsWith("nth=")){const[a]=s.splice(o,1);s.splice(o+1,0,a)}return s.map(o=>!o.startsWith("internal:")||o==="internal:control"?o.replace(/\$(\d+)/g,(a,c)=>e[+c-1].text):(o=o.includes("[")?o.replace(/\]/,"")+"]":o,o=o.replace(/(?:r)\$(\d+)(i)?/g,(a,c,u)=>{const d=e[+c-1];return o.startsWith("internal:attr")||o.startsWith("internal:testid")||o.startsWith("internal:role")?escapeForAttributeSelector(new RegExp(d.text),!1)+(u||""):escapeForTextSelector(new RegExp(d.text,u),!1)}).replace(/\$(\d+)(i|s)?/g,(a,c,u)=>{const d=e[+c-1];return o.startsWith("internal:has=")||o.startsWith("internal:has-not=")?d.text:o.startsWith("internal:testid")?escapeForAttributeSelector(d.text,!0):o.startsWith("internal:attr")||o.startsWith("internal:role")?escapeForAttributeSelector(d.text,u==="s"):escapeForTextSelector(d.text,u==="s")}),o)).join(" >> ")}function locatorOrSelectorAsSelector(t,e,n){try{return unsafeLocatorOrSelectorAsSelector(t,e,n)}catch{return""}}function unsafeLocatorOrSelectorAsSelector(t,e,n){try{return parseSelector(e),e}catch{}const{selector:s,preferredQuote:o}=parseLocator(e,n),a=asLocators(t,s,void 0,void 0,o),c=digestForComparison(t,e);return a.some(u=>digestForComparison(t,u)===c)?s:""}function digestForComparison(t,e){return e=e.replace(/\s/g,""),t==="javascript"&&(e=e.replace(/\\?["`]/g,"'").replace(/,{}/g,"")),e}const BrowserFrame=({url:t})=>jsxRuntimeExports.jsxs("div",{className:"browser-frame-header",children:[jsxRuntimeExports.jsxs("div",{style:{whiteSpace:"nowrap"},children:[jsxRuntimeExports.jsx("span",{className:"browser-frame-dot",style:{backgroundColor:"rgb(242, 95, 88)"}}),jsxRuntimeExports.jsx("span",{className:"browser-frame-dot",style:{backgroundColor:"rgb(251, 190, 60)"}}),jsxRuntimeExports.jsx("span",{className:"browser-frame-dot",style:{backgroundColor:"rgb(88, 203, 66)"}})]}),jsxRuntimeExports.jsxs("div",{className:"browser-frame-address-bar",title:t||"about:blank",children:[t||"about:blank",t&&jsxRuntimeExports.jsx(CopyToClipboard,{value:t})]}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"auto"},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"browser-frame-menu-bar"}),jsxRuntimeExports.jsx("span",{className:"browser-frame-menu-bar"}),jsxRuntimeExports.jsx("span",{className:"browser-frame-menu-bar"})]})})]}),ALIAS=Symbol.for("yaml.alias"),DOC=Symbol.for("yaml.document"),MAP=Symbol.for("yaml.map"),PAIR=Symbol.for("yaml.pair"),SCALAR$1=Symbol.for("yaml.scalar"),SEQ=Symbol.for("yaml.seq"),NODE_TYPE=Symbol.for("yaml.node.type"),isAlias=t=>!!t&&typeof t=="object"&&t[NODE_TYPE]===ALIAS,isDocument=t=>!!t&&typeof t=="object"&&t[NODE_TYPE]===DOC,isMap=t=>!!t&&typeof t=="object"&&t[NODE_TYPE]===MAP,isPair=t=>!!t&&typeof t=="object"&&t[NODE_TYPE]===PAIR,isScalar$1=t=>!!t&&typeof t=="object"&&t[NODE_TYPE]===SCALAR$1,isSeq=t=>!!t&&typeof t=="object"&&t[NODE_TYPE]===SEQ;function isCollection$1(t){if(t&&typeof t=="object")switch(t[NODE_TYPE]){case MAP:case SEQ:return!0}return!1}function isNode(t){if(t&&typeof t=="object")switch(t[NODE_TYPE]){case ALIAS:case MAP:case SCALAR$1:case SEQ:return!0}return!1}const hasAnchor=t=>(isScalar$1(t)||isCollection$1(t))&&!!t.anchor,BREAK$1=Symbol("break visit"),SKIP$1=Symbol("skip children"),REMOVE$1=Symbol("remove node");function visit$1(t,e){const n=initVisitor(e);isDocument(t)?visit_(null,t.contents,n,Object.freeze([t]))===REMOVE$1&&(t.contents=null):visit_(null,t,n,Object.freeze([]))}visit$1.BREAK=BREAK$1;visit$1.SKIP=SKIP$1;visit$1.REMOVE=REMOVE$1;function visit_(t,e,n,s){const o=callVisitor(t,e,n,s);if(isNode(o)||isPair(o))return replaceNode(t,s,o),visit_(t,o,n,s);if(typeof o!="symbol"){if(isCollection$1(e)){s=Object.freeze(s.concat(e));for(let a=0;a<e.items.length;++a){const c=visit_(a,e.items[a],n,s);if(typeof c=="number")a=c-1;else{if(c===BREAK$1)return BREAK$1;c===REMOVE$1&&(e.items.splice(a,1),a-=1)}}}else if(isPair(e)){s=Object.freeze(s.concat(e));const a=visit_("key",e.key,n,s);if(a===BREAK$1)return BREAK$1;a===REMOVE$1&&(e.key=null);const c=visit_("value",e.value,n,s);if(c===BREAK$1)return BREAK$1;c===REMOVE$1&&(e.value=null)}}return o}async function visitAsync(t,e){const n=initVisitor(e);isDocument(t)?await visitAsync_(null,t.contents,n,Object.freeze([t]))===REMOVE$1&&(t.contents=null):await visitAsync_(null,t,n,Object.freeze([]))}visitAsync.BREAK=BREAK$1;visitAsync.SKIP=SKIP$1;visitAsync.REMOVE=REMOVE$1;async function visitAsync_(t,e,n,s){const o=await callVisitor(t,e,n,s);if(isNode(o)||isPair(o))return replaceNode(t,s,o),visitAsync_(t,o,n,s);if(typeof o!="symbol"){if(isCollection$1(e)){s=Object.freeze(s.concat(e));for(let a=0;a<e.items.length;++a){const c=await visitAsync_(a,e.items[a],n,s);if(typeof c=="number")a=c-1;else{if(c===BREAK$1)return BREAK$1;c===REMOVE$1&&(e.items.splice(a,1),a-=1)}}}else if(isPair(e)){s=Object.freeze(s.concat(e));const a=await visitAsync_("key",e.key,n,s);if(a===BREAK$1)return BREAK$1;a===REMOVE$1&&(e.key=null);const c=await visitAsync_("value",e.value,n,s);if(c===BREAK$1)return BREAK$1;c===REMOVE$1&&(e.value=null)}}return o}function initVisitor(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function callVisitor(t,e,n,s){var o,a,c,u,d;if(typeof n=="function")return n(t,e,s);if(isMap(e))return(o=n.Map)==null?void 0:o.call(n,t,e,s);if(isSeq(e))return(a=n.Seq)==null?void 0:a.call(n,t,e,s);if(isPair(e))return(c=n.Pair)==null?void 0:c.call(n,t,e,s);if(isScalar$1(e))return(u=n.Scalar)==null?void 0:u.call(n,t,e,s);if(isAlias(e))return(d=n.Alias)==null?void 0:d.call(n,t,e,s)}function replaceNode(t,e,n){const s=e[e.length-1];if(isCollection$1(s))s.items[t]=n;else if(isPair(s))t==="key"?s.key=n:s.value=n;else if(isDocument(s))s.contents=n;else{const o=isAlias(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}const escapeChars={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},escapeTagName=t=>t.replace(/[!,[\]{}]/g,e=>escapeChars[e]);class Directives{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Directives.defaultYaml,e),this.tags=Object.assign({},Directives.defaultTags,n)}clone(){const e=new Directives(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Directives(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Directives.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Directives.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),o=s.shift();switch(o){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[a,c]=s;return this.tags[a]=c,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[a]=s;if(a==="1.1"||a==="1.2")return this.yaml.version=a,!0;{const c=/^\d+\.\d+$/.test(a);return n(6,`Unsupported YAML version ${a}`,c),!1}}default:return n(0,`Unknown directive ${o}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const c=e.slice(2,-1);return c==="!"||c==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),c)}const[,s,o]=e.match(/^(.*!)([^!]*)$/s);o||n(`The ${e} tag has no suffix`);const a=this.tags[s];if(a)try{return a+decodeURIComponent(o)}catch(c){return n(String(c)),null}return s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+escapeTagName(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let o;if(e&&s.length>0&&isNode(e.contents)){const a={};visit$1(e.contents,(c,u)=>{isNode(u)&&u.tag&&(a[u.tag]=!0)}),o=Object.keys(a)}else o=[];for(const[a,c]of s)a==="!!"&&c==="tag:yaml.org,2002:"||(!e||o.some(u=>u.startsWith(c)))&&n.push(`%TAG ${a} ${c}`);return n.join(`
`)}}Directives.defaultYaml={explicit:!1,version:"1.2"};Directives.defaultTags={"!!":"tag:yaml.org,2002:"};function anchorIsValid(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function anchorNames(t){const e=new Set;return visit$1(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function findNewAnchor(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function createNodeAnchors(t,e){const n=[],s=new Map;let o=null;return{onAnchor:a=>{n.push(a),o||(o=anchorNames(t));const c=findNewAnchor(e,o);return o.add(c),c},setAnchors:()=>{for(const a of n){const c=s.get(a);if(typeof c=="object"&&c.anchor&&(isScalar$1(c.node)||isCollection$1(c.node)))c.node.anchor=c.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=a,u}}},sourceObjects:s}}function applyReviver(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0,a=s.length;o<a;++o){const c=s[o],u=applyReviver(t,s,String(o),c);u===void 0?delete s[o]:u!==c&&(s[o]=u)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const a=s.get(o),c=applyReviver(t,s,o,a);c===void 0?s.delete(o):c!==a&&s.set(o,c)}else if(s instanceof Set)for(const o of Array.from(s)){const a=applyReviver(t,s,o,o);a===void 0?s.delete(o):a!==o&&(s.delete(o),s.add(a))}else for(const[o,a]of Object.entries(s)){const c=applyReviver(t,s,o,a);c===void 0?delete s[o]:c!==a&&(s[o]=c)}return t.call(e,n,s)}function toJS(t,e,n){if(Array.isArray(t))return t.map((s,o)=>toJS(s,String(o),n));if(t&&typeof t.toJSON=="function"){if(!n||!hasAnchor(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=a=>{s.res=a,delete n.onCreate};const o=t.toJSON(e,n);return n.onCreate&&n.onCreate(o),o}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class NodeBase{constructor(e){Object.defineProperty(this,NODE_TYPE,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:a}={}){if(!isDocument(e))throw new TypeError("A document argument is required");const c={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},u=toJS(this,"",c);if(typeof o=="function")for(const{count:d,res:p}of c.anchors.values())o(p,d);return typeof a=="function"?applyReviver(a,{"":u},"",u):u}}class Alias extends NodeBase{constructor(e){super(ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return visit$1(e,{Node:(s,o)=>{if(o===this)return visit$1.BREAK;o.anchor===this.source&&(n=o)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:o,maxAliasCount:a}=n,c=this.resolve(o);if(!c){const d=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(d)}let u=s.get(c);if(u||(toJS(c,null,n),u=s.get(c)),!u||u.res===void 0){const d="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(d)}if(a>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=getAliasCount(o,c,s)),u.count*u.aliasCount>a)){const d="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(d)}return u.res}toString(e,n,s){const o=`*${this.source}`;if(e){if(anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(a)}if(e.implicitKey)return`${o} `}return o}}function getAliasCount(t,e,n){if(isAlias(e)){const s=e.resolve(t),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}else if(isCollection$1(e)){let s=0;for(const o of e.items){const a=getAliasCount(t,o,n);a>s&&(s=a)}return s}else if(isPair(e)){const s=getAliasCount(t,e.key,n),o=getAliasCount(t,e.value,n);return Math.max(s,o)}return 1}const isScalarValue=t=>!t||typeof t!="function"&&typeof t!="object";class Scalar extends NodeBase{constructor(e){super(SCALAR$1),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:toJS(this.value,e,n)}toString(){return String(this.value)}}Scalar.BLOCK_FOLDED="BLOCK_FOLDED";Scalar.BLOCK_LITERAL="BLOCK_LITERAL";Scalar.PLAIN="PLAIN";Scalar.QUOTE_DOUBLE="QUOTE_DOUBLE";Scalar.QUOTE_SINGLE="QUOTE_SINGLE";const defaultTagPrefix="tag:yaml.org,2002:";function findTagObject(t,e,n){if(e){const s=n.filter(a=>a.tag===e),o=s.find(a=>!a.format)??s[0];if(!o)throw new Error(`Tag ${e} not found`);return o}return n.find(s=>{var o;return((o=s.identify)==null?void 0:o.call(s,t))&&!s.format})}function createNode(t,e,n){var y,x,v;if(isDocument(t)&&(t=t.contents),isNode(t))return t;if(isPair(t)){const T=(x=(y=n.schema[MAP]).createNode)==null?void 0:x.call(y,n.schema,null,n);return T.items.push(t),T}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:a,schema:c,sourceObjects:u}=n;let d;if(s&&t&&typeof t=="object"){if(d=u.get(t),d)return d.anchor||(d.anchor=o(t)),new Alias(d.anchor);d={anchor:null,node:null},u.set(t,d)}e!=null&&e.startsWith("!!")&&(e=defaultTagPrefix+e.slice(2));let p=findTagObject(t,e,c.tags);if(!p){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const T=new Scalar(t);return d&&(d.node=T),T}p=t instanceof Map?c[MAP]:Symbol.iterator in Object(t)?c[SEQ]:c[MAP]}a&&(a(p),delete n.onTagObj);const g=p!=null&&p.createNode?p.createNode(n.schema,t,n):typeof((v=p==null?void 0:p.nodeClass)==null?void 0:v.from)=="function"?p.nodeClass.from(n.schema,t,n):new Scalar(t);return e?g.tag=e:p.default||(g.tag=p.tag),d&&(d.node=g),g}function collectionFromPath(t,e,n){let s=n;for(let o=e.length-1;o>=0;--o){const a=e[o];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){const c=[];c[a]=s,s=c}else s=new Map([[a,s]])}return createNode(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const isEmptyPath=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Collection extends NodeBase{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>isNode(s)||isPair(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(isEmptyPath(e))this.add(n);else{const[s,...o]=e,a=this.get(s,!0);if(isCollection$1(a))a.addIn(o,n);else if(a===void 0&&this.schema)this.set(s,collectionFromPath(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const o=this.get(n,!0);if(isCollection$1(o))return o.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...o]=e,a=this.get(s,!0);return o.length===0?!n&&isScalar$1(a)?a.value:a:isCollection$1(a)?a.getIn(o,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!isPair(n))return!1;const s=n.value;return s==null||e&&isScalar$1(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const o=this.get(n,!0);return isCollection$1(o)?o.hasIn(s):!1}setIn(e,n){const[s,...o]=e;if(o.length===0)this.set(s,n);else{const a=this.get(s,!0);if(isCollection$1(a))a.setIn(o,n);else if(a===void 0&&this.schema)this.set(s,collectionFromPath(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}}const stringifyComment=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function indentComment(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const lineComment=(t,e,n)=>t.endsWith(`
`)?indentComment(n,e):n.includes(`
`)?`
`+indentComment(n,e):(t.endsWith(" ")?"":" ")+n,FOLD_FLOW="flow",FOLD_BLOCK="block",FOLD_QUOTED="quoted";function foldFlowLines(t,e,n="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:a=20,onFold:c,onOverflow:u}={}){if(!o||o<0)return t;o<a&&(a=0);const d=Math.max(1+a,1+o-e.length);if(t.length<=d)return t;const p=[],g={};let y=o-e.length;typeof s=="number"&&(s>o-Math.max(2,a)?p.push(0):y=o-s);let x,v,T=!1,S=-1,E=-1,C=-1;n===FOLD_BLOCK&&(S=consumeMoreIndentedLines(t,S,e.length),S!==-1&&(y=S+d));for(let M;M=t[S+=1];){if(n===FOLD_QUOTED&&M==="\\"){switch(E=S,t[S+1]){case"x":S+=3;break;case"u":S+=5;break;case"U":S+=9;break;default:S+=1}C=S}if(M===`
`)n===FOLD_BLOCK&&(S=consumeMoreIndentedLines(t,S,e.length)),y=S+e.length+d,x=void 0;else{if(M===" "&&v&&v!==" "&&v!==`
`&&v!=="	"){const O=t[S+1];O&&O!==" "&&O!==`
`&&O!=="	"&&(x=S)}if(S>=y)if(x)p.push(x),y=x+d,x=void 0;else if(n===FOLD_QUOTED){for(;v===" "||v==="	";)v=M,M=t[S+=1],T=!0;const O=S>C+1?S-2:E-1;if(g[O])return t;p.push(O),g[O]=!0,y=O+d,x=void 0}else T=!0}v=M}if(T&&u&&u(),p.length===0)return t;c&&c();let N=t.slice(0,p[0]);for(let M=0;M<p.length;++M){const O=p[M],$=p[M+1]||t.length;O===0?N=`
${e}${t.slice(0,$)}`:(n===FOLD_QUOTED&&g[O]&&(N+=`${t[O]}\\`),N+=`
${e}${t.slice(O+1,$)}`)}return N}function consumeMoreIndentedLines(t,e,n){let s=e,o=e+1,a=t[o];for(;a===" "||a==="	";)if(e<o+n)a=t[++e];else{do a=t[++e];while(a&&a!==`
`);s=e,o=e+1,a=t[o]}return s}const getFoldOptions=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),containsDocumentMarker=t=>/^(%|---|\.\.\.)/m.test(t);function lineLengthOverLimit(t,e,n){if(!e||e<0)return!1;const s=e-n,o=t.length;if(o<=s)return!1;for(let a=0,c=0;a<o;++a)if(t[a]===`
`){if(a-c>s)return!0;if(c=a+1,o-c<=s)return!1}return!0}function doubleQuotedString(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,o=e.options.doubleQuotedMinMultiLineLength,a=e.indent||(containsDocumentMarker(t)?"  ":"");let c="",u=0;for(let d=0,p=n[d];p;p=n[++d])if(p===" "&&n[d+1]==="\\"&&n[d+2]==="n"&&(c+=n.slice(u,d)+"\\ ",d+=1,u=d,p="\\"),p==="\\")switch(n[d+1]){case"u":{c+=n.slice(u,d);const g=n.substr(d+2,4);switch(g){case"0000":c+="\\0";break;case"0007":c+="\\a";break;case"000b":c+="\\v";break;case"001b":c+="\\e";break;case"0085":c+="\\N";break;case"00a0":c+="\\_";break;case"2028":c+="\\L";break;case"2029":c+="\\P";break;default:g.substr(0,2)==="00"?c+="\\x"+g.substr(2):c+=n.substr(d,6)}d+=5,u=d+1}break;case"n":if(s||n[d+2]==='"'||n.length<o)d+=1;else{for(c+=n.slice(u,d)+`

`;n[d+2]==="\\"&&n[d+3]==="n"&&n[d+4]!=='"';)c+=`
`,d+=2;c+=a,n[d+2]===" "&&(c+="\\"),d+=1,u=d+1}break;default:d+=1}return c=u?c+n.slice(u):n,s?c:foldFlowLines(c,a,FOLD_QUOTED,getFoldOptions(e,!1))}function singleQuotedString(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return doubleQuotedString(t,e);const n=e.indent||(containsDocumentMarker(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:foldFlowLines(s,n,FOLD_FLOW,getFoldOptions(e,!1))}function quotedString(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=doubleQuotedString;else{const o=t.includes('"'),a=t.includes("'");o&&!a?s=singleQuotedString:a&&!o?s=doubleQuotedString:s=n?singleQuotedString:doubleQuotedString}return s(t,e)}let blockEndNewlines;try{blockEndNewlines=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{blockEndNewlines=/\n+(?!\n|$)/g}function blockString({comment:t,type:e,value:n},s,o,a){const{blockQuote:c,commentString:u,lineWidth:d}=s.options;if(!c||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return quotedString(n,s);const p=s.indent||(s.forceBlockIndent||containsDocumentMarker(n)?"  ":""),g=c==="literal"?!0:c==="folded"||e===Scalar.BLOCK_FOLDED?!1:e===Scalar.BLOCK_LITERAL?!0:!lineLengthOverLimit(n,d,p.length);if(!n)return g?`|
`:`>
`;let y,x;for(x=n.length;x>0;--x){const F=n[x-1];if(F!==`
`&&F!=="	"&&F!==" ")break}let v=n.substring(x);const T=v.indexOf(`
`);T===-1?y="-":n===v||T!==v.length-1?(y="+",a&&a()):y="",v&&(n=n.slice(0,-v.length),v[v.length-1]===`
`&&(v=v.slice(0,-1)),v=v.replace(blockEndNewlines,`$&${p}`));let S=!1,E,C=-1;for(E=0;E<n.length;++E){const F=n[E];if(F===" ")S=!0;else if(F===`
`)C=E;else break}let N=n.substring(0,C<E?C+1:E);N&&(n=n.substring(N.length),N=N.replace(/\n+/g,`$&${p}`));let O=(g?"|":">")+(S?p?"2":"1":"")+y;if(t&&(O+=" "+u(t.replace(/ ?[\r\n]+/g," ")),o&&o()),g)return n=n.replace(/\n+/g,`$&${p}`),`${O}
${p}${N}${n}${v}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${p}`);const $=foldFlowLines(`${N}${n}${v}`,p,FOLD_BLOCK,getFoldOptions(s,!0));return`${O}
${p}${$}`}function plainString(t,e,n,s){const{type:o,value:a}=t,{actualString:c,implicitKey:u,indent:d,indentStep:p,inFlow:g}=e;if(u&&a.includes(`
`)||g&&/[[\]{},]/.test(a))return quotedString(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return u||g||!a.includes(`
`)?quotedString(a,e):blockString(t,e,n,s);if(!u&&!g&&o!==Scalar.PLAIN&&a.includes(`
`))return blockString(t,e,n,s);if(containsDocumentMarker(a)){if(d==="")return e.forceBlockIndent=!0,blockString(t,e,n,s);if(u&&d===p)return quotedString(a,e)}const y=a.replace(/\n+/g,`$&
${d}`);if(c){const x=S=>{var E;return S.default&&S.tag!=="tag:yaml.org,2002:str"&&((E=S.test)==null?void 0:E.test(y))},{compat:v,tags:T}=e.doc.schema;if(T.some(x)||v!=null&&v.some(x))return quotedString(a,e)}return u?y:foldFlowLines(y,d,FOLD_FLOW,getFoldOptions(e,!1))}function stringifyString(t,e,n,s){const{implicitKey:o,inFlow:a}=e,c=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:u}=t;u!==Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(c.value)&&(u=Scalar.QUOTE_DOUBLE);const d=g=>{switch(g){case Scalar.BLOCK_FOLDED:case Scalar.BLOCK_LITERAL:return o||a?quotedString(c.value,e):blockString(c,e,n,s);case Scalar.QUOTE_DOUBLE:return doubleQuotedString(c.value,e);case Scalar.QUOTE_SINGLE:return singleQuotedString(c.value,e);case Scalar.PLAIN:return plainString(c,e,n,s);default:return null}};let p=d(u);if(p===null){const{defaultKeyType:g,defaultStringType:y}=e.options,x=o&&g||y;if(p=d(x),p===null)throw new Error(`Unsupported default string type ${x}`)}return p}function createStringifyContext(t,e){const n=Object.assign({blockQuote:!0,commentString:stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function getTagObject(t,e){var o;if(e.tag){const a=t.filter(c=>c.tag===e.tag);if(a.length>0)return a.find(c=>c.format===e.format)??a[0]}let n,s;if(isScalar$1(e)){s=e.value;let a=t.filter(c=>{var u;return(u=c.identify)==null?void 0:u.call(c,s)});if(a.length>1){const c=a.filter(u=>u.test);c.length>0&&(a=c)}n=a.find(c=>c.format===e.format)??a.find(c=>!c.format)}else s=e,n=t.find(a=>a.nodeClass&&s instanceof a.nodeClass);if(!n){const a=((o=s==null?void 0:s.constructor)==null?void 0:o.name)??typeof s;throw new Error(`Tag not resolved for ${a} value`)}return n}function stringifyProps(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const o=[],a=(isScalar$1(t)||isCollection$1(t))&&t.anchor;a&&anchorIsValid(a)&&(n.add(a),o.push(`&${a}`));const c=t.tag?t.tag:e.default?null:e.tag;return c&&o.push(s.directives.tagString(c)),o.join(" ")}function stringify$2(t,e,n,s){var d;if(isPair(t))return t.toString(e,n,s);if(isAlias(t)){if(e.doc.directives)return t.toString(e);if((d=e.resolvedAliases)!=null&&d.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let o;const a=isNode(t)?t:e.doc.createNode(t,{onTagObj:p=>o=p});o||(o=getTagObject(e.doc.schema.tags,a));const c=stringifyProps(a,o,e);c.length>0&&(e.indentAtStart=(e.indentAtStart??0)+c.length+1);const u=typeof o.stringify=="function"?o.stringify(a,e,n,s):isScalar$1(a)?stringifyString(a,e,n,s):a.toString(e,n,s);return c?isScalar$1(a)||u[0]==="{"||u[0]==="["?`${c} ${u}`:`${c}
${e.indent}${u}`:u}function stringifyPair({key:t,value:e},n,s,o){const{allNullValues:a,doc:c,indent:u,indentStep:d,options:{commentString:p,indentSeq:g,simpleKeys:y}}=n;let x=isNode(t)&&t.comment||null;if(y){if(x)throw new Error("With simple keys, key nodes cannot have comments");if(isCollection$1(t)||!isNode(t)&&typeof t=="object"){const U="With simple keys, collection cannot be used as a key value";throw new Error(U)}}let v=!y&&(!t||x&&e==null&&!n.inFlow||isCollection$1(t)||(isScalar$1(t)?t.type===Scalar.BLOCK_FOLDED||t.type===Scalar.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!v&&(y||!a),indent:u+d});let T=!1,S=!1,E=stringify$2(t,n,()=>T=!0,()=>S=!0);if(!v&&!n.inFlow&&E.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");v=!0}if(n.inFlow){if(a||e==null)return T&&s&&s(),E===""?"?":v?`? ${E}`:E}else if(a&&!y||e==null&&v)return E=`? ${E}`,x&&!T?E+=lineComment(E,n.indent,p(x)):S&&o&&o(),E;T&&(x=null),v?(x&&(E+=lineComment(E,n.indent,p(x))),E=`? ${E}
${u}:`):(E=`${E}:`,x&&(E+=lineComment(E,n.indent,p(x))));let C,N,M;isNode(e)?(C=!!e.spaceBefore,N=e.commentBefore,M=e.comment):(C=!1,N=null,M=null,e&&typeof e=="object"&&(e=c.createNode(e))),n.implicitKey=!1,!v&&!x&&isScalar$1(e)&&(n.indentAtStart=E.length+1),S=!1,!g&&d.length>=2&&!n.inFlow&&!v&&isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let O=!1;const $=stringify$2(e,n,()=>O=!0,()=>S=!0);let F=" ";if(x||C||N){if(F=C?`
`:"",N){const U=p(N);F+=`
${indentComment(U,n.indent)}`}$===""&&!n.inFlow?F===`
`&&(F=`

`):F+=`
${n.indent}`}else if(!v&&isCollection$1(e)){const U=$[0],D=$.indexOf(`
`),j=D!==-1,W=n.inFlow??e.flow??e.items.length===0;if(j||!W){let H=!1;if(j&&(U==="&"||U==="!")){let P=$.indexOf(" ");U==="&"&&P!==-1&&P<D&&$[P+1]==="!"&&(P=$.indexOf(" ",P+1)),(P===-1||D<P)&&(H=!0)}H||(F=`
${n.indent}`)}}else($===""||$[0]===`
`)&&(F="");return E+=F+$,n.inFlow?O&&s&&s():M&&!O?E+=lineComment(E,n.indent,p(M)):S&&o&&o(),E}function warn(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const MERGE_KEY="<<",merge={identify:t=>t===MERGE_KEY||typeof t=="symbol"&&t.description===MERGE_KEY,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Scalar(Symbol(MERGE_KEY)),{addToJSMap:addMergeToJSMap}),stringify:()=>MERGE_KEY},isMergeKey=(t,e)=>(merge.identify(e)||isScalar$1(e)&&(!e.type||e.type===Scalar.PLAIN)&&merge.identify(e.value))&&(t==null?void 0:t.doc.schema.tags.some(n=>n.tag===merge.tag&&n.default));function addMergeToJSMap(t,e,n){if(n=t&&isAlias(n)?n.resolve(t.doc):n,isSeq(n))for(const s of n.items)mergeValue(t,e,s);else if(Array.isArray(n))for(const s of n)mergeValue(t,e,s);else mergeValue(t,e,n)}function mergeValue(t,e,n){const s=t&&isAlias(n)?n.resolve(t.doc):n;if(!isMap(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,t,Map);for(const[a,c]of o)e instanceof Map?e.has(a)||e.set(a,c):e instanceof Set?e.add(a):Object.prototype.hasOwnProperty.call(e,a)||Object.defineProperty(e,a,{value:c,writable:!0,enumerable:!0,configurable:!0});return e}function addPairToJSMap(t,e,{key:n,value:s}){if(isNode(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(isMergeKey(t,n))addMergeToJSMap(t,e,s);else{const o=toJS(n,"",t);if(e instanceof Map)e.set(o,toJS(s,o,t));else if(e instanceof Set)e.add(o);else{const a=stringifyKey(n,o,t),c=toJS(s,a,t);a in e?Object.defineProperty(e,a,{value:c,writable:!0,enumerable:!0,configurable:!0}):e[a]=c}}return e}function stringifyKey(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(isNode(t)&&(n!=null&&n.doc)){const s=createStringifyContext(n.doc,{});s.anchors=new Set;for(const a of n.anchors.keys())s.anchors.add(a.anchor);s.inFlow=!0,s.inStringifyKey=!0;const o=t.toString(s);if(!n.mapKeyWarned){let a=JSON.stringify(o);a.length>40&&(a=a.substring(0,36)+'..."'),warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(e)}function createPair(t,e,n){const s=createNode(t,void 0,n),o=createNode(e,void 0,n);return new Pair(s,o)}class Pair{constructor(e,n=null){Object.defineProperty(this,NODE_TYPE,{value:PAIR}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return isNode(n)&&(n=n.clone(e)),isNode(s)&&(s=s.clone(e)),new Pair(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return addPairToJSMap(n,s,this)}toString(e,n,s){return e!=null&&e.doc?stringifyPair(this,e,n,s):JSON.stringify(this)}}function stringifyCollection(t,e,n){return(e.inFlow??t.flow?stringifyFlowCollection:stringifyBlockCollection)(t,e,n)}function stringifyBlockCollection({comment:t,items:e},n,{blockItemPrefix:s,flowChars:o,itemIndent:a,onChompKeep:c,onComment:u}){const{indent:d,options:{commentString:p}}=n,g=Object.assign({},n,{indent:a,type:null});let y=!1;const x=[];for(let T=0;T<e.length;++T){const S=e[T];let E=null;if(isNode(S))!y&&S.spaceBefore&&x.push(""),addCommentBefore(n,x,S.commentBefore,y),S.comment&&(E=S.comment);else if(isPair(S)){const N=isNode(S.key)?S.key:null;N&&(!y&&N.spaceBefore&&x.push(""),addCommentBefore(n,x,N.commentBefore,y))}y=!1;let C=stringify$2(S,g,()=>E=null,()=>y=!0);E&&(C+=lineComment(C,a,p(E))),y&&E&&(y=!1),x.push(s+C)}let v;if(x.length===0)v=o.start+o.end;else{v=x[0];for(let T=1;T<x.length;++T){const S=x[T];v+=S?`
${d}${S}`:`
`}}return t?(v+=`
`+indentComment(p(t),d),u&&u()):y&&c&&c(),v}function stringifyFlowCollection({items:t},e,{flowChars:n,itemIndent:s}){const{indent:o,indentStep:a,flowCollectionPadding:c,options:{commentString:u}}=e;s+=a;const d=Object.assign({},e,{indent:s,inFlow:!0,type:null});let p=!1,g=0;const y=[];for(let T=0;T<t.length;++T){const S=t[T];let E=null;if(isNode(S))S.spaceBefore&&y.push(""),addCommentBefore(e,y,S.commentBefore,!1),S.comment&&(E=S.comment);else if(isPair(S)){const N=isNode(S.key)?S.key:null;N&&(N.spaceBefore&&y.push(""),addCommentBefore(e,y,N.commentBefore,!1),N.comment&&(p=!0));const M=isNode(S.value)?S.value:null;M?(M.comment&&(E=M.comment),M.commentBefore&&(p=!0)):S.value==null&&(N!=null&&N.comment)&&(E=N.comment)}E&&(p=!0);let C=stringify$2(S,d,()=>E=null);T<t.length-1&&(C+=","),E&&(C+=lineComment(C,s,u(E))),!p&&(y.length>g||C.includes(`
`))&&(p=!0),y.push(C),g=y.length}const{start:x,end:v}=n;if(y.length===0)return x+v;if(!p){const T=y.reduce((S,E)=>S+E.length+2,2);p=e.options.lineWidth>0&&T>e.options.lineWidth}if(p){let T=x;for(const S of y)T+=S?`
${a}${o}${S}`:`
`;return`${T}
${o}${v}`}else return`${x}${c}${y.join(" ")}${c}${v}`}function addCommentBefore({indent:t,options:{commentString:e}},n,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const a=indentComment(e(s),t);n.push(a.trimStart())}}function findPair(t,e){const n=isScalar$1(e)?e.value:e;for(const s of t)if(isPair(s)&&(s.key===e||s.key===n||isScalar$1(s.key)&&s.key.value===n))return s}class YAMLMap extends Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(MAP,e),this.items=[]}static from(e,n,s){const{keepUndefined:o,replacer:a}=s,c=new this(e),u=(d,p)=>{if(typeof a=="function")p=a.call(n,d,p);else if(Array.isArray(a)&&!a.includes(d))return;(p!==void 0||o)&&c.items.push(createPair(d,p,s))};if(n instanceof Map)for(const[d,p]of n)u(d,p);else if(n&&typeof n=="object")for(const d of Object.keys(n))u(d,n[d]);return typeof e.sortMapEntries=="function"&&c.items.sort(e.sortMapEntries),c}add(e,n){var c;let s;isPair(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Pair(e,e==null?void 0:e.value):s=new Pair(e.key,e.value);const o=findPair(this.items,s.key),a=(c=this.schema)==null?void 0:c.sortMapEntries;if(o){if(!n)throw new Error(`Key ${s.key} already set`);isScalar$1(o.value)&&isScalarValue(s.value)?o.value.value=s.value:o.value=s.value}else if(a){const u=this.items.findIndex(d=>a(s,d)<0);u===-1?this.items.push(s):this.items.splice(u,0,s)}else this.items.push(s)}delete(e){const n=findPair(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=findPair(this.items,e),o=s==null?void 0:s.value;return(!n&&isScalar$1(o)?o.value:o)??void 0}has(e){return!!findPair(this.items,e)}set(e,n){this.add(new Pair(e,n),!0)}toJSON(e,n,s){const o=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(o);for(const a of this.items)addPairToJSMap(n,o,a);return o}toString(e,n,s){if(!e)return JSON.stringify(this);for(const o of this.items)if(!isPair(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const map={collection:"map",default:!0,nodeClass:YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return isMap(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>YAMLMap.from(t,e,n)};class YAMLSeq extends Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=asItemIndex(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=asItemIndex(e);if(typeof s!="number")return;const o=this.items[s];return!n&&isScalar$1(o)?o.value:o}has(e){const n=asItemIndex(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=asItemIndex(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[s];isScalar$1(o)&&isScalarValue(n)?o.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let o=0;for(const a of this.items)s.push(toJS(a,String(o++),n));return s}toString(e,n,s){return e?stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:o}=s,a=new this(e);if(n&&Symbol.iterator in Object(n)){let c=0;for(let u of n){if(typeof o=="function"){const d=n instanceof Set?u:String(c++);u=o.call(n,d,u)}a.items.push(createNode(u,void 0,s))}}return a}}function asItemIndex(t){let e=isScalar$1(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const seq={collection:"seq",default:!0,nodeClass:YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return isSeq(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>YAMLSeq.from(t,e,n)},string={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),stringifyString(t,e,n,s)}},nullTag={identify:t=>t==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Scalar(null),stringify:({source:t},e)=>typeof t=="string"&&nullTag.test.test(t)?t:e.options.nullStr},boolTag={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&boolTag.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function stringifyNumber({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const o=typeof s=="number"?s:Number(s);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";let a=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let c=a.indexOf(".");c<0&&(c=a.length,a+=".");let u=e-(a.length-c-1);for(;u-- >0;)a+="0"}return a}const floatNaN$1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp$1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():stringifyNumber(t)}},float$1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Scalar(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:stringifyNumber},intIdentify$2=t=>typeof t=="bigint"||Number.isInteger(t),intResolve$1=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function intStringify$1(t,e,n){const{value:s}=t;return intIdentify$2(s)&&s>=0?n+s.toString(e):stringifyNumber(t)}const intOct$1={identify:t=>intIdentify$2(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>intResolve$1(t,2,8,n),stringify:t=>intStringify$1(t,8,"0o")},int$1={identify:intIdentify$2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>intResolve$1(t,0,10,n),stringify:stringifyNumber},intHex$1={identify:t=>intIdentify$2(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>intResolve$1(t,2,16,n),stringify:t=>intStringify$1(t,16,"0x")},schema$2=[map,seq,string,nullTag,boolTag,intOct$1,int$1,intHex$1,floatNaN$1,floatExp$1,float$1];function intIdentify$1(t){return typeof t=="bigint"||Number.isInteger(t)}const stringifyJSON=({value:t})=>JSON.stringify(t),jsonScalars=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:stringifyJSON},{identify:t=>t==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:stringifyJSON},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:stringifyJSON},{identify:intIdentify$1,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>intIdentify$1(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:stringifyJSON}],jsonError={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},schema$1=[map,seq].concat(jsonScalars,jsonError),binary={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let o=0;o<n.length;++o)s[o]=n.charCodeAt(o);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,o,a){const c=n;let u;if(typeof Buffer=="function")u=c instanceof Buffer?c.toString("base64"):Buffer.from(c.buffer).toString("base64");else if(typeof btoa=="function"){let d="";for(let p=0;p<c.length;++p)d+=String.fromCharCode(c[p]);u=btoa(d)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Scalar.BLOCK_LITERAL),e!==Scalar.QUOTE_DOUBLE){const d=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),p=Math.ceil(u.length/d),g=new Array(p);for(let y=0,x=0;y<p;++y,x+=d)g[y]=u.substr(x,d);u=g.join(e===Scalar.BLOCK_LITERAL?`
`:" ")}return stringifyString({comment:t,type:e,value:u},s,o,a)}};function resolvePairs(t,e){if(isSeq(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!isPair(s)){if(isMap(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const o=s.items[0]||new Pair(new Scalar(null));if(s.commentBefore&&(o.key.commentBefore=o.key.commentBefore?`${s.commentBefore}
${o.key.commentBefore}`:s.commentBefore),s.comment){const a=o.value??o.key;a.comment=a.comment?`${s.comment}
${a.comment}`:s.comment}s=o}t.items[n]=isPair(s)?s:new Pair(s)}}else e("Expected a sequence for this tag");return t}function createPairs(t,e,n){const{replacer:s}=n,o=new YAMLSeq(t);o.tag="tag:yaml.org,2002:pairs";let a=0;if(e&&Symbol.iterator in Object(e))for(let c of e){typeof s=="function"&&(c=s.call(e,String(a++),c));let u,d;if(Array.isArray(c))if(c.length===2)u=c[0],d=c[1];else throw new TypeError(`Expected [key, value] tuple: ${c}`);else if(c&&c instanceof Object){const p=Object.keys(c);if(p.length===1)u=p[0],d=c[u];else throw new TypeError(`Expected tuple with one key, not ${p.length} keys`)}else u=c;o.items.push(createPair(u,d,n))}return o}const pairs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:resolvePairs,createNode:createPairs};class YAMLOMap extends YAMLSeq{constructor(){super(),this.add=YAMLMap.prototype.add.bind(this),this.delete=YAMLMap.prototype.delete.bind(this),this.get=YAMLMap.prototype.get.bind(this),this.has=YAMLMap.prototype.has.bind(this),this.set=YAMLMap.prototype.set.bind(this),this.tag=YAMLOMap.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const o of this.items){let a,c;if(isPair(o)?(a=toJS(o.key,"",n),c=toJS(o.value,a,n)):a=toJS(o,"",n),s.has(a))throw new Error("Ordered maps must not include duplicate keys");s.set(a,c)}return s}static from(e,n,s){const o=createPairs(e,n,s),a=new this;return a.items=o.items,a}}YAMLOMap.tag="tag:yaml.org,2002:omap";const omap={collection:"seq",identify:t=>t instanceof Map,nodeClass:YAMLOMap,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=resolvePairs(t,e),s=[];for(const{key:o}of n.items)isScalar$1(o)&&(s.includes(o.value)?e(`Ordered maps must not include duplicate keys: ${o.value}`):s.push(o.value));return Object.assign(new YAMLOMap,n)},createNode:(t,e,n)=>YAMLOMap.from(t,e,n)};function boolStringify({value:t,source:e},n){return e&&(t?trueTag:falseTag).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const trueTag={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Scalar(!0),stringify:boolStringify},falseTag={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Scalar(!1),stringify:boolStringify},floatNaN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():stringifyNumber(t)}},float={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Scalar(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:stringifyNumber},intIdentify=t=>typeof t=="bigint"||Number.isInteger(t);function intResolve(t,e,n,{intAsBigInt:s}){const o=t[0];if((o==="-"||o==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const c=BigInt(t);return o==="-"?BigInt(-1)*c:c}const a=parseInt(t,n);return o==="-"?-1*a:a}function intStringify(t,e,n){const{value:s}=t;if(intIdentify(s)){const o=s.toString(e);return s<0?"-"+n+o.substr(1):n+o}return stringifyNumber(t)}const intBin={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>intResolve(t,2,2,n),stringify:t=>intStringify(t,2,"0b")},intOct={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>intResolve(t,1,8,n),stringify:t=>intStringify(t,8,"0")},int={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>intResolve(t,0,10,n),stringify:stringifyNumber},intHex={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>intResolve(t,2,16,n),stringify:t=>intStringify(t,16,"0x")};class YAMLSet extends YAMLMap{constructor(e){super(e),this.tag=YAMLSet.tag}add(e){let n;isPair(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Pair(e.key,null):n=new Pair(e,null),findPair(this.items,n.key)||this.items.push(n)}get(e,n){const s=findPair(this.items,e);return!n&&isPair(s)?isScalar$1(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=findPair(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:o}=s,a=new this(e);if(n&&Symbol.iterator in Object(n))for(let c of n)typeof o=="function"&&(c=o.call(n,c,c)),a.items.push(createPair(c,null,s));return a}}YAMLSet.tag="tag:yaml.org,2002:set";const set={collection:"map",identify:t=>t instanceof Set,nodeClass:YAMLSet,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>YAMLSet.from(t,e,n),resolve(t,e){if(isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new YAMLSet,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function parseSexagesimal(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,o=c=>e?BigInt(c):Number(c),a=s.replace(/_/g,"").split(":").reduce((c,u)=>c*o(60)+o(u),o(0));return n==="-"?o(-1)*a:a}function stringifySexagesimal(t){let{value:e}=t,n=c=>c;if(typeof e=="bigint")n=c=>BigInt(c);else if(isNaN(e)||!isFinite(e))return stringifyNumber(t);let s="";e<0&&(s="-",e*=n(-1));const o=n(60),a=[e%o];return e<60?a.unshift(0):(e=(e-a[0])/o,a.unshift(e%o),e>=60&&(e=(e-a[0])/o,a.unshift(e))),s+a.map(c=>String(c).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const intTime={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>parseSexagesimal(t,n),stringify:stringifySexagesimal},floatTime={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>parseSexagesimal(t,!1),stringify:stringifySexagesimal},timestamp={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(timestamp.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,o,a,c,u]=e.map(Number),d=e[7]?Number((e[7]+"00").substr(1,3)):0;let p=Date.UTC(n,s-1,o,a||0,c||0,u||0,d);const g=e[8];if(g&&g!=="Z"){let y=parseSexagesimal(g,!1);Math.abs(y)<30&&(y*=60),p-=6e4*y}return new Date(p)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},schema=[map,seq,string,nullTag,trueTag,falseTag,intBin,intOct,int,intHex,floatNaN,floatExp,float,binary,merge,omap,pairs,set,intTime,floatTime,timestamp],schemas=new Map([["core",schema$2],["failsafe",[map,seq,string]],["json",schema$1],["yaml11",schema],["yaml-1.1",schema]]),tagsByName={binary,bool:boolTag,float:float$1,floatExp:floatExp$1,floatNaN:floatNaN$1,floatTime,int:int$1,intHex:intHex$1,intOct:intOct$1,intTime,map,merge,null:nullTag,omap,pairs,seq,set,timestamp},coreKnownTags={"tag:yaml.org,2002:binary":binary,"tag:yaml.org,2002:merge":merge,"tag:yaml.org,2002:omap":omap,"tag:yaml.org,2002:pairs":pairs,"tag:yaml.org,2002:set":set,"tag:yaml.org,2002:timestamp":timestamp};function getTags(t,e,n){const s=schemas.get(e);if(s&&!t)return n&&!s.includes(merge)?s.concat(merge):s.slice();let o=s;if(!o)if(Array.isArray(t))o=[];else{const a=Array.from(schemas.keys()).filter(c=>c!=="yaml11").map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${a} or define customTags array`)}if(Array.isArray(t))for(const a of t)o=o.concat(a);else typeof t=="function"&&(o=t(o.slice()));return n&&(o=o.concat(merge)),o.reduce((a,c)=>{const u=typeof c=="string"?tagsByName[c]:c;if(!u){const d=JSON.stringify(c),p=Object.keys(tagsByName).map(g=>JSON.stringify(g)).join(", ");throw new Error(`Unknown custom tag ${d}; use one of ${p}`)}return a.includes(u)||a.push(u),a},[])}const sortMapEntriesByKey=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Schema{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:o,schema:a,sortMapEntries:c,toStringDefaults:u}){this.compat=Array.isArray(e)?getTags(e,"compat"):e?getTags(null,e):null,this.name=typeof a=="string"&&a||"core",this.knownTags=o?coreKnownTags:{},this.tags=getTags(n,this.name,s),this.toStringOptions=u??null,Object.defineProperty(this,MAP,{value:map}),Object.defineProperty(this,SCALAR$1,{value:string}),Object.defineProperty(this,SEQ,{value:seq}),this.sortMapEntries=typeof c=="function"?c:c===!0?sortMapEntriesByKey:null}clone(){const e=Object.create(Schema.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function stringifyDocument(t,e){var d;const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const p=t.directives.toString(t);p?(n.push(p),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const o=createStringifyContext(t,e),{commentString:a}=o.options;if(t.commentBefore){n.length!==1&&n.unshift("");const p=a(t.commentBefore);n.unshift(indentComment(p,""))}let c=!1,u=null;if(t.contents){if(isNode(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const y=a(t.contents.commentBefore);n.push(indentComment(y,""))}o.forceBlockIndent=!!t.comment,u=t.contents.comment}const p=u?void 0:()=>c=!0;let g=stringify$2(t.contents,o,()=>u=null,p);u&&(g+=lineComment(g,"",a(u))),(g[0]==="|"||g[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${g}`:n.push(g)}else n.push(stringify$2(t.contents,o));if((d=t.directives)!=null&&d.docEnd)if(t.comment){const p=a(t.comment);p.includes(`
`)?(n.push("..."),n.push(indentComment(p,""))):n.push(`... ${p}`)}else n.push("...");else{let p=t.comment;p&&c&&(p=p.replace(/^\n+/,"")),p&&((!c||u)&&n[n.length-1]!==""&&n.push(""),n.push(indentComment(a(p),"")))}return n.join(`
`)+`
`}class Document{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,NODE_TYPE,{value:DOC});let o=null;typeof n=="function"||Array.isArray(n)?o=n:s===void 0&&n&&(s=n,n=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=a;let{version:c}=a;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(c=this.directives.yaml.version)):this.directives=new Directives({version:c}),this.setSchema(c,s),this.contents=e===void 0?null:this.createNode(e,o,s)}clone(){const e=Object.create(Document.prototype,{[NODE_TYPE]:{value:DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){assertCollection(this.contents)&&this.contents.add(e)}addIn(e,n){assertCollection(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=anchorNames(this);e.anchor=!n||s.has(n)?findNewAnchor(n||"a",s):n}return new Alias(e.anchor)}createNode(e,n,s){let o;if(typeof n=="function")e=n.call({"":e},"",e),o=n;else if(Array.isArray(n)){const E=N=>typeof N=="number"||N instanceof String||N instanceof Number,C=n.filter(E).map(String);C.length>0&&(n=n.concat(C)),o=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:a,anchorPrefix:c,flow:u,keepUndefined:d,onTagObj:p,tag:g}=s??{},{onAnchor:y,setAnchors:x,sourceObjects:v}=createNodeAnchors(this,c||"a"),T={aliasDuplicateObjects:a??!0,keepUndefined:d??!1,onAnchor:y,onTagObj:p,replacer:o,schema:this.schema,sourceObjects:v},S=createNode(e,g,T);return u&&isCollection$1(S)&&(S.flow=!0),x(),S}createPair(e,n,s={}){const o=this.createNode(e,null,s),a=this.createNode(n,null,s);return new Pair(o,a)}delete(e){return assertCollection(this.contents)?this.contents.delete(e):!1}deleteIn(e){return isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):assertCollection(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return isCollection$1(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return isEmptyPath(e)?!n&&isScalar$1(this.contents)?this.contents.value:this.contents:isCollection$1(this.contents)?this.contents.getIn(e,n):void 0}has(e){return isCollection$1(this.contents)?this.contents.has(e):!1}hasIn(e){return isEmptyPath(e)?this.contents!==void 0:isCollection$1(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=collectionFromPath(this.schema,[e],n):assertCollection(this.contents)&&this.contents.set(e,n)}setIn(e,n){isEmptyPath(e)?this.contents=n:this.contents==null?this.contents=collectionFromPath(this.schema,Array.from(e),n):assertCollection(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Directives({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Directives({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const o=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${o}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new Schema(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:o,onAnchor:a,reviver:c}={}){const u={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof o=="number"?o:100},d=toJS(this.contents,n??"",u);if(typeof a=="function")for(const{count:p,res:g}of u.anchors.values())a(g,p);return typeof c=="function"?applyReviver(c,{"":d},"",d):d}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return stringifyDocument(this,e)}}function assertCollection(t){if(isCollection$1(t))return!0;throw new Error("Expected a YAML collection as document contents")}class YAMLError extends Error{constructor(e,n,s,o){super(),this.name=e,this.code=s,this.message=o,this.pos=n}}class YAMLParseError extends YAMLError{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class YAMLWarning extends YAMLError{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const prettifyError=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(u=>e.linePos(u));const{line:s,col:o}=n.linePos[0];n.message+=` at line ${s}, column ${o}`;let a=o-1,c=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(a>=60&&c.length>80){const u=Math.min(a-39,c.length-79);c="…"+c.substring(u),a-=u-1}if(c.length>80&&(c=c.substring(0,79)+"…"),s>1&&/^ *$/.test(c.substring(0,a))){let u=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);u.length>80&&(u=u.substring(0,79)+`…
`),c=u+c}if(/[^ ]/.test(c)){let u=1;const d=n.linePos[1];d&&d.line===s&&d.col>o&&(u=Math.max(1,Math.min(d.col-o,80-a)));const p=" ".repeat(a)+"^".repeat(u);n.message+=`:

${c}
${p}
`}};function resolveProps(t,{flow:e,indicator:n,next:s,offset:o,onError:a,parentIndent:c,startOnNewline:u}){let d=!1,p=u,g=u,y="",x="",v=!1,T=!1,S=null,E=null,C=null,N=null,M=null,O=null,$=null;for(const D of t)switch(T&&(D.type!=="space"&&D.type!=="newline"&&D.type!=="comma"&&a(D.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),T=!1),S&&(p&&D.type!=="comment"&&D.type!=="newline"&&a(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),S=null),D.type){case"space":!e&&(n!=="doc-start"||(s==null?void 0:s.type)!=="flow-collection")&&D.source.includes("	")&&(S=D),g=!0;break;case"comment":{g||a(D,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const j=D.source.substring(1)||" ";y?y+=x+j:y=j,x="",p=!1;break}case"newline":p?y?y+=D.source:d=!0:x+=D.source,p=!0,v=!0,(E||C)&&(N=D),g=!0;break;case"anchor":E&&a(D,"MULTIPLE_ANCHORS","A node can have at most one anchor"),D.source.endsWith(":")&&a(D.offset+D.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),E=D,$===null&&($=D.offset),p=!1,g=!1,T=!0;break;case"tag":{C&&a(D,"MULTIPLE_TAGS","A node can have at most one tag"),C=D,$===null&&($=D.offset),p=!1,g=!1,T=!0;break}case n:(E||C)&&a(D,"BAD_PROP_ORDER",`Anchors and tags must be after the ${D.source} indicator`),O&&a(D,"UNEXPECTED_TOKEN",`Unexpected ${D.source} in ${e??"collection"}`),O=D,p=n==="seq-item-ind"||n==="explicit-key-ind",g=!1;break;case"comma":if(e){M&&a(D,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),M=D,p=!1,g=!1;break}default:a(D,"UNEXPECTED_TOKEN",`Unexpected ${D.type} token`),p=!1,g=!1}const F=t[t.length-1],U=F?F.offset+F.source.length:o;return T&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&a(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),S&&(p&&S.indent<=c||(s==null?void 0:s.type)==="block-map"||(s==null?void 0:s.type)==="block-seq")&&a(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:M,found:O,spaceBefore:d,comment:y,hasNewline:v,anchor:E,tag:C,newlineAfterProp:N,end:U,start:$??U}}function containsNewline(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(containsNewline(e.key)||containsNewline(e.value))return!0}return!1;default:return!0}}function flowIndentCheck(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&containsNewline(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function mapIncludes(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const o=typeof s=="function"?s:(a,c)=>a===c||isScalar$1(a)&&isScalar$1(c)&&a.value===c.value;return e.some(a=>o(a.key,n))}const startColMsg="All mapping items must start at the same column";function resolveBlockMap({composeNode:t,composeEmptyNode:e},n,s,o,a){var g;const c=(a==null?void 0:a.nodeClass)??YAMLMap,u=new c(n.schema);n.atRoot&&(n.atRoot=!1);let d=s.offset,p=null;for(const y of s.items){const{start:x,key:v,sep:T,value:S}=y,E=resolveProps(x,{indicator:"explicit-key-ind",next:v??(T==null?void 0:T[0]),offset:d,onError:o,parentIndent:s.indent,startOnNewline:!0}),C=!E.found;if(C){if(v&&(v.type==="block-seq"?o(d,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in v&&v.indent!==s.indent&&o(d,"BAD_INDENT",startColMsg)),!E.anchor&&!E.tag&&!T){p=E.end,E.comment&&(u.comment?u.comment+=`
`+E.comment:u.comment=E.comment);continue}(E.newlineAfterProp||containsNewline(v))&&o(v??x[x.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((g=E.found)==null?void 0:g.indent)!==s.indent&&o(d,"BAD_INDENT",startColMsg);n.atKey=!0;const N=E.end,M=v?t(n,v,E,o):e(n,N,x,null,E,o);n.schema.compat&&flowIndentCheck(s.indent,v,o),n.atKey=!1,mapIncludes(n,u.items,M)&&o(N,"DUPLICATE_KEY","Map keys must be unique");const O=resolveProps(T??[],{indicator:"map-value-ind",next:S,offset:M.range[2],onError:o,parentIndent:s.indent,startOnNewline:!v||v.type==="block-scalar"});if(d=O.end,O.found){C&&((S==null?void 0:S.type)==="block-map"&&!O.hasNewline&&o(d,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&E.start<O.found.offset-1024&&o(M.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const $=S?t(n,S,O,o):e(n,d,T,null,O,o);n.schema.compat&&flowIndentCheck(s.indent,S,o),d=$.range[2];const F=new Pair(M,$);n.options.keepSourceTokens&&(F.srcToken=y),u.items.push(F)}else{C&&o(M.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),O.comment&&(M.comment?M.comment+=`
`+O.comment:M.comment=O.comment);const $=new Pair(M);n.options.keepSourceTokens&&($.srcToken=y),u.items.push($)}}return p&&p<d&&o(p,"IMPOSSIBLE","Map comment with trailing content"),u.range=[s.offset,d,p??d],u}function resolveBlockSeq({composeNode:t,composeEmptyNode:e},n,s,o,a){const c=(a==null?void 0:a.nodeClass)??YAMLSeq,u=new c(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=s.offset,p=null;for(const{start:g,value:y}of s.items){const x=resolveProps(g,{indicator:"seq-item-ind",next:y,offset:d,onError:o,parentIndent:s.indent,startOnNewline:!0});if(!x.found)if(x.anchor||x.tag||y)y&&y.type==="block-seq"?o(x.end,"BAD_INDENT","All sequence items must start at the same column"):o(d,"MISSING_CHAR","Sequence item without - indicator");else{p=x.end,x.comment&&(u.comment=x.comment);continue}const v=y?t(n,y,x,o):e(n,x.end,g,null,x,o);n.schema.compat&&flowIndentCheck(s.indent,y,o),d=v.range[2],u.items.push(v)}return u.range=[s.offset,d,p??d],u}function resolveEnd(t,e,n,s){let o="";if(t){let a=!1,c="";for(const u of t){const{source:d,type:p}=u;switch(p){case"space":a=!0;break;case"comment":{n&&!a&&s(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=d.substring(1)||" ";o?o+=c+g:o=g,c="";break}case"newline":o&&(c+=d),a=!0;break;default:s(u,"UNEXPECTED_TOKEN",`Unexpected ${p} at node end`)}e+=d.length}}return{comment:o,offset:e}}const blockMsg="Block collections are not allowed within flow collections",isBlock=t=>t&&(t.type==="block-map"||t.type==="block-seq");function resolveFlowCollection({composeNode:t,composeEmptyNode:e},n,s,o,a){const c=s.start.source==="{",u=c?"flow map":"flow sequence",d=(a==null?void 0:a.nodeClass)??(c?YAMLMap:YAMLSeq),p=new d(n.schema);p.flow=!0;const g=n.atRoot;g&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let y=s.offset+s.start.source.length;for(let E=0;E<s.items.length;++E){const C=s.items[E],{start:N,key:M,sep:O,value:$}=C,F=resolveProps(N,{flow:u,indicator:"explicit-key-ind",next:M??(O==null?void 0:O[0]),offset:y,onError:o,parentIndent:s.indent,startOnNewline:!1});if(!F.found){if(!F.anchor&&!F.tag&&!O&&!$){E===0&&F.comma?o(F.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`):E<s.items.length-1&&o(F.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${u}`),F.comment&&(p.comment?p.comment+=`
`+F.comment:p.comment=F.comment),y=F.end;continue}!c&&n.options.strict&&containsNewline(M)&&o(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(E===0)F.comma&&o(F.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`);else if(F.comma||o(F.start,"MISSING_CHAR",`Missing , between ${u} items`),F.comment){let U="";e:for(const D of N)switch(D.type){case"comma":case"space":break;case"comment":U=D.source.substring(1);break e;default:break e}if(U){let D=p.items[p.items.length-1];isPair(D)&&(D=D.value??D.key),D.comment?D.comment+=`
`+U:D.comment=U,F.comment=F.comment.substring(U.length+1)}}if(!c&&!O&&!F.found){const U=$?t(n,$,F,o):e(n,F.end,O,null,F,o);p.items.push(U),y=U.range[2],isBlock($)&&o(U.range,"BLOCK_IN_FLOW",blockMsg)}else{n.atKey=!0;const U=F.end,D=M?t(n,M,F,o):e(n,U,N,null,F,o);isBlock(M)&&o(D.range,"BLOCK_IN_FLOW",blockMsg),n.atKey=!1;const j=resolveProps(O??[],{flow:u,indicator:"map-value-ind",next:$,offset:D.range[2],onError:o,parentIndent:s.indent,startOnNewline:!1});if(j.found){if(!c&&!F.found&&n.options.strict){if(O)for(const P of O){if(P===j.found)break;if(P.type==="newline"){o(P,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}F.start<j.found.offset-1024&&o(j.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else $&&("source"in $&&$.source&&$.source[0]===":"?o($,"MISSING_CHAR",`Missing space after : in ${u}`):o(j.start,"MISSING_CHAR",`Missing , or : between ${u} items`));const W=$?t(n,$,j,o):j.found?e(n,j.end,O,null,j,o):null;W?isBlock($)&&o(W.range,"BLOCK_IN_FLOW",blockMsg):j.comment&&(D.comment?D.comment+=`
`+j.comment:D.comment=j.comment);const H=new Pair(D,W);if(n.options.keepSourceTokens&&(H.srcToken=C),c){const P=p;mapIncludes(n,P.items,D)&&o(U,"DUPLICATE_KEY","Map keys must be unique"),P.items.push(H)}else{const P=new YAMLMap(n.schema);P.flow=!0,P.items.push(H);const G=(W??D).range;P.range=[D.range[0],G[1],G[2]],p.items.push(P)}y=W?W.range[2]:j.end}}const x=c?"}":"]",[v,...T]=s.end;let S=y;if(v&&v.source===x)S=v.offset+v.source.length;else{const E=u[0].toUpperCase()+u.substring(1),C=g?`${E} must end with a ${x}`:`${E} in block collection must be sufficiently indented and end with a ${x}`;o(y,g?"MISSING_CHAR":"BAD_INDENT",C),v&&v.source.length!==1&&T.unshift(v)}if(T.length>0){const E=resolveEnd(T,S,n.options.strict,o);E.comment&&(p.comment?p.comment+=`
`+E.comment:p.comment=E.comment),p.range=[s.offset,S,E.offset]}else p.range=[s.offset,S,S];return p}function resolveCollection(t,e,n,s,o,a){const c=n.type==="block-map"?resolveBlockMap(t,e,n,s,a):n.type==="block-seq"?resolveBlockSeq(t,e,n,s,a):resolveFlowCollection(t,e,n,s,a),u=c.constructor;return o==="!"||o===u.tagName?(c.tag=u.tagName,c):(o&&(c.tag=o),c)}function composeCollection(t,e,n,s,o){var x;const a=s.tag,c=a?e.directives.tagName(a.source,v=>o(a,"TAG_RESOLVE_FAILED",v)):null;if(n.type==="block-seq"){const{anchor:v,newlineAfterProp:T}=s,S=v&&a?v.offset>a.offset?v:a:v??a;S&&(!T||T.offset<S.offset)&&o(S,"MISSING_CHAR","Missing newline after block sequence props")}const u=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!a||!c||c==="!"||c===YAMLMap.tagName&&u==="map"||c===YAMLSeq.tagName&&u==="seq")return resolveCollection(t,e,n,o,c);let d=e.schema.tags.find(v=>v.tag===c&&v.collection===u);if(!d){const v=e.schema.knownTags[c];if(v&&v.collection===u)e.schema.tags.push(Object.assign({},v,{default:!1})),d=v;else return v!=null&&v.collection?o(a,"BAD_COLLECTION_TYPE",`${v.tag} used for ${u} collection, but expects ${v.collection}`,!0):o(a,"TAG_RESOLVE_FAILED",`Unresolved tag: ${c}`,!0),resolveCollection(t,e,n,o,c)}const p=resolveCollection(t,e,n,o,c,d),g=((x=d.resolve)==null?void 0:x.call(d,p,v=>o(a,"TAG_RESOLVE_FAILED",v),e.options))??p,y=isNode(g)?g:new Scalar(g);return y.range=p.range,y.tag=c,d!=null&&d.format&&(y.format=d.format),y}function resolveBlockScalar(t,e,n){const s=e.offset,o=parseBlockScalarHeader(e,t.options.strict,n);if(!o)return{value:"",type:null,comment:"",range:[s,s,s]};const a=o.mode===">"?Scalar.BLOCK_FOLDED:Scalar.BLOCK_LITERAL,c=e.source?splitLines(e.source):[];let u=c.length;for(let S=c.length-1;S>=0;--S){const E=c[S][1];if(E===""||E==="\r")u=S;else break}if(u===0){const S=o.chomp==="+"&&c.length>0?`
`.repeat(Math.max(1,c.length-1)):"";let E=s+o.length;return e.source&&(E+=e.source.length),{value:S,type:a,comment:o.comment,range:[s,E,E]}}let d=e.indent+o.indent,p=e.offset+o.length,g=0;for(let S=0;S<u;++S){const[E,C]=c[S];if(C===""||C==="\r")o.indent===0&&E.length>d&&(d=E.length);else{E.length<d&&n(p+E.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),o.indent===0&&(d=E.length),g=S,d===0&&!t.atRoot&&n(p,"BAD_INDENT","Block scalar values in collections must be indented");break}p+=E.length+C.length+1}for(let S=c.length-1;S>=u;--S)c[S][0].length>d&&(u=S+1);let y="",x="",v=!1;for(let S=0;S<g;++S)y+=c[S][0].slice(d)+`
`;for(let S=g;S<u;++S){let[E,C]=c[S];p+=E.length+C.length+1;const N=C[C.length-1]==="\r";if(N&&(C=C.slice(0,-1)),C&&E.length<d){const O=`Block scalar lines must not be less indented than their ${o.indent?"explicit indentation indicator":"first line"}`;n(p-C.length-(N?2:1),"BAD_INDENT",O),E=""}a===Scalar.BLOCK_LITERAL?(y+=x+E.slice(d)+C,x=`
`):E.length>d||C[0]==="	"?(x===" "?x=`
`:!v&&x===`
`&&(x=`

`),y+=x+E.slice(d)+C,x=`
`,v=!0):C===""?x===`
`?y+=`
`:x=`
`:(y+=x+C,x=" ",v=!1)}switch(o.chomp){case"-":break;case"+":for(let S=u;S<c.length;++S)y+=`
`+c[S][0].slice(d);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}const T=s+o.length+e.source.length;return{value:y,type:a,comment:o.comment,range:[s,T,T]}}function parseBlockScalarHeader({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:o}=e[0],a=o[0];let c=0,u="",d=-1;for(let x=1;x<o.length;++x){const v=o[x];if(!u&&(v==="-"||v==="+"))u=v;else{const T=Number(v);!c&&T?c=T:d===-1&&(d=t+x)}}d!==-1&&s(d,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${o}`);let p=!1,g="",y=o.length;for(let x=1;x<e.length;++x){const v=e[x];switch(v.type){case"space":p=!0;case"newline":y+=v.source.length;break;case"comment":n&&!p&&s(v,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),y+=v.source.length,g=v.source.substring(1);break;case"error":s(v,"UNEXPECTED_TOKEN",v.message),y+=v.source.length;break;default:{const T=`Unexpected token in block scalar header: ${v.type}`;s(v,"UNEXPECTED_TOKEN",T);const S=v.source;S&&typeof S=="string"&&(y+=S.length)}}}return{mode:a,indent:c,chomp:u,comment:g,length:y}}function splitLines(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),a=[s!=null&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let c=1;c<e.length;c+=2)a.push([e[c],e[c+1]]);return a}function resolveFlowScalar(t,e,n){const{offset:s,type:o,source:a,end:c}=t;let u,d;const p=(x,v,T)=>n(s+x,v,T);switch(o){case"scalar":u=Scalar.PLAIN,d=plainValue(a,p);break;case"single-quoted-scalar":u=Scalar.QUOTE_SINGLE,d=singleQuotedValue(a,p);break;case"double-quoted-scalar":u=Scalar.QUOTE_DOUBLE,d=doubleQuotedValue(a,p);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${o}`),{value:"",type:null,comment:"",range:[s,s+a.length,s+a.length]}}const g=s+a.length,y=resolveEnd(c,g,e,n);return{value:d,type:u,comment:y.comment,range:[s,g,y.offset]}}function plainValue(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),foldLines(t)}function singleQuotedValue(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),foldLines(t.slice(1,-1)).replace(/''/g,"'")}function foldLines(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let o=s[1],a=" ",c=e.lastIndex;for(n.lastIndex=c;s=n.exec(t);)s[1]===""?a===`
`?o+=a:a=`
`:(o+=a+s[1],a=" "),c=n.lastIndex;const u=/[ \t]*(.*)/sy;return u.lastIndex=c,s=u.exec(t),o+a+((s==null?void 0:s[1])??"")}function doubleQuotedValue(t,e){let n="";for(let s=1;s<t.length-1;++s){const o=t[s];if(!(o==="\r"&&t[s+1]===`
`))if(o===`
`){const{fold:a,offset:c}=foldNewline(t,s);n+=a,s=c}else if(o==="\\"){let a=t[++s];const c=escapeCodes[a];if(c)n+=c;else if(a===`
`)for(a=t[s+1];a===" "||a==="	";)a=t[++s+1];else if(a==="\r"&&t[s+1]===`
`)for(a=t[++s+1];a===" "||a==="	";)a=t[++s+1];else if(a==="x"||a==="u"||a==="U"){const u={x:2,u:4,U:8}[a];n+=parseCharCode(t,s+1,u,e),s+=u}else{const u=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),n+=u}}else if(o===" "||o==="	"){const a=s;let c=t[s+1];for(;c===" "||c==="	";)c=t[++s+1];c!==`
`&&!(c==="\r"&&t[s+2]===`
`)&&(n+=s>a?t.slice(a,s+1):o)}else n+=o}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function foldNewline(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const escapeCodes={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function parseCharCode(t,e,n,s){const o=t.substr(e,n),c=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(c)){const u=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),u}return String.fromCodePoint(c)}function composeScalar(t,e,n,s){const{value:o,type:a,comment:c,range:u}=e.type==="block-scalar"?resolveBlockScalar(t,e,s):resolveFlowScalar(e,t.options.strict,s),d=n?t.directives.tagName(n.source,y=>s(n,"TAG_RESOLVE_FAILED",y)):null;let p;t.options.stringKeys&&t.atKey?p=t.schema[SCALAR$1]:d?p=findScalarTagByName(t.schema,o,d,n,s):e.type==="scalar"?p=findScalarTagByTest(t,o,e,s):p=t.schema[SCALAR$1];let g;try{const y=p.resolve(o,x=>s(n??e,"TAG_RESOLVE_FAILED",x),t.options);g=isScalar$1(y)?y:new Scalar(y)}catch(y){const x=y instanceof Error?y.message:String(y);s(n??e,"TAG_RESOLVE_FAILED",x),g=new Scalar(o)}return g.range=u,g.source=o,a&&(g.type=a),d&&(g.tag=d),p.format&&(g.format=p.format),c&&(g.comment=c),g}function findScalarTagByName(t,e,n,s,o){var u;if(n==="!")return t[SCALAR$1];const a=[];for(const d of t.tags)if(!d.collection&&d.tag===n)if(d.default&&d.test)a.push(d);else return d;for(const d of a)if((u=d.test)!=null&&u.test(e))return d;const c=t.knownTags[n];return c&&!c.collection?(t.tags.push(Object.assign({},c,{default:!1,test:void 0})),c):(o(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[SCALAR$1])}function findScalarTagByTest({atKey:t,directives:e,schema:n},s,o,a){const c=n.tags.find(u=>{var d;return(u.default===!0||t&&u.default==="key")&&((d=u.test)==null?void 0:d.test(s))})||n[SCALAR$1];if(n.compat){const u=n.compat.find(d=>{var p;return d.default&&((p=d.test)==null?void 0:p.test(s))})??n[SCALAR$1];if(c.tag!==u.tag){const d=e.tagString(c.tag),p=e.tagString(u.tag),g=`Value may be parsed as either ${d} or ${p}`;a(o,"TAG_RESOLVE_FAILED",g,!0)}}return c}function emptyScalarPosition(t,e,n){if(e){n===null&&(n=e.length);for(let s=n-1;s>=0;--s){let o=e[s];switch(o.type){case"space":case"comment":case"newline":t-=o.source.length;continue}for(o=e[++s];(o==null?void 0:o.type)==="space";)t+=o.source.length,o=e[++s];break}}return t}const CN={composeNode,composeEmptyNode};function composeNode(t,e,n,s){const o=t.atKey,{spaceBefore:a,comment:c,anchor:u,tag:d}=n;let p,g=!0;switch(e.type){case"alias":p=composeAlias(t,e,s),(u||d)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":p=composeScalar(t,e,d,s),u&&(p.anchor=u.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":p=composeCollection(CN,t,e,n,s),u&&(p.anchor=u.source.substring(1));break;default:{const y=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",y),p=composeEmptyNode(t,e.offset,void 0,null,n,s),g=!1}}return u&&p.anchor===""&&s(u,"BAD_ALIAS","Anchor cannot be an empty string"),o&&t.options.stringKeys&&(!isScalar$1(p)||typeof p.value!="string"||p.tag&&p.tag!=="tag:yaml.org,2002:str")&&s(d??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),a&&(p.spaceBefore=!0),c&&(e.type==="scalar"&&e.source===""?p.comment=c:p.commentBefore=c),t.options.keepSourceTokens&&g&&(p.srcToken=e),p}function composeEmptyNode(t,e,n,s,{spaceBefore:o,comment:a,anchor:c,tag:u,end:d},p){const g={type:"scalar",offset:emptyScalarPosition(e,n,s),indent:-1,source:""},y=composeScalar(t,g,u,p);return c&&(y.anchor=c.source.substring(1),y.anchor===""&&p(c,"BAD_ALIAS","Anchor cannot be an empty string")),o&&(y.spaceBefore=!0),a&&(y.comment=a,y.range[2]=d),y}function composeAlias({options:t},{offset:e,source:n,end:s},o){const a=new Alias(n.substring(1));a.source===""&&o(e,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&o(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const c=e+n.length,u=resolveEnd(s,c,t.strict,o);return a.range=[e,c,u.offset],u.comment&&(a.comment=u.comment),a}function composeDoc(t,e,{offset:n,start:s,value:o,end:a},c){const u=Object.assign({_directives:e},t),d=new Document(void 0,u),p={atKey:!1,atRoot:!0,directives:d.directives,options:d.options,schema:d.schema},g=resolveProps(s,{indicator:"doc-start",next:o??(a==null?void 0:a[0]),offset:n,onError:c,parentIndent:0,startOnNewline:!0});g.found&&(d.directives.docStart=!0,o&&(o.type==="block-map"||o.type==="block-seq")&&!g.hasNewline&&c(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),d.contents=o?composeNode(p,o,g,c):composeEmptyNode(p,g.end,s,null,g,c);const y=d.contents.range[2],x=resolveEnd(a,y,!1,c);return x.comment&&(d.comment=x.comment),d.range=[n,y,x.offset],d}function getErrorPos(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function parsePrelude(t){var o;let e="",n=!1,s=!1;for(let a=0;a<t.length;++a){const c=t[a];switch(c[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(c.substring(1)||" "),n=!0,s=!1;break;case"%":((o=t[a+1])==null?void 0:o[0])!=="#"&&(a+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class Composer{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,o,a)=>{const c=getErrorPos(n);a?this.warnings.push(new YAMLWarning(c,s,o)):this.errors.push(new YAMLParseError(c,s,o))},this.directives=new Directives({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:o}=parsePrelude(this.prelude);if(s){const a=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(o||e.directives.docStart||!a)e.commentBefore=s;else if(isCollection$1(a)&&!a.flow&&a.items.length>0){let c=a.items[0];isPair(c)&&(c=c.key);const u=c.commentBefore;c.commentBefore=u?`${s}
${u}`:s}else{const c=a.commentBefore;a.commentBefore=c?`${s}
${c}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:parsePrelude(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const o of e)yield*this.next(o);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,o)=>{const a=getErrorPos(e);a[0]+=n,this.onError(a,"BAD_DIRECTIVE",s,o)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new YAMLParseError(getErrorPos(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new YAMLParseError(getErrorPos(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new YAMLParseError(getErrorPos(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),o=new Document(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),o.range=[0,n,n],this.decorate(o,!1),yield o}}}function resolveAsScalar(t,e=!0,n){if(t){const s=(o,a,c)=>{const u=typeof o=="number"?o:Array.isArray(o)?o[0]:o.offset;if(n)n(u,a,c);else throw new YAMLParseError([u,u+1],a,c)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return resolveFlowScalar(t,e,s);case"block-scalar":return resolveBlockScalar({options:{strict:e}},t,s)}}return null}function createScalarToken(t,e){const{implicitKey:n=!1,indent:s,inFlow:o=!1,offset:a=-1,type:c="PLAIN"}=e,u=stringifyString({type:c,value:t},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),d=e.end??[{type:"newline",offset:-1,indent:s,source:`
`}];switch(u[0]){case"|":case">":{const p=u.indexOf(`
`),g=u.substring(0,p),y=u.substring(p+1)+`
`,x=[{type:"block-scalar-header",offset:a,indent:s,source:g}];return addEndtoBlockProps(x,d)||x.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:a,indent:s,props:x,source:y}}case'"':return{type:"double-quoted-scalar",offset:a,indent:s,source:u,end:d};case"'":return{type:"single-quoted-scalar",offset:a,indent:s,source:u,end:d};default:return{type:"scalar",offset:a,indent:s,source:u,end:d}}}function setScalarValue(t,e,n={}){let{afterKey:s=!1,implicitKey:o=!1,inFlow:a=!1,type:c}=n,u="indent"in t?t.indent:null;if(s&&typeof u=="number"&&(u+=2),!c)switch(t.type){case"single-quoted-scalar":c="QUOTE_SINGLE";break;case"double-quoted-scalar":c="QUOTE_DOUBLE";break;case"block-scalar":{const p=t.props[0];if(p.type!=="block-scalar-header")throw new Error("Invalid block scalar header");c=p.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:c="PLAIN"}const d=stringifyString({type:c,value:e},{implicitKey:o||u===null,indent:u!==null&&u>0?" ".repeat(u):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}});switch(d[0]){case"|":case">":setBlockScalarValue(t,d);break;case'"':setFlowScalarValue(t,d,"double-quoted-scalar");break;case"'":setFlowScalarValue(t,d,"single-quoted-scalar");break;default:setFlowScalarValue(t,d,"scalar")}}function setBlockScalarValue(t,e){const n=e.indexOf(`
`),s=e.substring(0,n),o=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const a=t.props[0];if(a.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a.source=s,t.source=o}else{const{offset:a}=t,c="indent"in t?t.indent:-1,u=[{type:"block-scalar-header",offset:a,indent:c,source:s}];addEndtoBlockProps(u,"end"in t?t.end:void 0)||u.push({type:"newline",offset:-1,indent:c,source:`
`});for(const d of Object.keys(t))d!=="type"&&d!=="offset"&&delete t[d];Object.assign(t,{type:"block-scalar",indent:c,props:u,source:o})}}function addEndtoBlockProps(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function setFlowScalarValue(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const s=t.props.slice(1);let o=e.length;t.props[0].type==="block-scalar-header"&&(o-=t.props[0].source.length);for(const a of s)a.offset+=o;delete t.props,Object.assign(t,{type:n,source:e,end:s});break}case"block-map":case"block-seq":{const o={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[o]});break}default:{const s="indent"in t?t.indent:-1,o="end"in t&&Array.isArray(t.end)?t.end.filter(a=>a.type==="space"||a.type==="comment"||a.type==="newline"):[];for(const a of Object.keys(t))a!=="type"&&a!=="offset"&&delete t[a];Object.assign(t,{type:n,indent:s,source:e,end:o})}}}const stringify$1=t=>"type"in t?stringifyToken(t):stringifyItem(t);function stringifyToken(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=stringifyToken(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=stringifyItem(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=stringifyItem(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=stringifyItem(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function stringifyItem({start:t,key:e,sep:n,value:s}){let o="";for(const a of t)o+=a.source;if(e&&(o+=stringifyToken(e)),n)for(const a of n)o+=a.source;return s&&(o+=stringifyToken(s)),o}const BREAK=Symbol("break visit"),SKIP=Symbol("skip children"),REMOVE=Symbol("remove item");function visit(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),_visit(Object.freeze([]),t,e)}visit.BREAK=BREAK;visit.SKIP=SKIP;visit.REMOVE=REMOVE;visit.itemAtPath=(t,e)=>{let n=t;for(const[s,o]of e){const a=n==null?void 0:n[s];if(a&&"items"in a)n=a.items[o];else return}return n};visit.parentCollection=(t,e)=>{const n=visit.itemAtPath(t,e.slice(0,-1)),s=e[e.length-1][0],o=n==null?void 0:n[s];if(o&&"items"in o)return o;throw new Error("Parent collection not found")};function _visit(t,e,n){let s=n(e,t);if(typeof s=="symbol")return s;for(const o of["key","value"]){const a=e[o];if(a&&"items"in a){for(let c=0;c<a.items.length;++c){const u=_visit(Object.freeze(t.concat([[o,c]])),a.items[c],n);if(typeof u=="number")c=u-1;else{if(u===BREAK)return BREAK;u===REMOVE&&(a.items.splice(c,1),c-=1)}}typeof s=="function"&&o==="key"&&(s=s(e,t))}}return typeof s=="function"?s(e,t):s}const BOM="\uFEFF",DOCUMENT="",FLOW_END="",SCALAR="",isCollection=t=>!!t&&"items"in t,isScalar=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function prettyToken(t){switch(t){case BOM:return"<BOM>";case DOCUMENT:return"<DOC>";case FLOW_END:return"<FLOW_END>";case SCALAR:return"<SCALAR>";default:return JSON.stringify(t)}}function tokenType(t){switch(t){case BOM:return"byte-order-mark";case DOCUMENT:return"doc-mode";case FLOW_END:return"flow-error-end";case SCALAR:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const cst=Object.freeze(Object.defineProperty({__proto__:null,BOM,DOCUMENT,FLOW_END,SCALAR,createScalarToken,isCollection,isScalar,prettyToken,resolveAsScalar,setScalarValue,stringify:stringify$1,tokenType,visit},Symbol.toStringTag,{value:"Module"}));function isEmpty(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const hexDigits=new Set("0123456789ABCDEFabcdef"),tagChars=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),flowIndicatorChars=new Set(",[]{}"),invalidAnchorChars=new Set(` ,[]{}
\r	`),isNotAnchorChar=t=>!t||invalidAnchorChars.has(t);class Lexer{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const o=this.buffer[s+e+1];if(o===`
`||!o&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&isEmpty(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,s=e.indexOf("#");for(;s!==-1;){const a=e[s-1];if(a===" "||a==="	"){n=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const a=e[n-1];if(a===" "||a==="	")n-=1;else break}const o=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-o),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!isEmpty(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&isEmpty(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const o=this.getLine();if(o===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&o[0]!=="#"||s===0&&(o.startsWith("---")||o.startsWith("..."))&&isEmpty(o[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(o[0]==="]"||o[0]==="}")))return this.flowLevel=0,yield FLOW_END,yield*this.parseLineStart();let a=0;for(;o[a]===",";)a+=yield*this.pushCount(1),a+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(a+=yield*this.pushIndicators(),o[a]){case void 0:return"flow";case"#":return yield*this.pushCount(o.length-a),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const c=this.charAt(1);if(this.flowKey||isEmpty(c)||c===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let a=0;for(;this.buffer[n-1-a]==="\\";)a+=1;if(a%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let o=s.indexOf(`
`,this.pos);if(o!==-1){for(;o!==-1;){const a=this.continueScalar(o+1);if(a===-1)break;o=s.indexOf(`
`,a)}o!==-1&&(n=o-(s[o-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>isEmpty(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let a=this.pos;s=this.buffer[a];++a)switch(s){case" ":n+=1;break;case`
`:e=a,n=0;break;case"\r":{const c=this.buffer[a+1];if(!c&&!this.atEnd)return this.setNext("block-scalar");if(c===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const a=this.continueScalar(e+1);if(a===-1)break;e=this.buffer.indexOf(`
`,a)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let o=e+1;for(s=this.buffer[o];s===" ";)s=this.buffer[++o];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++o];e=o-1}else if(!this.blockScalarKeep)do{let a=e-1,c=this.buffer[a];c==="\r"&&(c=this.buffer[--a]);const u=a;for(;c===" ";)c=this.buffer[--a];if(c===`
`&&a>=this.pos&&a+1+n>u)e=a;else break}while(!0);return yield SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,o;for(;o=this.buffer[++s];)if(o===":"){const a=this.buffer[s+1];if(isEmpty(a)||e&&flowIndicatorChars.has(a))break;n=s}else if(isEmpty(o)){let a=this.buffer[s+1];if(o==="\r"&&(a===`
`?(s+=1,o=`
`,a=this.buffer[s+1]):n=s),a==="#"||e&&flowIndicatorChars.has(a))break;if(o===`
`){const c=this.continueScalar(s+1);if(c===-1)break;s=Math.max(s,c-2)}}else{if(e&&flowIndicatorChars.has(o))break;n=s}return!o&&!this.atEnd?this.setNext("plain-scalar"):(yield SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(isNotAnchorChar))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(isEmpty(n)||e&&flowIndicatorChars.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!isEmpty(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(tagChars.has(n))n=this.buffer[++e];else if(n==="%"&&hexDigits.has(this.buffer[e+1])&&hexDigits.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const o=n-this.pos;return o>0&&(yield this.buffer.substr(this.pos,o),this.pos=n),o}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class LineCounter{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const a=n+s>>1;this.lineStarts[a]<e?n=a+1:s=a}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const o=this.lineStarts[n-1];return{line:n,col:e-o+1}}}}function includesToken(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function findNonEmptyIndex(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function isFlowToken(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function getPrevProps(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function getFirstKeyStartProps(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function fixFlowSeqItems(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!includesToken(e.start,"explicit-key-ind")&&!includesToken(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,isFlowToken(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Parser{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Lexer,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=tokenType(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&fixFlowSeqItems(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const o=s.items[s.items.length-1];if(o.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(o.sep)o.value=n;else{Object.assign(o,{key:n,sep:[]}),this.onKeyLine=!o.explicitKey;return}break}case"block-seq":{const o=s.items[s.items.length-1];o.value?s.items.push({start:[],value:n}):o.value=n;break}case"flow-collection":{const o=s.items[s.items.length-1];!o||o.value?s.items.push({start:[],key:n,sep:[]}):o.sep?o.value=n:Object.assign(o,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const o=n.items[n.items.length-1];o&&!o.sep&&!o.value&&o.start.length>0&&findNonEmptyIndex(o.start)===-1&&(n.indent===0||o.start.every(a=>a.type!=="comment"||a.indent<n.indent))&&(s.type==="document"?s.end=o.start:s.items.push({start:o.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{findNonEmptyIndex(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=getPrevProps(this.peek(2)),s=getFirstKeyStartProps(n);let o;e.end?(o=e.end,o.push(this.sourceToken),delete e.end):o=[this.sourceToken];const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const o="end"in n.value?n.value.end:void 0,a=Array.isArray(o)?o[o.length-1]:void 0;(a==null?void 0:a.type)==="comment"?o==null||o.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const o=e.items[e.items.length-2],a=(s=o==null?void 0:o.value)==null?void 0:s.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const o=!this.onKeyLine&&this.indent===e.indent,a=o&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let c=[];if(a&&n.sep&&!n.value){const u=[];for(let d=0;d<n.sep.length;++d){const p=n.sep[d];switch(p.type){case"newline":u.push(d);break;case"space":break;case"comment":p.indent>e.indent&&(u.length=0);break;default:u.length=0}}u.length>=2&&(c=n.sep.splice(u[1]))}switch(this.type){case"anchor":case"tag":a||n.value?(c.push(this.sourceToken),e.items.push({start:c}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):a||n.value?(c.push(this.sourceToken),e.items.push({start:c,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(includesToken(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:c,key:null,sep:[this.sourceToken]}]});else if(isFlowToken(n.key)&&!includesToken(n.sep,"newline")){const u=getFirstKeyStartProps(n.start),d=n.key,p=n.sep;p.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:d,sep:p}]})}else c.length>0?n.sep=n.sep.concat(c,this.sourceToken):n.sep.push(this.sourceToken);else if(includesToken(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const u=getFirstKeyStartProps(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||a?e.items.push({start:c,key:null,sep:[this.sourceToken]}):includesToken(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const u=this.flowScalar(this.type);a||n.value?(e.items.push({start:c,key:u,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(u):(Object.assign(n,{key:u,sep:[]}),this.onKeyLine=!0);return}default:{const u=this.startBlockValue(e);if(u){o&&u.type!=="block-seq"&&e.items.push({start:c}),this.stack.push(u);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const o="end"in n.value?n.value.end:void 0,a=Array.isArray(o)?o[o.length-1]:void 0;(a==null?void 0:a.type)==="comment"?o==null||o.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const o=e.items[e.items.length-2],a=(s=o==null?void 0:o.value)==null?void 0:s.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||includesToken(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const o=this.startBlockValue(e);if(o){this.stack.push(o);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:o,sep:[]}):n.sep?this.stack.push(o):Object.assign(n,{key:o,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const o=getPrevProps(s),a=getFirstKeyStartProps(o);fixFlowSeqItems(e);const c=e.end.splice(1,e.end.length);c.push(this.sourceToken);const u={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:a,key:e,sep:c}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=u}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=getPrevProps(e),s=getFirstKeyStartProps(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=getPrevProps(e),s=getFirstKeyStartProps(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function parseOptions(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new LineCounter||null,prettyErrors:e}}function parseAllDocuments(t,e={}){const{lineCounter:n,prettyErrors:s}=parseOptions(e),o=new Parser(n==null?void 0:n.addNewLine),a=new Composer(e),c=Array.from(a.compose(o.parse(t)));if(s&&n)for(const u of c)u.errors.forEach(prettifyError(t,n)),u.warnings.forEach(prettifyError(t,n));return c.length>0?c:Object.assign([],{empty:!0},a.streamInfo())}function parseDocument(t,e={}){const{lineCounter:n,prettyErrors:s}=parseOptions(e),o=new Parser(n==null?void 0:n.addNewLine),a=new Composer(e);let c=null;for(const u of a.compose(o.parse(t),!0,t.length))if(!c)c=u;else if(c.options.logLevel!=="silent"){c.errors.push(new YAMLParseError(u.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(c.errors.forEach(prettifyError(t,n)),c.warnings.forEach(prettifyError(t,n))),c}function parse(t,e,n){let s;typeof e=="function"?s=e:n===void 0&&e&&typeof e=="object"&&(n=e);const o=parseDocument(t,n);if(!o)return null;if(o.warnings.forEach(a=>warn(o.options.logLevel,a)),o.errors.length>0){if(o.options.logLevel!=="silent")throw o.errors[0];o.errors=[]}return o.toJS(Object.assign({reviver:s},n))}function stringify(t,e,n){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const o=Math.round(n);n=o<1?void 0:o>8?{indent:8}:{indent:o}}if(t===void 0){const{keepUndefined:o}=n??e??{};if(!o)return}return isDocument(t)&&!s?t.toString(n):new Document(t,s,n).toString(n)}const YAML=Object.freeze(Object.defineProperty({__proto__:null,Alias,CST:cst,Composer,Document,Lexer,LineCounter,Pair,Parser,Scalar,Schema,YAMLError,YAMLMap,YAMLParseError,YAMLSeq,YAMLWarning,isAlias,isCollection:isCollection$1,isDocument,isMap,isNode,isPair,isScalar:isScalar$1,isSeq,parse,parseAllDocuments,parseDocument,stringify,visit:visit$1,visitAsync},Symbol.toStringTag,{value:"Module"})),SnapshotTabsView=({action:t,sdkLanguage:e,testIdAttributeName:n,isInspecting:s,setIsInspecting:o,highlightedElement:a,setHighlightedElement:c})=>{const[u,d]=reactExports.useState("action"),[p,g]=useSetting("shouldPopulateCanvasFromScreenshot",!1),y=reactExports.useMemo(()=>collectSnapshots(t),[t]),x=reactExports.useMemo(()=>{const v=y[u];return v?extendSnapshot(v,p):void 0},[y,u,p]);return jsxRuntimeExports.jsxs("div",{className:"snapshot-tab vbox",children:[jsxRuntimeExports.jsxs(Toolbar,{children:[jsxRuntimeExports.jsx(ToolbarButton,{className:"pick-locator",title:"Pick locator",icon:"target",toggled:s,onClick:()=>o(!s)}),["action","before","after"].map(v=>jsxRuntimeExports.jsx(TabbedPaneTab,{id:v,title:renderTitle(v),selected:u===v,onSelect:()=>d(v)},v)),jsxRuntimeExports.jsx("div",{style:{flex:"auto"}}),jsxRuntimeExports.jsx(ToolbarButton,{icon:"link-external",title:"Open snapshot in a new tab",disabled:!(x!=null&&x.popoutUrl),onClick:()=>{const v=window.open((x==null?void 0:x.popoutUrl)||"","_blank");v==null||v.addEventListener("DOMContentLoaded",()=>{new InjectedScript(v,{isUnderTest,sdkLanguage:e,testIdAttributeName:n,stableRafCount:1,browserName:"chromium",inputFileRoleTextbox:!1,customEngines:[]}).consoleApi.install()})}})]}),jsxRuntimeExports.jsx(SnapshotView,{snapshotUrls:x,sdkLanguage:e,testIdAttributeName:n,isInspecting:s,setIsInspecting:o,highlightedElement:a,setHighlightedElement:c})]})},SnapshotView=({snapshotUrls:t,sdkLanguage:e,testIdAttributeName:n,isInspecting:s,setIsInspecting:o,highlightedElement:a,setHighlightedElement:c})=>{const u=reactExports.useRef(null),d=reactExports.useRef(null),[p,g]=reactExports.useState({viewport:kDefaultViewport,url:""}),y=reactExports.useRef({iteration:0,visibleIframe:0});return reactExports.useEffect(()=>{(async()=>{const x=y.current.iteration+1,v=1-y.current.visibleIframe;y.current.iteration=x;const T=await fetchSnapshotInfo(t==null?void 0:t.snapshotInfoUrl);if(y.current.iteration!==x)return;const S=[u,d][v].current;if(S){let E=()=>{};const C=new Promise(N=>E=N);try{S.addEventListener("load",E),S.addEventListener("error",E);const N=(t==null?void 0:t.snapshotUrl)||kBlankSnapshotUrl;S.contentWindow?S.contentWindow.location.replace(N):S.src=N,await C}catch{}finally{S.removeEventListener("load",E),S.removeEventListener("error",E)}}y.current.iteration===x&&(y.current.visibleIframe=v,g(T))})()},[t]),jsxRuntimeExports.jsxs("div",{className:"vbox",tabIndex:0,onKeyDown:x=>{x.key==="Escape"&&s&&o(!1)},children:[jsxRuntimeExports.jsx(InspectModeController,{isInspecting:s,sdkLanguage:e,testIdAttributeName:n,highlightedElement:a,setHighlightedElement:c,iframe:u.current,iteration:y.current.iteration}),jsxRuntimeExports.jsx(InspectModeController,{isInspecting:s,sdkLanguage:e,testIdAttributeName:n,highlightedElement:a,setHighlightedElement:c,iframe:d.current,iteration:y.current.iteration}),jsxRuntimeExports.jsx(SnapshotWrapper,{snapshotInfo:p,children:jsxRuntimeExports.jsxs("div",{className:"snapshot-switcher",children:[jsxRuntimeExports.jsx("iframe",{ref:u,name:"snapshot",title:"DOM Snapshot",className:clsx(y.current.visibleIframe===0&&"snapshot-visible")}),jsxRuntimeExports.jsx("iframe",{ref:d,name:"snapshot",title:"DOM Snapshot",className:clsx(y.current.visibleIframe===1&&"snapshot-visible")})]})})]})},SnapshotWrapper=({snapshotInfo:t,children:e})=>{const[n,s]=useMeasure(),a={width:t.viewport.width,height:t.viewport.height+40},c=Math.min(n.width/a.width,n.height/a.height,1),u={x:(n.width-a.width)/2,y:(n.height-a.height)/2};return jsxRuntimeExports.jsx("div",{ref:s,className:"snapshot-wrapper",children:jsxRuntimeExports.jsxs("div",{className:"snapshot-container",style:{width:a.width+"px",height:a.height+"px",transform:`translate(${u.x}px, ${u.y}px) scale(${c})`},children:[jsxRuntimeExports.jsx(BrowserFrame,{url:t.url}),e]})})};function renderTitle(t){return t==="before"?"Before":t==="after"?"After":t==="action"?"Action":t}const InspectModeController=({iframe:t,isInspecting:e,sdkLanguage:n,testIdAttributeName:s,highlightedElement:o,setHighlightedElement:a,iteration:c})=>(reactExports.useEffect(()=>{const u=o.lastEdited==="ariaSnapshot"?o.ariaSnapshot:void 0,d=o.lastEdited==="locator"?o.locator:void 0,p=!!u||!!d||e,g=[],y=new URLSearchParams(window.location.search).get("isUnderTest")==="true";try{createRecorders(g,p,n,s,y,"",t==null?void 0:t.contentWindow)}catch{}const x=u?parseAriaSnapshot(YAML,u):void 0,v=d?locatorOrSelectorAsSelector(n,d,s):void 0;for(const{recorder:T,frameSelector:S}of g){const E=v!=null&&v.startsWith(S)?v.substring(S.length).trim():void 0,C=(x==null?void 0:x.errors.length)===0?x.fragment:void 0;T.setUIState({mode:e?"inspecting":"none",actionSelector:E,ariaTemplate:C,language:n,testIdAttributeName:s,overlay:{offsetX:0}},{async elementPicked(N){a({locator:asLocator(n,S+N.selector),ariaSnapshot:N.ariaSnapshot,lastEdited:"none"})},highlightUpdated(){for(const N of g)N.recorder!==T&&N.recorder.clearHighlight()}})}},[t,e,o,a,n,s,c]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}));function createRecorders(t,e,n,s,o,a,c){if(!c)return;const u=c;if(!u._recorder&&e){const d=new InjectedScript(c,{isUnderTest:o,sdkLanguage:n,testIdAttributeName:s,stableRafCount:1,browserName:"chromium",inputFileRoleTextbox:!1,customEngines:[]}),p=new Recorder(d);u._injectedScript=d,u._recorder={recorder:p,frameSelector:a},o&&(window._weakRecordersForTest=window._weakRecordersForTest||new Set,window._weakRecordersForTest.add(new WeakRef(p)))}u._recorder&&t.push(u._recorder);for(let d=0;d<c.frames.length;++d){const p=c.frames[d],g=p.frameElement?u._injectedScript.generateSelectorSimple(p.frameElement,{omitInternalEngines:!0,testIdAttributeName:s})+" >> internal:control=enter-frame >> ":"";createRecorders(t,e,n,s,o,a+g,p)}}function collectSnapshots(t){if(!t)return{};let e=t.beforeSnapshot?{action:t,snapshotName:t.beforeSnapshot}:void 0;if(!e){for(let o=previousActionByEndTime(t);o;o=previousActionByEndTime(o))if(o.endTime<=t.startTime&&o.afterSnapshot){e={action:o,snapshotName:o.afterSnapshot};break}}let n=t.afterSnapshot?{action:t,snapshotName:t.afterSnapshot}:void 0;if(!n){let o;for(let a=nextActionByStartTime(t);a&&a.startTime<=t.endTime;a=nextActionByStartTime(a))a.endTime>t.endTime||!a.afterSnapshot||o&&o.endTime>a.endTime||(o=a);o?n={action:o,snapshotName:o.afterSnapshot}:n=e}const s=t.inputSnapshot?{action:t,snapshotName:t.inputSnapshot,hasInputTarget:!0}:n;return s&&(s.point=t.point),{action:s,before:e,after:n}}const isUnderTest=new URLSearchParams(window.location.search).has("isUnderTest"),serverParam=new URLSearchParams(window.location.search).get("server");function extendSnapshot(t,e){const n=new URLSearchParams;n.set("trace",context(t.action).traceUrl),n.set("name",t.snapshotName),isUnderTest&&n.set("isUnderTest","true"),t.point&&(n.set("pointX",String(t.point.x)),n.set("pointY",String(t.point.y)),t.hasInputTarget&&n.set("hasInputTarget","1")),e&&n.set("shouldPopulateCanvasFromScreenshot","1");const s=new URL(`snapshot/${t.action.pageId}?${n.toString()}`,window.location.href).toString(),o=new URL(`snapshotInfo/${t.action.pageId}?${n.toString()}`,window.location.href).toString(),a=new URLSearchParams;a.set("r",s),serverParam&&a.set("server",serverParam),a.set("trace",context(t.action).traceUrl),t.point&&(a.set("pointX",String(t.point.x)),a.set("pointY",String(t.point.y)),t.hasInputTarget&&n.set("hasInputTarget","1"));const c=new URL(`snapshot.html?${a.toString()}`,window.location.href).toString();return{snapshotInfoUrl:o,snapshotUrl:s,popoutUrl:c}}async function fetchSnapshotInfo(t){const e={url:"",viewport:kDefaultViewport,timestamp:void 0,wallTime:void 0};if(t){const s=await(await fetch(t)).json();s.error||(e.url=s.url,e.viewport=s.viewport,e.timestamp=s.timestamp,e.wallTime=s.wallTime)}return e}const kDefaultViewport={width:1280,height:720},kBlankSnapshotUrl='data:text/html,<body style="background: #ddd"></body>',StackFrameListView=ListView,StackTraceView=({stack:t,setSelectedFrame:e,selectedFrame:n})=>{const s=t||[];return jsxRuntimeExports.jsx(StackFrameListView,{name:"stack-trace",items:s,selectedItem:s[n],render:o=>{const a=o.file[1]===":"?"\\":"/";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"stack-trace-frame-function",children:o.function||"(anonymous)"}),jsxRuntimeExports.jsx("span",{className:"stack-trace-frame-location",children:o.file.split(a).pop()}),jsxRuntimeExports.jsx("span",{className:"stack-trace-frame-line",children:":"+o.line})]})},onSelected:o=>e(s.indexOf(o))})};function useSources(t,e,n,s,o){return useAsyncMemo(async()=>{var x,v,T,S;const a=t==null?void 0:t[e],c=a!=null&&a.file?a:o;if(!c)return{source:{file:"",errors:[],content:void 0},targetLine:0,highlight:[]};const u=c.file;let d=n.get(u);d||(d={errors:((x=o==null?void 0:o.source)==null?void 0:x.errors)||[],content:(v=o==null?void 0:o.source)==null?void 0:v.content},n.set(u,d));const p=(c==null?void 0:c.line)||((T=d.errors[0])==null?void 0:T.line)||0,g=s&&u.startsWith(s)?u.substring(s.length+1):u,y=d.errors.map(E=>({type:"error",line:E.line,message:E.message}));if(y.push({line:p,type:"running"}),((S=o==null?void 0:o.source)==null?void 0:S.content)!==void 0)d.content=o.source.content;else if(d.content===void 0||c===o){const E=await calculateSha1(u);try{let C=await fetch(`sha1/src@${E}.txt`);C.status===404&&(C=await fetch(`file?path=${encodeURIComponent(u)}`)),C.status>=400?d.content=`<Unable to read "${u}">`:d.content=await C.text()}catch{d.content=`<Unable to read "${u}">`}}return{source:d,highlight:y,targetLine:p,fileName:g,location:c}},[t,e,s,o],{source:{errors:[],content:"Loading…"},highlight:[]})}const SourceTab=({stack:t,sources:e,rootDir:n,fallbackLocation:s,stackFrameLocation:o,onOpenExternally:a})=>{const[c,u]=reactExports.useState(),[d,p]=reactExports.useState(0);reactExports.useEffect(()=>{c!==t&&(u(t),p(0))},[t,c,u,p]);const{source:g,highlight:y,targetLine:x,fileName:v,location:T}=useSources(t,d,e,n,s),S=reactExports.useCallback(()=>{T&&(a?a(T):window.location.href=`vscode://file//${T.file}:${T.line}`)},[a,T]),E=((t==null?void 0:t.length)??0)>1,C=getFileName(v);return jsxRuntimeExports.jsx(SplitView,{sidebarSize:200,orientation:o==="bottom"?"vertical":"horizontal",sidebarHidden:!E,main:jsxRuntimeExports.jsxs("div",{className:"vbox","data-testid":"source-code",children:[v&&jsxRuntimeExports.jsxs(Toolbar,{children:[jsxRuntimeExports.jsx("div",{className:"source-tab-file-name",title:v,children:jsxRuntimeExports.jsx("div",{children:C})}),jsxRuntimeExports.jsx(CopyToClipboard,{description:"Copy filename",value:C}),T&&jsxRuntimeExports.jsx(ToolbarButton,{icon:"link-external",title:"Open in VS Code",onClick:S})]}),jsxRuntimeExports.jsx(CodeMirrorWrapper,{text:g.content||"",language:"javascript",highlight:y,revealLine:x,readOnly:!0,lineNumbers:!0,dataTestId:"source-code-mirror"})]}),sidebar:jsxRuntimeExports.jsx(StackTraceView,{stack:t,selectedFrame:d,setSelectedFrame:p})})};async function calculateSha1(t){const e=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-1",e),s=[],o=new DataView(n);for(let a=0;a<o.byteLength;a+=1){const c=o.getUint8(a).toString(16).padStart(2,"0");s.push(c)}return s.join("")}function getFileName(t){if(!t)return"";const e=t!=null&&t.includes("/")?"/":"\\";return(t==null?void 0:t.split(e).pop())??""}const tileSize={width:200,height:45},frameMargin=2.5,rowHeight=tileSize.height+frameMargin*2,FilmStrip=({model:t,boundaries:e,previewPoint:n})=>{var g,y;const[s,o]=useMeasure(),a=reactExports.useRef(null);let c=0;if(a.current&&n){const x=a.current.getBoundingClientRect();c=(n.clientY-x.top+a.current.scrollTop)/rowHeight|0}const u=(y=(g=t==null?void 0:t.pages)==null?void 0:g[c])==null?void 0:y.screencastFrames;let d,p;if(n!==void 0&&u&&u.length){const x=e.minimum+(e.maximum-e.minimum)*n.x/s.width;d=u[upperBound(u,x,timeComparator)-1];const v={width:Math.min(800,window.innerWidth/2|0),height:Math.min(800,window.innerHeight/2|0)};p=d?inscribe({width:d.width,height:d.height},v):void 0}return jsxRuntimeExports.jsxs("div",{className:"film-strip",ref:o,children:[jsxRuntimeExports.jsx("div",{className:"film-strip-lanes",ref:a,children:t==null?void 0:t.pages.map((x,v)=>x.screencastFrames.length?jsxRuntimeExports.jsx(FilmStripLane,{boundaries:e,page:x,width:s.width},v):null)}),(n==null?void 0:n.x)!==void 0&&jsxRuntimeExports.jsxs("div",{className:"film-strip-hover",style:{top:s.bottom+5,left:Math.min(n.x,s.width-(p?p.width:0)-10)},children:[n.action&&jsxRuntimeExports.jsx("div",{className:"film-strip-hover-title",children:renderAction(n.action,n)}),d&&p&&jsxRuntimeExports.jsx("div",{style:{width:p.width,height:p.height},children:jsxRuntimeExports.jsx("img",{src:`sha1/${d.sha1}`,width:p.width,height:p.height})})]})]})},FilmStripLane=({boundaries:t,page:e,width:n})=>{const s={width:0,height:0},o=e.screencastFrames;for(const S of o)s.width=Math.max(s.width,S.width),s.height=Math.max(s.height,S.height);const a=inscribe(s,tileSize),c=o[0].timestamp,u=o[o.length-1].timestamp,d=t.maximum-t.minimum,p=(c-t.minimum)/d*n,g=(t.maximum-u)/d*n,x=(u-c)/d*n/(a.width+2*frameMargin)|0,v=(u-c)/x,T=[];for(let S=0;c&&v&&S<x;++S){const E=c+v*S,C=upperBound(o,E,timeComparator)-1;T.push(jsxRuntimeExports.jsx("div",{className:"film-strip-frame",style:{width:a.width,height:a.height,backgroundImage:`url(sha1/${o[C].sha1})`,backgroundSize:`${a.width}px ${a.height}px`,margin:frameMargin,marginRight:frameMargin}},S))}return T.push(jsxRuntimeExports.jsx("div",{className:"film-strip-frame",style:{width:a.width,height:a.height,backgroundImage:`url(sha1/${o[o.length-1].sha1})`,backgroundSize:`${a.width}px ${a.height}px`,margin:frameMargin,marginRight:frameMargin}},T.length)),jsxRuntimeExports.jsx("div",{className:"film-strip-lane",style:{marginLeft:p+"px",marginRight:g+"px"},children:T})};function timeComparator(t,e){return t-e.timestamp}function inscribe(t,e){const n=Math.max(t.width/e.width,t.height/e.height);return{width:t.width/n|0,height:t.height/n|0}}const Timeline=({model:t,boundaries:e,consoleEntries:n,onSelected:s,highlightedAction:o,highlightedEntry:a,highlightedConsoleEntry:c,selectedTime:u,setSelectedTime:d,sdkLanguage:p})=>{const[g,y]=useMeasure(),[x,v]=reactExports.useState(),[T,S]=reactExports.useState(),{offsets:E,curtainLeft:C,curtainRight:N}=reactExports.useMemo(()=>{let W=u||e;if(x&&x.startX!==x.endX){const ce=positionToTime(g.width,e,x.startX),xe=positionToTime(g.width,e,x.endX);W={minimum:Math.min(ce,xe),maximum:Math.max(ce,xe)}}const H=timeToPosition(g.width,e,W.minimum),G=timeToPosition(g.width,e,e.maximum)-timeToPosition(g.width,e,W.maximum);return{offsets:calculateDividerOffsets(g.width,e),curtainLeft:H,curtainRight:G}},[u,e,x,g]),M=reactExports.useMemo(()=>{const W=[];for(const H of(t==null?void 0:t.actions)||[])H.class!=="Test"&&W.push({action:H,leftTime:H.startTime,rightTime:H.endTime||e.maximum,leftPosition:timeToPosition(g.width,e,H.startTime),rightPosition:timeToPosition(g.width,e,H.endTime||e.maximum),active:!1,error:!!H.error});for(const H of(t==null?void 0:t.resources)||[]){const P=H._monotonicTime,G=H._monotonicTime+H.time;W.push({resource:H,leftTime:P,rightTime:G,leftPosition:timeToPosition(g.width,e,P),rightPosition:timeToPosition(g.width,e,G),active:!1,error:!1})}for(const H of n||[])W.push({consoleMessage:H,leftTime:H.timestamp,rightTime:H.timestamp,leftPosition:timeToPosition(g.width,e,H.timestamp),rightPosition:timeToPosition(g.width,e,H.timestamp),active:!1,error:H.isError});return W},[t,n,e,g]);reactExports.useMemo(()=>{for(const W of M)o?W.active=W.action===o:a?W.active=W.resource===a:c?W.active=W.consoleMessage===c:W.active=!1},[M,o,a,c]);const O=reactExports.useCallback(W=>{if(S(void 0),!y.current)return;const H=W.clientX-y.current.getBoundingClientRect().left,P=positionToTime(g.width,e,H),G=u?timeToPosition(g.width,e,u.minimum):0,ce=u?timeToPosition(g.width,e,u.maximum):0;u&&Math.abs(H-G)<10?v({startX:ce,endX:H,type:"resize"}):u&&Math.abs(H-ce)<10?v({startX:G,endX:H,type:"resize"}):u&&P>u.minimum&&P<u.maximum&&W.clientY-y.current.getBoundingClientRect().top<20?v({startX:G,endX:ce,pivot:H,type:"move"}):v({startX:H,endX:H,type:"resize"})},[e,g,y,u]),$=reactExports.useCallback(W=>{if(!y.current)return;const H=W.clientX-y.current.getBoundingClientRect().left,P=positionToTime(g.width,e,H),G=t==null?void 0:t.actions.findLast(de=>de.startTime<=P);if(!W.buttons){v(void 0);return}if(G&&s(G),!x)return;let ce=x;if(x.type==="resize")ce={...x,endX:H};else{const de=H-x.pivot;let Q=x.startX+de,ne=x.endX+de;Q<0&&(Q=0,ne=Q+(x.endX-x.startX)),ne>g.width&&(ne=g.width,Q=ne-(x.endX-x.startX)),ce={...x,startX:Q,endX:ne,pivot:H}}v(ce);const xe=positionToTime(g.width,e,ce.startX),Ee=positionToTime(g.width,e,ce.endX);xe!==Ee&&d({minimum:Math.min(xe,Ee),maximum:Math.max(xe,Ee)})},[e,x,g,t,s,y,d]),F=reactExports.useCallback(()=>{if(S(void 0),!!x){if(x.startX!==x.endX){const W=positionToTime(g.width,e,x.startX),H=positionToTime(g.width,e,x.endX);d({minimum:Math.min(W,H),maximum:Math.max(W,H)})}else{const W=positionToTime(g.width,e,x.startX),H=t==null?void 0:t.actions.findLast(P=>P.startTime<=W);H&&s(H),d(void 0)}v(void 0)}},[e,x,g,t,d,s]),U=reactExports.useCallback(W=>{if(!y.current)return;const H=W.clientX-y.current.getBoundingClientRect().left,P=positionToTime(g.width,e,H),G=t==null?void 0:t.actions.findLast(ce=>ce.startTime<=P);S({x:H,clientY:W.clientY,action:G,sdkLanguage:p})},[e,g,t,y,p]),D=reactExports.useCallback(()=>{S(void 0)},[]),j=reactExports.useCallback(()=>{d(void 0)},[d]);return jsxRuntimeExports.jsxs("div",{style:{flex:"none",borderBottom:"1px solid var(--vscode-panel-border)"},children:[!!x&&jsxRuntimeExports.jsx(GlassPane,{cursor:(x==null?void 0:x.type)==="resize"?"ew-resize":"grab",onPaneMouseUp:F,onPaneMouseMove:$,onPaneDoubleClick:j}),jsxRuntimeExports.jsxs("div",{ref:y,className:"timeline-view",onMouseDown:O,onMouseMove:U,onMouseLeave:D,children:[jsxRuntimeExports.jsx("div",{className:"timeline-grid",children:E.map((W,H)=>jsxRuntimeExports.jsx("div",{className:"timeline-divider",style:{left:W.position+"px"},children:jsxRuntimeExports.jsx("div",{className:"timeline-time",children:msToString(W.time-e.minimum)})},H))}),jsxRuntimeExports.jsx("div",{style:{height:8}}),jsxRuntimeExports.jsx(FilmStrip,{model:t,boundaries:e,previewPoint:T}),jsxRuntimeExports.jsx("div",{className:"timeline-bars",children:M.map((W,H)=>jsxRuntimeExports.jsx("div",{className:clsx("timeline-bar",W.action&&"action",W.resource&&"network",W.consoleMessage&&"console-message",W.active&&"active",W.error&&"error"),style:{left:W.leftPosition,width:Math.max(5,W.rightPosition-W.leftPosition),top:barTop(W),bottom:0}},H))}),jsxRuntimeExports.jsx("div",{className:"timeline-marker",style:{display:T!==void 0?"block":"none",left:((T==null?void 0:T.x)||0)+"px"}}),u&&jsxRuntimeExports.jsxs("div",{className:"timeline-window",children:[jsxRuntimeExports.jsx("div",{className:"timeline-window-curtain left",style:{width:C}}),jsxRuntimeExports.jsx("div",{className:"timeline-window-resizer",style:{left:-5}}),jsxRuntimeExports.jsx("div",{className:"timeline-window-center",children:jsxRuntimeExports.jsx("div",{className:"timeline-window-drag"})}),jsxRuntimeExports.jsx("div",{className:"timeline-window-resizer",style:{left:5}}),jsxRuntimeExports.jsx("div",{className:"timeline-window-curtain right",style:{width:N}})]})]})]})};function calculateDividerOffsets(t,e){let s=t/64;const o=e.maximum-e.minimum,a=t/o;let c=o/s;const u=Math.ceil(Math.log(c)/Math.LN10);c=Math.pow(10,u),c*a>=5*64&&(c=c/5),c*a>=2*64&&(c=c/2);const d=e.minimum;let p=e.maximum;p+=64/a,s=Math.ceil((p-d)/c),c||(s=0);const g=[];for(let y=0;y<s;++y){const x=d+c*y;g.push({position:timeToPosition(t,e,x),time:x})}return g}function timeToPosition(t,e,n){return(n-e.minimum)/(e.maximum-e.minimum)*t}function positionToTime(t,e,n){return n/t*(e.maximum-e.minimum)+e.minimum}function barTop(t){return t.resource?25:20}const MetadataView=({model:t})=>{var n,s;if(!t)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});const e=t.wallTime!==void 0?new Date(t.wallTime).toLocaleString(void 0,{timeZoneName:"short"}):void 0;return jsxRuntimeExports.jsxs("div",{"data-testid":"metadata-view",className:"vbox",style:{flexShrink:0},children:[jsxRuntimeExports.jsx("div",{className:"call-section",style:{paddingTop:2},children:"Time"}),!!e&&jsxRuntimeExports.jsxs("div",{className:"call-line",children:["start time:",jsxRuntimeExports.jsx("span",{className:"call-value datetime",title:e,children:e})]}),jsxRuntimeExports.jsxs("div",{className:"call-line",children:["duration:",jsxRuntimeExports.jsx("span",{className:"call-value number",title:msToString(t.endTime-t.startTime),children:msToString(t.endTime-t.startTime)})]}),jsxRuntimeExports.jsx("div",{className:"call-section",children:"Browser"}),jsxRuntimeExports.jsxs("div",{className:"call-line",children:["engine:",jsxRuntimeExports.jsx("span",{className:"call-value string",title:t.browserName,children:t.browserName})]}),t.channel&&jsxRuntimeExports.jsxs("div",{className:"call-line",children:["channel:",jsxRuntimeExports.jsx("span",{className:"call-value string",title:t.channel,children:t.channel})]}),t.platform&&jsxRuntimeExports.jsxs("div",{className:"call-line",children:["platform:",jsxRuntimeExports.jsx("span",{className:"call-value string",title:t.platform,children:t.platform})]}),t.options.userAgent&&jsxRuntimeExports.jsxs("div",{className:"call-line",children:["user agent:",jsxRuntimeExports.jsx("span",{className:"call-value datetime",title:t.options.userAgent,children:t.options.userAgent})]}),t.options.baseURL&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"call-section",style:{paddingTop:2},children:"Config"}),jsxRuntimeExports.jsxs("div",{className:"call-line",children:["baseURL:",jsxRuntimeExports.jsx("a",{className:"call-value string",href:t.options.baseURL,title:t.options.baseURL,target:"_blank",rel:"noopener noreferrer",children:t.options.baseURL})]})]}),jsxRuntimeExports.jsx("div",{className:"call-section",children:"Viewport"}),t.options.viewport&&jsxRuntimeExports.jsxs("div",{className:"call-line",children:["width:",jsxRuntimeExports.jsx("span",{className:"call-value number",title:String(!!((n=t.options.viewport)!=null&&n.width)),children:t.options.viewport.width})]}),t.options.viewport&&jsxRuntimeExports.jsxs("div",{className:"call-line",children:["height:",jsxRuntimeExports.jsx("span",{className:"call-value number",title:String(!!((s=t.options.viewport)!=null&&s.height)),children:t.options.viewport.height})]}),jsxRuntimeExports.jsxs("div",{className:"call-line",children:["is mobile:",jsxRuntimeExports.jsx("span",{className:"call-value boolean",title:String(!!t.options.isMobile),children:String(!!t.options.isMobile)})]}),t.options.deviceScaleFactor&&jsxRuntimeExports.jsxs("div",{className:"call-line",children:["device scale:",jsxRuntimeExports.jsx("span",{className:"call-value number",title:String(t.options.deviceScaleFactor),children:String(t.options.deviceScaleFactor)})]}),jsxRuntimeExports.jsx("div",{className:"call-section",children:"Counts"}),jsxRuntimeExports.jsxs("div",{className:"call-line",children:["pages:",jsxRuntimeExports.jsx("span",{className:"call-value number",children:t.pages.length})]}),jsxRuntimeExports.jsxs("div",{className:"call-line",children:["actions:",jsxRuntimeExports.jsx("span",{className:"call-value number",children:t.actions.length})]}),jsxRuntimeExports.jsxs("div",{className:"call-line",children:["events:",jsxRuntimeExports.jsx("span",{className:"call-value number",children:t.events.length})]})]})},AnnotationsTab=({annotations:t})=>t.length?jsxRuntimeExports.jsx("div",{className:"annotations-tab",children:t.map((e,n)=>jsxRuntimeExports.jsxs("div",{className:"annotation-item",children:[jsxRuntimeExports.jsx("span",{style:{fontWeight:"bold"},children:e.type}),e.description&&jsxRuntimeExports.jsxs("span",{children:[": ",linkifyText(e.description)]})]},`annotation-${n}`))}):jsxRuntimeExports.jsx(PlaceholderPanel,{text:"No annotations"}),InspectorTab=({sdkLanguage:t,setIsInspecting:e,highlightedElement:n,setHighlightedElement:s})=>{const[o,a]=reactExports.useState(),c=reactExports.useCallback(u=>{const{errors:d}=parseAriaSnapshot(YAML,u,{prettyErrors:!1}),p=d.map(g=>({message:g.message,line:g.range[1].line,column:g.range[1].col,type:"subtle-error"}));a(p),s({...n,ariaSnapshot:u,lastEdited:"ariaSnapshot"}),e(!1)},[n,s,e]);return jsxRuntimeExports.jsxs("div",{style:{flex:"auto",backgroundColor:"var(--vscode-sideBar-background)",padding:"0 10px 10px 10px",overflow:"auto"},children:[jsxRuntimeExports.jsxs("div",{className:"hbox",style:{lineHeight:"28px",color:"var(--vscode-editorCodeLens-foreground)"},children:[jsxRuntimeExports.jsx("div",{style:{flex:"auto"},children:"Locator"}),jsxRuntimeExports.jsx(ToolbarButton,{icon:"files",title:"Copy locator",onClick:()=>{copy(n.locator||"")}})]}),jsxRuntimeExports.jsx("div",{style:{height:50},children:jsxRuntimeExports.jsx(CodeMirrorWrapper,{text:n.locator||"",language:t,isFocused:!0,wrapLines:!0,onChange:u=>{s({...n,locator:u,lastEdited:"locator"}),e(!1)}})}),jsxRuntimeExports.jsxs("div",{className:"hbox",style:{lineHeight:"28px",color:"var(--vscode-editorCodeLens-foreground)"},children:[jsxRuntimeExports.jsx("div",{style:{flex:"auto"},children:"Aria snapshot"}),jsxRuntimeExports.jsx(ToolbarButton,{icon:"files",title:"Copy snapshot",onClick:()=>{copy(n.ariaSnapshot||"")}})]}),jsxRuntimeExports.jsx("div",{style:{height:150},children:jsxRuntimeExports.jsx(CodeMirrorWrapper,{text:n.ariaSnapshot||"",language:"yaml",wrapLines:!1,highlight:o,onChange:c})})]})},Workbench=({model:t,showSourcesFirst:e,rootDir:n,fallbackLocation:s,isLive:o,hideTimeline:a,status:c,annotations:u,inert:d,onOpenExternally:p,revealSource:g})=>{var Wn;const[y,x]=reactExports.useState(void 0),[v,T]=reactExports.useState(void 0),[S,E]=reactExports.useState(void 0),[C,N]=reactExports.useState(),[M,O]=reactExports.useState(),[$,F]=reactExports.useState(),[U,D]=reactExports.useState("actions"),[j,W]=useSetting("propertiesTab",e?"source":"call"),[H,P]=reactExports.useState(!1),[G,ce]=reactExports.useState({lastEdited:"none"}),[xe,Ee]=reactExports.useState(),[de,Q]=useSetting("propertiesSidebarLocation","bottom"),ne=reactExports.useCallback(ie=>{x(ie==null?void 0:ie.callId),T(void 0)},[]),J=reactExports.useMemo(()=>t==null?void 0:t.actions.find(ie=>ie.callId===C),[t,C]),A=reactExports.useCallback(ie=>{N(ie==null?void 0:ie.callId)},[]),B=reactExports.useMemo(()=>(t==null?void 0:t.sources)||new Map,[t]);reactExports.useEffect(()=>{Ee(void 0),T(void 0)},[t]);const le=reactExports.useMemo(()=>{if(y){const We=t==null?void 0:t.actions.find(lt=>lt.callId===y);if(We)return We}const ie=t==null?void 0:t.failedAction();if(ie)return ie;if(t!=null&&t.actions.length){let We=t.actions.length-1;for(let lt=0;lt<t.actions.length;++lt)if(t.actions[lt].apiName==="After Hooks"&&lt){We=lt-1;break}return t.actions[We]}},[t,y]),ae=reactExports.useMemo(()=>J||le,[le,J]),he=reactExports.useMemo(()=>v?v.stack:ae==null?void 0:ae.stack,[ae,v]),fe=reactExports.useCallback(ie=>{ne(ie),A(void 0)},[ne,A]),ue=reactExports.useCallback(ie=>{W(ie),ie!=="inspector"&&P(!1)},[W]),me=reactExports.useCallback(ie=>{!H&&ie&&ue("inspector"),P(ie)},[P,ue,H]),we=reactExports.useCallback(ie=>{ce(ie),ue("inspector")},[ue]),Ve=reactExports.useCallback(ie=>{ue("attachments"),E(We=>{if(!We)return[ie,0];const lt=We[1];return[ie,lt+1]})},[ue]);reactExports.useEffect(()=>{g&&ue("source")},[g,ue]);const jt=useConsoleTabModel(t,xe),Un=useNetworkTabModel(t,xe),Zt=useErrorsTabModel(t),gt=(t==null?void 0:t.sdkLanguage)||"javascript",Rr={id:"inspector",title:"Locator",render:()=>jsxRuntimeExports.jsx(InspectorTab,{sdkLanguage:gt,setIsInspecting:me,highlightedElement:G,setHighlightedElement:ce})},jr={id:"call",title:"Call",render:()=>jsxRuntimeExports.jsx(CallTab,{action:ae,startTimeOffset:(t==null?void 0:t.startTime)??0,sdkLanguage:gt})},Vn={id:"log",title:"Log",render:()=>jsxRuntimeExports.jsx(LogTab,{action:ae,isLive:o})},Lr={id:"errors",title:"Errors",errorCount:Zt.errors.size,render:()=>jsxRuntimeExports.jsx(ErrorsTab,{errorsModel:Zt,sdkLanguage:gt,revealInSource:ie=>{ie.action?ne(ie.action):T(ie),ue("source")},wallTime:(t==null?void 0:t.wallTime)??0})};let mn;!le&&s&&(mn=(Wn=s.source)==null?void 0:Wn.errors.length);const Et={id:"source",title:"Source",errorCount:mn,render:()=>jsxRuntimeExports.jsx(SourceTab,{stack:he,sources:B,rootDir:n,stackFrameLocation:de==="bottom"?"right":"bottom",fallbackLocation:s,onOpenExternally:p})},Lt={id:"console",title:"Console",count:jt.entries.length,render:()=>jsxRuntimeExports.jsx(ConsoleTab,{consoleModel:jt,boundaries:gn,selectedTime:xe,onAccepted:ie=>Ee({minimum:ie.timestamp,maximum:ie.timestamp}),onEntryHovered:F})},qn={id:"network",title:"Network",count:Un.resources.length,render:()=>jsxRuntimeExports.jsx(NetworkTab,{boundaries:gn,networkModel:Un,onEntryHovered:O,sdkLanguage:(t==null?void 0:t.sdkLanguage)??"javascript"})},Ir={id:"attachments",title:"Attachments",count:t==null?void 0:t.visibleAttachments.length,render:()=>jsxRuntimeExports.jsx(AttachmentsTab,{model:t,revealedAttachment:S})},It=[Rr,jr,Vn,Lr,Lt,qn,Et,Ir];if(u!==void 0){const ie={id:"annotations",title:"Annotations",count:u.length,render:()=>jsxRuntimeExports.jsx(AnnotationsTab,{annotations:u})};It.push(ie)}if(e){const ie=It.indexOf(Et);It.splice(ie,1),It.splice(1,0,Et)}const{boundaries:gn}=reactExports.useMemo(()=>{const ie={minimum:(t==null?void 0:t.startTime)||0,maximum:(t==null?void 0:t.endTime)||3e4};return ie.minimum>ie.maximum&&(ie.minimum=0,ie.maximum=3e4),ie.maximum+=(ie.maximum-ie.minimum)/20,{boundaries:ie}},[t]);let en=0;!o&&t&&t.endTime>=0?en=t.endTime-t.startTime:t&&t.wallTime&&(en=Date.now()-t.wallTime);const Hn={id:"actions",title:"Actions",component:jsxRuntimeExports.jsxs("div",{className:"vbox",children:[c&&jsxRuntimeExports.jsxs("div",{className:"workbench-run-status",children:[jsxRuntimeExports.jsx("span",{className:clsx("codicon",testStatusIcon(c))}),jsxRuntimeExports.jsx("div",{children:testStatusText(c)}),jsxRuntimeExports.jsx("div",{className:"spacer"}),jsxRuntimeExports.jsx("div",{className:"workbench-run-duration",children:en?msToString(en):""})]}),jsxRuntimeExports.jsx(ActionList,{sdkLanguage:gt,actions:(t==null?void 0:t.actions)||[],selectedAction:t?le:void 0,selectedTime:xe,setSelectedTime:Ee,onSelected:fe,onHighlighted:A,revealAttachment:Ve,revealConsole:()=>ue("console"),isLive:o})]})},yn={id:"metadata",title:"Metadata",component:jsxRuntimeExports.jsx(MetadataView,{model:t})};return jsxRuntimeExports.jsxs("div",{className:"vbox workbench",...d?{inert:"true"}:{},children:[!a&&jsxRuntimeExports.jsx(Timeline,{model:t,consoleEntries:jt.entries,boundaries:gn,highlightedAction:J,highlightedEntry:M,highlightedConsoleEntry:$,onSelected:fe,sdkLanguage:gt,selectedTime:xe,setSelectedTime:Ee}),jsxRuntimeExports.jsx(SplitView,{sidebarSize:250,orientation:de==="bottom"?"vertical":"horizontal",settingName:"propertiesSidebar",main:jsxRuntimeExports.jsx(SplitView,{sidebarSize:250,orientation:"horizontal",sidebarIsFirst:!0,settingName:"actionListSidebar",main:jsxRuntimeExports.jsx(SnapshotTabsView,{action:ae,model:t,sdkLanguage:gt,testIdAttributeName:(t==null?void 0:t.testIdAttributeName)||"data-testid",isInspecting:H,setIsInspecting:me,highlightedElement:G,setHighlightedElement:we}),sidebar:jsxRuntimeExports.jsx(TabbedPane,{tabs:[Hn,yn],selectedTab:U,setSelectedTab:D})}),sidebar:jsxRuntimeExports.jsx(TabbedPane,{tabs:It,selectedTab:j,setSelectedTab:ue,rightToolbar:[de==="bottom"?jsxRuntimeExports.jsx(ToolbarButton,{title:"Dock to right",icon:"layout-sidebar-right-off",onClick:()=>{Q("right")}}):jsxRuntimeExports.jsx(ToolbarButton,{title:"Dock to bottom",icon:"layout-panel-off",onClick:()=>{Q("bottom")}})],mode:de==="bottom"?"default":"select"})})]})};var Disposable;(t=>{function e(n){for(const s of n.splice(0))s.dispose()}t.disposeAll=e})(Disposable||(Disposable={}));class EventEmitter{constructor(){this._listeners=new Set,this.event=(e,n)=>{this._listeners.add(e);let s=!1;const o=this,a={dispose(){s||(s=!0,o._listeners.delete(e))}};return n&&n.push(a),a}}fire(e){const n=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(const s of this._listeners)this._deliveryQueue.push({listener:s,event:e});if(n){for(let s=0;s<this._deliveryQueue.length;s++){const{listener:o,event:a}=this._deliveryQueue[s];o.call(null,a)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}}class WebSocketTestServerTransport{constructor(e){this._ws=new WebSocket(e)}onmessage(e){this._ws.addEventListener("message",n=>e(n.data.toString()))}onopen(e){this._ws.addEventListener("open",e)}onerror(e){this._ws.addEventListener("error",e)}onclose(e){this._ws.addEventListener("close",e)}send(e){this._ws.send(e)}close(){this._ws.close()}}class TestServerConnection{constructor(e){this._onCloseEmitter=new EventEmitter,this._onReportEmitter=new EventEmitter,this._onStdioEmitter=new EventEmitter,this._onTestFilesChangedEmitter=new EventEmitter,this._onLoadTraceRequestedEmitter=new EventEmitter,this._lastId=0,this._callbacks=new Map,this._isClosed=!1,this.onClose=this._onCloseEmitter.event,this.onReport=this._onReportEmitter.event,this.onStdio=this._onStdioEmitter.event,this.onTestFilesChanged=this._onTestFilesChangedEmitter.event,this.onLoadTraceRequested=this._onLoadTraceRequestedEmitter.event,this._transport=e,this._transport.onmessage(s=>{const o=JSON.parse(s),{id:a,result:c,error:u,method:d,params:p}=o;if(a){const g=this._callbacks.get(a);if(!g)return;this._callbacks.delete(a),u?g.reject(new Error(u)):g.resolve(c)}else this._dispatchEvent(d,p)});const n=setInterval(()=>this._sendMessage("ping").catch(()=>{}),3e4);this._connectedPromise=new Promise((s,o)=>{this._transport.onopen(s),this._transport.onerror(o)}),this._transport.onclose(()=>{this._isClosed=!0,this._onCloseEmitter.fire(),clearInterval(n)})}isClosed(){return this._isClosed}async _sendMessage(e,n){const s=globalThis.__logForTest;s==null||s({method:e,params:n}),await this._connectedPromise;const o=++this._lastId,a={id:o,method:e,params:n};return this._transport.send(JSON.stringify(a)),new Promise((c,u)=>{this._callbacks.set(o,{resolve:c,reject:u})})}_sendMessageNoReply(e,n){this._sendMessage(e,n).catch(()=>{})}_dispatchEvent(e,n){e==="report"?this._onReportEmitter.fire(n):e==="stdio"?this._onStdioEmitter.fire(n):e==="testFilesChanged"?this._onTestFilesChangedEmitter.fire(n):e==="loadTraceRequested"&&this._onLoadTraceRequestedEmitter.fire(n)}async initialize(e){await this._sendMessage("initialize",e)}async ping(e){await this._sendMessage("ping",e)}async pingNoReply(e){this._sendMessageNoReply("ping",e)}async watch(e){await this._sendMessage("watch",e)}watchNoReply(e){this._sendMessageNoReply("watch",e)}async open(e){await this._sendMessage("open",e)}openNoReply(e){this._sendMessageNoReply("open",e)}async resizeTerminal(e){await this._sendMessage("resizeTerminal",e)}resizeTerminalNoReply(e){this._sendMessageNoReply("resizeTerminal",e)}async checkBrowsers(e){return await this._sendMessage("checkBrowsers",e)}async installBrowsers(e){await this._sendMessage("installBrowsers",e)}async runGlobalSetup(e){return await this._sendMessage("runGlobalSetup",e)}async runGlobalTeardown(e){return await this._sendMessage("runGlobalTeardown",e)}async startDevServer(e){return await this._sendMessage("startDevServer",e)}async stopDevServer(e){return await this._sendMessage("stopDevServer",e)}async clearCache(e){return await this._sendMessage("clearCache",e)}async listFiles(e){return await this._sendMessage("listFiles",e)}async listTests(e){return await this._sendMessage("listTests",e)}async runTests(e){return await this._sendMessage("runTests",e)}async findRelatedTestFiles(e){return await this._sendMessage("findRelatedTestFiles",e)}async stopTests(e){await this._sendMessage("stopTests",e)}stopTestsNoReply(e){this._sendMessageNoReply("stopTests",e)}async closeGracefully(e){await this._sendMessage("closeGracefully",e)}close(){try{this._transport.close()}catch{}}}const SettingsView=({settings:t})=>jsxRuntimeExports.jsx("div",{className:"vbox settings-view",children:t.map(({value:e,set:n,name:s,title:o})=>{const a=`setting-${s}`;return jsxRuntimeExports.jsxs("div",{className:"setting",title:o,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:a,checked:e,onChange:()=>n(!e)}),jsxRuntimeExports.jsx("label",{htmlFor:a,children:s})]},s)})}),DefaultSettingsView=()=>{const[t,e]=useSetting("shouldPopulateCanvasFromScreenshot",!1),[n,s]=useDarkModeSetting();return jsxRuntimeExports.jsx(SettingsView,{settings:[{value:n,set:s,name:"Dark mode"},{value:t,set:e,name:"Display canvas content",title:"Attempt to display the captured canvas appearance in the snapshot preview. May not be accurate."}]})};export{DefaultSettingsView as D,Expandable as E,MultiTraceModel as M,React as R,SplitView as S,ToolbarButton as T,WebSocketTestServerTransport as W,__vitePreload as _,TestServerConnection as a,Workbench as b,applyTheme as c,clientExports as d,currentTheme as e,addThemeListener as f,removeThemeListener as g,clsx as h,TreeView as i,jsxRuntimeExports as j,Toolbar as k,useSetting as l,msToString as m,getDefaultExportFromCjs as n,reactExports as r,settings as s,testStatusIcon as t,useMeasure as u};
